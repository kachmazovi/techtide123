var hp=Object.defineProperty,jw=Object.defineProperties;var Bw=Object.getOwnPropertyDescriptors;var lp=Object.getOwnPropertySymbols;var Uw=Object.prototype.hasOwnProperty,$w=Object.prototype.propertyIsEnumerable;var dp=(t,e,n)=>e in t?hp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$e=(t,e)=>{for(var n in e||={})Uw.call(e,n)&&dp(t,n,e[n]);if(lp)for(var n of lp(e))$w.call(e,n)&&dp(t,n,e[n]);return t},rt=(t,e)=>jw(t,Bw(e));var vx=(t,e)=>{for(var n in e)hp(t,n,{get:e[n],enumerable:!0})};var P=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{u(n.next(c))}catch(h){i(h)}},s=c=>{try{u(n.throw(c))}catch(h){i(h)}},u=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);u((n=n.apply(t,e)).next())});function fp(t,e){return Object.is(t,e)}var _e=null,di=!1,No=1,Tt=Symbol("SIGNAL");function $(t){let e=_e;return _e=t,e}function pp(){return _e}function Hw(){return di}var nr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ru(t){if(di)throw new Error("");if(_e===null)return;_e.consumerOnSignalRead(t);let e=_e.nextProducerIndex++;if(Lo(_e),e<_e.producerNode.length&&_e.producerNode[e]!==t&&hi(_e)){let n=_e.producerNode[e];Fo(n,_e.producerIndexOfThis[e])}_e.producerNode[e]!==t&&(_e.producerNode[e]=t,_e.producerIndexOfThis[e]=hi(_e)?_p(t,_e,e):0),_e.producerLastReadVersion[e]=t.version}function qw(){No++}function gp(t){if(!(hi(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===No)){if(!t.producerMustRecompute(t)&&!Oo(t)){t.dirty=!1,t.lastCleanEpoch=No;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=No}}function mp(t){if(t.liveConsumerNode===void 0)return;let e=di;di=!0;try{for(let n of t.liveConsumerNode)n.dirty||vp(n)}finally{di=e}}function yp(){return _e?.consumerAllowSignalWrites!==!1}function vp(t){t.dirty=!0,mp(t),t.consumerMarkedDirty?.(t)}function fi(t){return t&&(t.nextProducerIndex=0),$(t)}function Po(t,e){if($(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(hi(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Fo(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Oo(t){Lo(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(gp(n),r!==n.version))return!0}return!1}function ko(t){if(Lo(t),hi(t))for(let e=0;e<t.producerNode.length;e++)Fo(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function _p(t,e,n){if(wp(t),t.liveConsumerNode.length===0&&Ip(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=_p(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Fo(t,e){if(wp(t),t.liveConsumerNode.length===1&&Ip(t))for(let r=0;r<t.producerNode.length;r++)Fo(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Lo(i),i.producerIndexOfThis[r]=e}}function hi(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Lo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function wp(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Ip(t){return t.producerNode!==void 0}function Ep(t){let e=Object.create(zw);e.computation=t;let n=()=>{if(gp(e),Ru(e),e.value===Ro)throw e.error;return e.value};return n[Tt]=e,n}var xu=Symbol("UNSET"),Mu=Symbol("COMPUTING"),Ro=Symbol("ERRORED"),zw=rt($e({},nr),{value:xu,dirty:!0,error:null,equal:fp,producerMustRecompute(t){return t.value===xu||t.value===Mu},producerRecomputeValue(t){if(t.value===Mu)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Mu;let n=fi(t),r;try{r=t.computation()}catch(i){r=Ro,t.error=i}finally{Po(t,n)}if(e!==xu&&e!==Ro&&r!==Ro&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function Gw(){throw new Error}var Dp=Gw;function bp(){Dp()}function Tp(t){Dp=t}var Ww=null;function Cp(t){let e=Object.create(Ap);e.value=t;let n=()=>(Ru(e),e.value);return n[Tt]=e,n}function Pu(t,e){yp()||bp(),t.equal(t.value,e)||(t.value=e,Kw(t))}function Sp(t,e){yp()||bp(),Pu(t,e(t.value))}var Ap=rt($e({},nr),{equal:fp,value:void 0});function Kw(t){t.version++,qw(),mp(t),Ww?.()}function xp(t,e,n){let r=Object.create(Qw);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=c=>{r.cleanupFn=c};function o(c){return c.fn===null&&c.schedule===null}function s(c){o(c)||(ko(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=Nu)}let u=()=>{if(r.fn===null)return;if(Hw())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!Oo(r))return;r.hasRun=!0;let c=fi(r);try{r.cleanupFn(),r.cleanupFn=Nu,r.fn(i)}finally{Po(r,c)}};return r.ref={notify:()=>vp(r),run:u,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[Tt]:r},r.ref}var Nu=()=>{},Qw=rt($e({},nr),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:Nu});function B(t){return typeof t=="function"}function rr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Vo=rr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function pi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var we=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(B(r))try{r()}catch(o){e=o instanceof Vo?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Mp(o)}catch(s){e=e??[],s instanceof Vo?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Vo(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Mp(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&pi(n,e)}remove(e){let{_finalizers:n}=this;n&&pi(n,e),e instanceof t&&e._removeParent(this)}};we.EMPTY=(()=>{let t=new we;return t.closed=!0,t})();var Ou=we.EMPTY;function jo(t){return t instanceof we||t&&"closed"in t&&B(t.remove)&&B(t.add)&&B(t.unsubscribe)}function Mp(t){B(t)?t():t.unsubscribe()}var lt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ir={setTimeout(t,e,...n){let{delegate:r}=ir;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ir;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Bo(t){ir.setTimeout(()=>{let{onUnhandledError:e}=lt;if(e)e(t);else throw t})}function gi(){}var Np=ku("C",void 0,void 0);function Rp(t){return ku("E",void 0,t)}function Pp(t){return ku("N",t,void 0)}function ku(t,e,n){return{kind:t,value:e,error:n}}var vn=null;function or(t){if(lt.useDeprecatedSynchronousErrorHandling){let e=!vn;if(e&&(vn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=vn;if(vn=null,n)throw r}}else t()}function Op(t){lt.useDeprecatedSynchronousErrorHandling&&vn&&(vn.errorThrown=!0,vn.error=t)}var _n=class extends we{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,jo(e)&&e.add(this)):this.destination=Jw}static create(e,n,r){return new Ct(e,n,r)}next(e){this.isStopped?Lu(Pp(e),this):this._next(e)}error(e){this.isStopped?Lu(Rp(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Lu(Np,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Yw=Function.prototype.bind;function Fu(t,e){return Yw.call(t,e)}var Vu=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Uo(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Uo(r)}else Uo(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Uo(n)}}},Ct=class extends _n{constructor(e,n,r){super();let i;if(B(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&lt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Fu(e.next,o),error:e.error&&Fu(e.error,o),complete:e.complete&&Fu(e.complete,o)}):i=e}this.destination=new Vu(i)}};function Uo(t){lt.useDeprecatedSynchronousErrorHandling?Op(t):Bo(t)}function Zw(t){throw t}function Lu(t,e){let{onStoppedNotification:n}=lt;n&&ir.setTimeout(()=>n(t,e))}var Jw={closed:!0,next:gi,error:Zw,complete:gi};var sr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xe(t){return t}function Xw(...t){return ju(t)}function ju(t){return t.length===0?Xe:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=tI(n)?n:new Ct(n,r,i);return or(()=>{let{operator:s,source:u}=this;o.add(s?s.call(o,u):u?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=kp(r),new r((i,o)=>{let s=new Ct({next:u=>{try{n(u)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[sr](){return this}pipe(...n){return ju(n)(this)}toPromise(n){return n=kp(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function kp(t){var e;return(e=t??lt.Promise)!==null&&e!==void 0?e:Promise}function eI(t){return t&&B(t.next)&&B(t.error)&&B(t.complete)}function tI(t){return t&&t instanceof _n||eI(t)&&jo(t)}function Bu(t){return B(t?.lift)}function G(t){return e=>{if(Bu(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function W(t,e,n,r,i){return new Uu(t,e,n,r,i)}var Uu=class extends _n{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(u){try{n(u)}catch(c){e.error(c)}}:super._next,this._error=i?function(u){try{i(u)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function $u(){return G((t,e)=>{let n=null;t._refCount++;let r=W(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Hu=class extends re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Bu(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new we;let n=this.getSubject();e.add(this.source.subscribe(W(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=we.EMPTY)}return e}refCount(){return $u()(this)}};var Fp=rr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var it=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new $o(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Fp}next(n){or(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){or(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){or(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ou:(this.currentObservers=null,o.push(n),new we(()=>{this.currentObservers=null,pi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new re;return n.source=this,n}}return t.create=(e,n)=>new $o(e,n),t})(),$o=class extends it{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ou}};var mi=class extends it{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var qu={now(){return(qu.delegate||Date).now()},delegate:void 0};var Ho=class extends it{constructor(e=1/0,n=1/0,r=qu){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),u=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)u=c;u&&r.splice(0,u+1)}}};var yi=new re(t=>t.complete());function Lp(t){return t&&B(t.schedule)}function Vp(t){return t[t.length-1]}function qo(t){return B(Vp(t))?t.pop():void 0}function zt(t){return Lp(Vp(t))?t.pop():void 0}function Bp(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function u(f){try{h(r.next(f))}catch(g){s(g)}}function c(f){try{h(r.throw(f))}catch(g){s(g)}}function h(f){f.done?o(f.value):i(f.value).then(u,c)}h((r=r.apply(t,e||[])).next())})}function jp(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function wn(t){return this instanceof wn?(this.v=t,this):new wn(t)}function Up(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(w){return function(S){return Promise.resolve(S).then(w,g)}}function u(w,S){r[w]&&(i[w]=function(M){return new Promise(function(R,k){o.push([w,M,R,k])>1||c(w,M)})},S&&(i[w]=S(i[w])))}function c(w,S){try{h(r[w](S))}catch(M){I(o[0][3],M)}}function h(w){w.value instanceof wn?Promise.resolve(w.value.v).then(f,g):I(o[0][2],w)}function f(w){c("next",w)}function g(w){c("throw",w)}function I(w,S){w(S),o.shift(),o.length&&c(o[0][0],o[0][1])}}function $p(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof jp=="function"?jp(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(u,c){s=t[o](s),i(u,c,s.done,s.value)})}}function i(o,s,u,c){Promise.resolve(c).then(function(h){o({value:h,done:u})},s)}}var zo=t=>t&&typeof t.length=="number"&&typeof t!="function";function Go(t){return B(t?.then)}function Wo(t){return B(t[sr])}function Ko(t){return Symbol.asyncIterator&&B(t?.[Symbol.asyncIterator])}function Qo(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function nI(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Yo=nI();function Zo(t){return B(t?.[Yo])}function Jo(t){return Up(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield wn(n.read());if(i)return yield wn(void 0);yield yield wn(r)}}finally{n.releaseLock()}})}function Xo(t){return B(t?.getReader)}function he(t){if(t instanceof re)return t;if(t!=null){if(Wo(t))return rI(t);if(zo(t))return iI(t);if(Go(t))return oI(t);if(Ko(t))return Hp(t);if(Zo(t))return sI(t);if(Xo(t))return aI(t)}throw Qo(t)}function rI(t){return new re(e=>{let n=t[sr]();if(B(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function iI(t){return new re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function oI(t){return new re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Bo)})}function sI(t){return new re(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Hp(t){return new re(e=>{uI(t,e).catch(n=>e.error(n))})}function aI(t){return Hp(Jo(t))}function uI(t,e){var n,r,i,o;return Bp(this,void 0,void 0,function*(){try{for(n=$p(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function ze(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function es(t,e=0){return G((n,r)=>{n.subscribe(W(r,i=>ze(r,t,()=>r.next(i),e),()=>ze(r,t,()=>r.complete(),e),i=>ze(r,t,()=>r.error(i),e)))})}function ts(t,e=0){return G((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function qp(t,e){return he(t).pipe(ts(e),es(e))}function zp(t,e){return he(t).pipe(ts(e),es(e))}function Gp(t,e){return new re(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Wp(t,e){return new re(n=>{let r;return ze(n,e,()=>{r=t[Yo](),ze(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>B(r?.return)&&r.return()})}function ns(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(n=>{ze(n,e,()=>{let r=t[Symbol.asyncIterator]();ze(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Kp(t,e){return ns(Jo(t),e)}function Qp(t,e){if(t!=null){if(Wo(t))return qp(t,e);if(zo(t))return Gp(t,e);if(Go(t))return zp(t,e);if(Ko(t))return ns(t,e);if(Zo(t))return Wp(t,e);if(Xo(t))return Kp(t,e)}throw Qo(t)}function Gt(t,e){return e?Qp(t,e):he(t)}function ar(...t){let e=zt(t);return Gt(t,e)}function cI(t,e){let n=B(t)?t:()=>t,r=i=>i.error(n());return new re(e?i=>e.schedule(r,0,i):r)}function In(t){return!!t&&(t instanceof re||B(t.lift)&&B(t.subscribe))}var En=rr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ot(t,e){return G((n,r)=>{let i=0;n.subscribe(W(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:lI}=Array;function dI(t,e){return lI(e)?t(...e):t(e)}function rs(t){return ot(e=>dI(t,e))}var{isArray:hI}=Array,{getPrototypeOf:fI,prototype:pI,keys:gI}=Object;function is(t){if(t.length===1){let e=t[0];if(hI(e))return{args:e,keys:null};if(mI(e)){let n=gI(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function mI(t){return t&&typeof t=="object"&&fI(t)===pI}function os(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function yI(...t){let e=zt(t),n=qo(t),{args:r,keys:i}=is(t);if(r.length===0)return Gt([],e);let o=new re(vI(r,e,i?s=>os(i,s):Xe));return n?o.pipe(rs(n)):o}function vI(t,e,n=Xe){return r=>{Yp(e,()=>{let{length:i}=t,o=new Array(i),s=i,u=i;for(let c=0;c<i;c++)Yp(e,()=>{let h=Gt(t[c],e),f=!1;h.subscribe(W(r,g=>{o[c]=g,f||(f=!0,u--),u||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Yp(t,e,n){t?ze(n,t,e):e()}function Zp(t,e,n,r,i,o,s,u){let c=[],h=0,f=0,g=!1,I=()=>{g&&!c.length&&!h&&e.complete()},w=M=>h<r?S(M):c.push(M),S=M=>{o&&e.next(M),h++;let R=!1;he(n(M,f++)).subscribe(W(e,k=>{i?.(k),o?w(k):e.next(k)},()=>{R=!0},void 0,()=>{if(R)try{for(h--;c.length&&h<r;){let k=c.shift();s?ze(e,s,()=>S(k)):S(k)}I()}catch(k){e.error(k)}}))};return t.subscribe(W(e,w,()=>{g=!0,I()})),()=>{u?.()}}function Dn(t,e,n=1/0){return B(e)?Dn((r,i)=>ot((o,s)=>e(r,o,i,s))(he(t(r,i))),n):(typeof e=="number"&&(n=e),G((r,i)=>Zp(r,i,t,n)))}function Jp(t=1/0){return Dn(Xe,t)}function Xp(){return Jp(1)}function bn(...t){return Xp()(Gt(t,zt(t)))}function ss(t){return new re(e=>{he(t()).subscribe(e)})}function zu(...t){let e=qo(t),{args:n,keys:r}=is(t),i=new re(o=>{let{length:s}=n;if(!s){o.complete();return}let u=new Array(s),c=s,h=s;for(let f=0;f<s;f++){let g=!1;he(n[f]).subscribe(W(o,I=>{g||(g=!0,h--),u[f]=I},()=>c--,void 0,()=>{(!c||!g)&&(h||o.next(r?os(r,u):u),o.complete())}))}});return e?i.pipe(rs(e)):i}function vi(t,e){return G((n,r)=>{let i=0;n.subscribe(W(r,o=>t.call(e,o,i++)&&r.next(o)))})}function eg(t){return G((e,n)=>{let r=null,i=!1,o;r=e.subscribe(W(n,void 0,void 0,s=>{o=he(t(s,eg(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function tg(t,e,n,r,i){return(o,s)=>{let u=n,c=e,h=0;o.subscribe(W(s,f=>{let g=h++;c=u?t(c,f,g):(u=!0,f),r&&s.next(c)},i&&(()=>{u&&s.next(c),s.complete()})))}}function Gu(t,e){return B(e)?Dn(t,e,1):Dn(t,1)}function _i(t){return G((e,n)=>{let r=!1;e.subscribe(W(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Wt(t){return t<=0?()=>yi:G((e,n)=>{let r=0;e.subscribe(W(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function _I(t){return ot(()=>t)}function as(t=wI){return G((e,n)=>{let r=!1;e.subscribe(W(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function wI(){return new En}function ng(t){return G((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function rg(t,e){let n=arguments.length>=2;return r=>r.pipe(t?vi((i,o)=>t(i,o,r)):Xe,Wt(1),n?_i(e):as(()=>new En))}function Wu(t){return t<=0?()=>yi:G((e,n)=>{let r=[];e.subscribe(W(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function II(t,e){let n=arguments.length>=2;return r=>r.pipe(t?vi((i,o)=>t(i,o,r)):Xe,Wu(1),n?_i(e):as(()=>new En))}function EI(t,e){return G(tg(t,e,arguments.length>=2,!0))}function ig(t={}){let{connector:e=()=>new it,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,u,c,h=0,f=!1,g=!1,I=()=>{u?.unsubscribe(),u=void 0},w=()=>{I(),s=c=void 0,f=g=!1},S=()=>{let M=s;w(),M?.unsubscribe()};return G((M,R)=>{h++,!g&&!f&&I();let k=c=c??e();R.add(()=>{h--,h===0&&!g&&!f&&(u=Ku(S,i))}),k.subscribe(R),!s&&h>0&&(s=new Ct({next:L=>k.next(L),error:L=>{g=!0,I(),u=Ku(w,n,L),k.error(L)},complete:()=>{f=!0,I(),u=Ku(w,r),k.complete()}}),he(M).subscribe(s))})(o)}}function Ku(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new Ct({next:()=>{r.unsubscribe(),t()}});return he(e(...n)).subscribe(r)}function us(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,ig({connector:()=>new Ho(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function DI(...t){let e=zt(t);return G((n,r)=>{(e?bn(t,n,e):bn(t,n)).subscribe(r)})}function cs(t,e){return G((n,r)=>{let i=null,o=0,s=!1,u=()=>s&&!i&&r.complete();n.subscribe(W(r,c=>{i?.unsubscribe();let h=0,f=o++;he(t(c,f)).subscribe(i=W(r,g=>r.next(e?e(c,g,f,h++):g),()=>{i=null,u()}))},()=>{s=!0,u()}))})}function bI(t){return G((e,n)=>{he(t).subscribe(W(n,()=>n.complete(),gi)),!n.closed&&e.subscribe(n)})}function og(t,e,n){let r=B(t)||e||n?{next:t,error:e,complete:n}:t;return r?G((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let u=!0;i.subscribe(W(o,c=>{var h;(h=r.next)===null||h===void 0||h.call(r,c),o.next(c)},()=>{var c;u=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var h;u=!1,(h=r.error)===null||h===void 0||h.call(r,c),o.error(c)},()=>{var c,h;u&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(h=r.finalize)===null||h===void 0||h.call(r)}))}):Xe}var TI="https://g.co/ng/security#xss",J=class extends Error{constructor(e,n){super(Hg(e,n)),this.code=e}};function Hg(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Pi(t){return{toString:t}.toString()}var ls="__parameters__";function CI(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function qg(t,e,n){return Pi(()=>{let r=CI(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return u.annotation=s,u;function u(c,h,f){let g=c.hasOwnProperty(ls)?c[ls]:Object.defineProperty(c,ls,{value:[]})[ls];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function ue(t){for(let e in t)if(t[e]===ue)return e;throw Error("Could not find renamed property on target object.")}function SI(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function We(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(We).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function sg(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var AI=ue({__forward_ref__:ue});function zg(t){return t.__forward_ref__=zg,t.toString=function(){return We(this())},t}function He(t){return Gg(t)?t():t}function Gg(t){return typeof t=="function"&&t.hasOwnProperty(AI)&&t.__forward_ref__===zg}function ne(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Wg(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ws(t){return ag(t,Kg)||ag(t,Qg)}function wO(t){return Ws(t)!==null}function ag(t,e){return t.hasOwnProperty(e)?t[e]:null}function xI(t){let e=t&&(t[Kg]||t[Qg]);return e||null}function ug(t){return t&&(t.hasOwnProperty(cg)||t.hasOwnProperty(MI))?t[cg]:null}var Kg=ue({\u0275prov:ue}),cg=ue({\u0275inj:ue}),Qg=ue({ngInjectableDef:ue}),MI=ue({ngInjectorDef:ue}),X=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ne({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Yg(t){return t&&!!t.\u0275providers}var NI=ue({\u0275cmp:ue}),RI=ue({\u0275dir:ue}),PI=ue({\u0275pipe:ue}),OI=ue({\u0275mod:ue}),Is=ue({\u0275fac:ue}),Ei=ue({__NG_ELEMENT_ID__:ue}),lg=ue({__NG_ENV_ID__:ue});function Zg(t){return typeof t=="string"?t:t==null?"":String(t)}function kI(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Zg(t)}function FI(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new J(-200,t)}function ll(t,e){throw new J(-201,!1)}var K=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(K||{}),uc;function Jg(){return uc}function Ge(t){let e=uc;return uc=t,e}function Xg(t,e,n){let r=Ws(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&K.Optional)return null;if(e!==void 0)return e;ll(t,"Injector")}var LI={},Di=LI,cc="__NG_DI_FLAG__",Es="ngTempTokenPath",VI="ngTokenPath",jI=/\n/gm,BI="\u0275",dg="__source",dr;function UI(){return dr}function Kt(t){let e=dr;return dr=t,e}function $I(t,e=K.Default){if(dr===void 0)throw new J(-203,!1);return dr===null?Xg(t,void 0,e):dr.get(t,e&K.Optional?null:void 0,e)}function de(t,e=K.Default){return(Jg()||$I)(He(t),e)}function H(t,e=K.Default){return de(t,Ks(e))}function Ks(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function lc(t){let e=[];for(let n=0;n<t.length;n++){let r=He(t[n]);if(Array.isArray(r)){if(r.length===0)throw new J(900,!1);let i,o=K.Default;for(let s=0;s<r.length;s++){let u=r[s],c=HI(u);typeof c=="number"?c===-1?i=u.token:o|=c:i=u}e.push(de(i,o))}else e.push(de(r))}return e}function em(t,e){return t[cc]=e,t.prototype[cc]=e,t}function HI(t){return t[cc]}function qI(t,e,n,r){let i=t[Es];throw e[dg]&&i.unshift(e[dg]),t.message=zI(`
`+t.message,i,n,r),t[VI]=i,t[Es]=null,t}function zI(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==BI?t.slice(2):t;let i=We(e);if(Array.isArray(e))i=e.map(We).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let u=e[s];o.push(s+":"+(typeof u=="string"?JSON.stringify(u):We(u)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(jI,`
  `)}`}var GI=em(qg("Optional"),8);var WI=em(qg("SkipSelf"),4);function Cn(t,e){let n=t.hasOwnProperty(Is);return n?t[Is]:null}function KI(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function QI(t){return t.flat(Number.POSITIVE_INFINITY)}function dl(t,e){t.forEach(n=>Array.isArray(n)?dl(n,e):e(n))}function tm(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ds(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function YI(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function ZI(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function JI(t,e,n){let r=Oi(t,e);return r>=0?t[r|1]=n:(r=~r,ZI(t,r,e,n)),r}function Qu(t,e){let n=Oi(t,e);if(n>=0)return t[n|1]}function Oi(t,e){return XI(t,e,1)}function XI(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var fr={},st=[],bs=new X(""),nm=new X("",-1),rm=new X(""),Ts=class{get(e,n=Di){if(n===Di){let r=new Error(`NullInjectorError: No provider for ${We(e)}!`);throw r.name="NullInjectorError",r}return n}},im=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(im||{}),bi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(bi||{}),Zt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Zt||{});function eE(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function dc(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],u=n[r++];t.setAttribute(e,s,u,o)}else{let o=i,s=n[++r];nE(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function tE(t){return t===3||t===4||t===6}function nE(t){return t.charCodeAt(0)===64}function Ti(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?hg(t,n,i,null,e[++r]):hg(t,n,i,null,null))}}return t}function hg(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let u=t[o++];if(typeof u=="number"){if(u===e){s=-1;break}else if(u>e){s=o-1;break}}}for(;o<t.length;){let u=t[o];if(typeof u=="number")break;if(u===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var om="ng-template";function rE(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&eE(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(hl(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function hl(t){return t.type===4&&t.value!==om}function iE(t,e,n){let r=t.type===4&&!n?om:t.value;return e===r}function oE(t,e,n){let r=4,i=t.attrs,o=i!==null?uE(i):0,s=!1;for(let u=0;u<e.length;u++){let c=e[u];if(typeof c=="number"){if(!s&&!dt(r)&&!dt(c))return!1;if(s&&dt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!iE(t,c,n)||c===""&&e.length===1){if(dt(r))return!1;s=!0}}else if(r&8){if(i===null||!rE(t,i,c,n)){if(dt(r))return!1;s=!0}}else{let h=e[++u],f=sE(c,i,hl(t),n);if(f===-1){if(dt(r))return!1;s=!0;continue}if(h!==""){let g;if(f>o?g="":g=i[f+1].toLowerCase(),r&2&&h!==g){if(dt(r))return!1;s=!0}}}}return dt(r)||s}function dt(t){return(t&1)===0}function sE(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let u=e[++i];for(;typeof u=="string";)u=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return cE(e,t)}function sm(t,e,n=!1){for(let r=0;r<e.length;r++)if(oE(t,e[r],n))return!0;return!1}function aE(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function uE(t){for(let e=0;e<t.length;e++){let n=t[e];if(tE(n))return e}return t.length}function cE(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function lE(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function fg(t,e){return t?":not("+e.trim()+")":e}function dE(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let u=t[++n];i+="["+s+(u.length>0?'="'+u+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!dt(s)&&(e+=fg(o,i),i=""),r=s,o=o||!dt(r);n++}return i!==""&&(e+=fg(o,i)),e}function hE(t){return t.map(dE).join(",")}function fE(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!dt(i))break;i=o}r++}return{attrs:e,classes:n}}function IO(t){return Pi(()=>{let e=dm(t),n=rt($e({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===im.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||bi.Emulated,styles:t.styles||st,_:null,schemas:t.schemas||null,tView:null,id:""});hm(n);let r=t.dependencies;return n.directiveDefs=gg(r,!1),n.pipeDefs=gg(r,!0),n.id=yE(n),n})}function pE(t){return Sn(t)||um(t)}function gE(t){return t!==null}function am(t){return Pi(()=>({type:t.type,bootstrap:t.bootstrap||st,declarations:t.declarations||st,imports:t.imports||st,exports:t.exports||st,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function pg(t,e){if(t==null)return fr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,u=Zt.None;Array.isArray(i)?(u=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=u!==Zt.None?[r,u]:r,e[o]=s):n[o]=r}return n}function ki(t){return Pi(()=>{let e=dm(t);return hm(e),e})}function Qs(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Sn(t){return t[NI]||null}function um(t){return t[RI]||null}function cm(t){return t[PI]||null}function mE(t){let e=Sn(t)||um(t)||cm(t);return e!==null?e.standalone:!1}function lm(t,e){let n=t[OI]||null;if(!n&&e===!0)throw new Error(`Type ${We(t)} does not have '\u0275mod' property.`);return n}function dm(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||fr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||st,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pg(t.inputs,e),outputs:pg(t.outputs),debugInfo:null}}function hm(t){t.features?.forEach(e=>e(t))}function gg(t,e){if(!t)return null;let n=e?cm:pE;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(gE)}function yE(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function fl(t){return{\u0275providers:t}}function vE(...t){return{\u0275providers:fm(!0,t),\u0275fromNgModule:!0}}function fm(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return dl(e,s=>{let u=s;hc(u,o,[],r)&&(i||=[],i.push(u))}),i!==void 0&&pm(i,o),n}function pm(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];pl(i,o=>{e(o,r)})}}function hc(t,e,n,r){if(t=He(t),!t)return!1;let i=null,o=ug(t),s=!o&&Sn(t);if(!o&&!s){let c=t.ngModule;if(o=ug(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let u=r.has(i);if(s){if(u)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let h of c)hc(h,e,n,r)}}else if(o){if(o.imports!=null&&!u){r.add(i);let h;try{dl(o.imports,f=>{hc(f,e,n,r)&&(h||=[],h.push(f))})}finally{}h!==void 0&&pm(h,e)}if(!u){let h=Cn(i)||(()=>new i);e({provide:i,useFactory:h,deps:st},i),e({provide:rm,useValue:i,multi:!0},i),e({provide:bs,useValue:()=>de(i),multi:!0},i)}let c=o.providers;if(c!=null&&!u){let h=t;pl(c,f=>{e(f,h)})}}else return!1;return i!==t&&t.providers!==void 0}function pl(t,e){for(let n of t)Yg(n)&&(n=n.\u0275providers),Array.isArray(n)?pl(n,e):e(n)}var _E=ue({provide:String,useValue:ue});function gm(t){return t!==null&&typeof t=="object"&&_E in t}function wE(t){return!!(t&&t.useExisting)}function IE(t){return!!(t&&t.useFactory)}function pr(t){return typeof t=="function"}function EE(t){return!!t.useClass}var mm=new X(""),ps={},DE={},Yu;function gl(){return Yu===void 0&&(Yu=new Ts),Yu}var Jt=class{},Ci=class extends Jt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,pc(e,s=>this.processProvider(s)),this.records.set(nm,ur(void 0,this)),i.has("environment")&&this.records.set(Jt,ur(void 0,this));let o=this.records.get(mm);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(rm,st,K.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=$(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),$(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Kt(this),r=Ge(void 0),i;try{return e()}finally{Kt(n),Ge(r)}}get(e,n=Di,r=K.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(lg))return e[lg](this);r=Ks(r);let i,o=Kt(this),s=Ge(void 0);try{if(!(r&K.SkipSelf)){let c=this.records.get(e);if(c===void 0){let h=AE(e)&&Ws(e);h&&this.injectableDefInScope(h)?c=ur(fc(e),ps):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let u=r&K.Self?gl():this.parent;return n=r&K.Optional&&n===Di?null:n,u.get(e,n)}catch(u){if(u.name==="NullInjectorError"){if((u[Es]=u[Es]||[]).unshift(We(e)),o)throw u;return qI(u,e,"R3InjectorError",this.source)}else throw u}finally{Ge(s),Kt(o)}}resolveInjectorInitializers(){let e=$(null),n=Kt(this),r=Ge(void 0),i;try{let o=this.get(bs,st,K.Self);for(let s of o)s()}finally{Kt(n),Ge(r),$(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(We(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new J(205,!1)}processProvider(e){e=He(e);let n=pr(e)?e:He(e&&e.provide),r=TE(e);if(!pr(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ur(void 0,ps,!0),i.factory=()=>lc(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=$(null);try{return n.value===ps&&(n.value=DE,n.value=n.factory()),typeof n.value=="object"&&n.value&&SE(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{$(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=He(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function fc(t){let e=Ws(t),n=e!==null?e.factory:Cn(t);if(n!==null)return n;if(t instanceof X)throw new J(204,!1);if(t instanceof Function)return bE(t);throw new J(204,!1)}function bE(t){if(t.length>0)throw new J(204,!1);let n=xI(t);return n!==null?()=>n.factory(t):()=>new t}function TE(t){if(gm(t))return ur(void 0,t.useValue);{let e=ym(t);return ur(e,ps)}}function ym(t,e,n){let r;if(pr(t)){let i=He(t);return Cn(i)||fc(i)}else if(gm(t))r=()=>He(t.useValue);else if(IE(t))r=()=>t.useFactory(...lc(t.deps||[]));else if(wE(t))r=()=>de(He(t.useExisting));else{let i=He(t&&(t.useClass||t.provide));if(CE(t))r=()=>new i(...lc(t.deps));else return Cn(i)||fc(i)}return r}function ur(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function CE(t){return!!t.deps}function SE(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function AE(t){return typeof t=="function"||typeof t=="object"&&t instanceof X}function pc(t,e){for(let n of t)Array.isArray(n)?pc(n,e):n&&Yg(n)?pc(n.\u0275providers,e):e(n)}function EO(t,e){t instanceof Ci&&t.assertNotDestroyed();let n,r=Kt(t),i=Ge(void 0);try{return e()}finally{Kt(r),Ge(i)}}function vm(){return Jg()!==void 0||UI()!=null}function xE(t){if(!vm())throw new J(-203,!1)}function ME(t){return typeof t=="function"}var xt=0,j=1,V=2,ke=3,ht=4,Qe=5,gr=6,Cs=7,Pe=8,mr=9,St=10,Ee=11,Si=12,mg=13,br=14,et=15,An=16,cr=17,At=18,Ys=19,_m=20,Qt=21,gs=22,at=23,Se=25,wm=1;var xn=7,Ss=8,yr=9,Oe=10,As=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(As||{});function Yt(t){return Array.isArray(t)&&typeof t[wm]=="object"}function Mt(t){return Array.isArray(t)&&t[wm]===!0}function ml(t){return(t.flags&4)!==0}function Zs(t){return t.componentOffset>-1}function Js(t){return(t.flags&1)===1}function Xt(t){return!!t.template}function gc(t){return(t[V]&512)!==0}var mc=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Im(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function yl(){return Em}function Em(t){return t.type.prototype.ngOnChanges&&(t.setInput=RE),NE}yl.ngInherit=!0;function NE(){let t=bm(this),e=t?.current;if(e){let n=t.previous;if(n===fr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function RE(t,e,n,r,i){let o=this.declaredInputs[r],s=bm(t)||PE(t,{previous:fr,current:null}),u=s.current||(s.current={}),c=s.previous,h=c[o];u[o]=new mc(h&&h.currentValue,n,c===fr),Im(t,e,i,n)}var Dm="__ngSimpleChanges__";function bm(t){return t[Dm]||null}function PE(t,e){return t[Dm]=e}var yg=null;var pt=function(t,e,n){yg?.(t,e,n)},OE="svg",kE="math";function mt(t){for(;Array.isArray(t);)t=t[xt];return t}function Tm(t,e){return mt(e[t])}function ft(t,e){return mt(e[t.index])}function vl(t,e){return t.data[e]}function Cm(t,e){return t[e]}function on(t,e){let n=e[t];return Yt(n)?n:n[xt]}function FE(t){return(t[V]&4)===4}function _l(t){return(t[V]&128)===128}function LE(t){return Mt(t[ke])}function en(t,e){return e==null?null:t[e]}function Sm(t){t[cr]=0}function Am(t){t[V]&1024||(t[V]|=1024,_l(t)&&ea(t))}function VE(t,e){for(;t>0;)e=e[br],t--;return e}function Xs(t){return!!(t[V]&9216||t[at]?.dirty)}function yc(t){t[St].changeDetectionScheduler?.notify(8),t[V]&64&&(t[V]|=1024),Xs(t)&&ea(t)}function ea(t){t[St].changeDetectionScheduler?.notify(0);let e=Mn(t);for(;e!==null&&!(e[V]&8192||(e[V]|=8192,!_l(e)));)e=Mn(e)}function xm(t,e){if((t[V]&256)===256)throw new J(911,!1);t[Qt]===null&&(t[Qt]=[]),t[Qt].push(e)}function jE(t,e){if(t[Qt]===null)return;let n=t[Qt].indexOf(e);n!==-1&&t[Qt].splice(n,1)}function Mn(t){let e=t[ke];return Mt(e)?e[ke]:e}var U={lFrame:Vm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Mm=!1;function BE(){return U.lFrame.elementDepthCount}function UE(){U.lFrame.elementDepthCount++}function $E(){U.lFrame.elementDepthCount--}function Nm(){return U.bindingsEnabled}function Rm(){return U.skipHydrationRootTNode!==null}function HE(t){return U.skipHydrationRootTNode===t}function qE(){U.skipHydrationRootTNode=null}function Q(){return U.lFrame.lView}function Ae(){return U.lFrame.tView}function DO(t){return U.lFrame.contextLView=t,t[Pe]}function bO(t){return U.lFrame.contextLView=null,t}function Ye(){let t=Pm();for(;t!==null&&t.type===64;)t=t.parent;return t}function Pm(){return U.lFrame.currentTNode}function zE(){let t=U.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ln(t,e){let n=U.lFrame;n.currentTNode=t,n.isParent=e}function wl(){return U.lFrame.isParent}function Il(){U.lFrame.isParent=!1}function GE(){return U.lFrame.contextLView}function Om(){return Mm}function vg(t){Mm=t}function El(){let t=U.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function WE(t){return U.lFrame.bindingIndex=t}function ta(){return U.lFrame.bindingIndex++}function KE(t){let e=U.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function QE(){return U.lFrame.inI18n}function YE(t,e){let n=U.lFrame;n.bindingIndex=n.bindingRootIndex=t,vc(e)}function ZE(){return U.lFrame.currentDirectiveIndex}function vc(t){U.lFrame.currentDirectiveIndex=t}function JE(t){let e=U.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function km(){return U.lFrame.currentQueryIndex}function Dl(t){U.lFrame.currentQueryIndex=t}function XE(t){let e=t[j];return e.type===2?e.declTNode:e.type===1?t[Qe]:null}function Fm(t,e,n){if(n&K.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&K.Host);)if(i=XE(o),i===null||(o=o[br],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=U.lFrame=Lm();return r.currentTNode=e,r.lView=t,!0}function bl(t){let e=Lm(),n=t[j];U.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Lm(){let t=U.lFrame,e=t===null?null:t.child;return e===null?Vm(t):e}function Vm(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function jm(){let t=U.lFrame;return U.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Bm=jm;function Tl(){let t=jm();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function eD(t){return(U.lFrame.contextLView=VE(t,U.lFrame.contextLView))[Pe]}function Vn(){return U.lFrame.selectedIndex}function Nn(t){U.lFrame.selectedIndex=t}function tD(){let t=U.lFrame;return vl(t.tView,t.selectedIndex)}function nD(){return U.lFrame.currentNamespace}var Um=!0;function na(){return Um}function ra(t){Um=t}function rD(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Em(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function ia(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:u,ngAfterViewInit:c,ngAfterViewChecked:h,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),u&&((t.contentHooks??=[]).push(n,u),(t.contentCheckHooks??=[]).push(n,u)),c&&(t.viewHooks??=[]).push(-n,c),h&&((t.viewHooks??=[]).push(n,h),(t.viewCheckHooks??=[]).push(n,h)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function ms(t,e,n){$m(t,e,3,n)}function ys(t,e,n,r){(t[V]&3)===n&&$m(t,e,n,r)}function Zu(t,e){let n=t[V];(n&3)===e&&(n&=16383,n+=1,t[V]=n)}function $m(t,e,n,r){let i=r!==void 0?t[cr]&65535:0,o=r??-1,s=e.length-1,u=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(u=e[c],r!=null&&u>=r)break}else e[c]<0&&(t[cr]+=65536),(u<o||o==-1)&&(iD(t,n,e,c),t[cr]=(t[cr]&4294901760)+c+2),c++}function _g(t,e){pt(4,t,e);let n=$(null);try{e.call(t)}finally{$(n),pt(5,t,e)}}function iD(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],u=t[s];i?t[V]>>14<t[cr]>>16&&(t[V]&3)===e&&(t[V]+=16384,_g(u,o)):_g(u,o)}var hr=-1,Rn=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function oD(t){return t instanceof Rn}function sD(t){return(t.flags&8)!==0}function aD(t){return(t.flags&16)!==0}var Ju={},_c=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ks(r);let i=this.injector.get(e,Ju,r);return i!==Ju||n===Ju?i:this.parentInjector.get(e,n,r)}};function Hm(t){return t!==hr}function xs(t){return t&32767}function uD(t){return t>>16}function Ms(t,e){let n=uD(t),r=e;for(;n>0;)r=r[br],n--;return r}var wc=!0;function Ns(t){let e=wc;return wc=t,e}var cD=256,qm=cD-1,zm=5,lD=0,gt={};function dD(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ei)&&(r=n[Ei]),r==null&&(r=n[Ei]=lD++);let i=r&qm,o=1<<i;e.data[t+(i>>zm)]|=o}function Rs(t,e){let n=Gm(t,e);if(n!==-1)return n;let r=e[j];r.firstCreatePass&&(t.injectorIndex=e.length,Xu(r.data,t),Xu(e,null),Xu(r.blueprint,null));let i=Cl(t,e),o=t.injectorIndex;if(Hm(i)){let s=xs(i),u=Ms(i,e),c=u[j].data;for(let h=0;h<8;h++)e[o+h]=u[s+h]|c[s+h]}return e[o+8]=i,o}function Xu(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Gm(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Cl(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Zm(i),r===null)return hr;if(n++,i=i[br],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return hr}function Ic(t,e,n){dD(t,e,n)}function Wm(t,e,n){if(n&K.Optional||t!==void 0)return t;ll(e,"NodeInjector")}function Km(t,e,n,r){if(n&K.Optional&&r===void 0&&(r=null),!(n&(K.Self|K.Host))){let i=t[mr],o=Ge(void 0);try{return i?i.get(e,r,n&K.Optional):Xg(e,r,n&K.Optional)}finally{Ge(o)}}return Wm(r,e,n)}function Qm(t,e,n,r=K.Default,i){if(t!==null){if(e[V]&2048&&!(r&K.Self)){let s=gD(t,e,n,r,gt);if(s!==gt)return s}let o=Ym(t,e,n,r,gt);if(o!==gt)return o}return Km(e,n,r,i)}function Ym(t,e,n,r,i){let o=fD(n);if(typeof o=="function"){if(!Fm(e,t,r))return r&K.Host?Wm(i,n,r):Km(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&K.Optional))ll(n);else return s}finally{Bm()}}else if(typeof o=="number"){let s=null,u=Gm(t,e),c=hr,h=r&K.Host?e[et][Qe]:null;for((u===-1||r&K.SkipSelf)&&(c=u===-1?Cl(t,e):e[u+8],c===hr||!Ig(r,!1)?u=-1:(s=e[j],u=xs(c),e=Ms(c,e)));u!==-1;){let f=e[j];if(wg(o,u,f.data)){let g=hD(u,e,n,s,r,h);if(g!==gt)return g}c=e[u+8],c!==hr&&Ig(r,e[j].data[u+8]===h)&&wg(o,u,e)?(s=f,u=xs(c),e=Ms(c,e)):u=-1}}return i}function hD(t,e,n,r,i,o){let s=e[j],u=s.data[t+8],c=r==null?Zs(u)&&wc:r!=s&&(u.type&3)!==0,h=i&K.Host&&o===u,f=vs(u,s,n,c,h);return f!==null?Pn(e,s,f,u):gt}function vs(t,e,n,r,i){let o=t.providerIndexes,s=e.data,u=o&1048575,c=t.directiveStart,h=t.directiveEnd,f=o>>20,g=r?u:u+f,I=i?u+f:h;for(let w=g;w<I;w++){let S=s[w];if(w<c&&n===S||w>=c&&S.type===n)return w}if(i){let w=s[c];if(w&&Xt(w)&&w.type===n)return c}return null}function Pn(t,e,n,r){let i=t[n],o=e.data;if(oD(i)){let s=i;s.resolving&&FI(kI(o[n]));let u=Ns(s.canSeeViewProviders);s.resolving=!0;let c,h=s.injectImpl?Ge(s.injectImpl):null,f=Fm(t,r,K.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&rD(n,o[n],e)}finally{h!==null&&Ge(h),Ns(u),s.resolving=!1,Bm()}}return i}function fD(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ei)?t[Ei]:void 0;return typeof e=="number"?e>=0?e&qm:pD:e}function wg(t,e,n){let r=1<<t;return!!(n[e+(t>>zm)]&r)}function Ig(t,e){return!(t&K.Self)&&!(t&K.Host&&e)}var Tn=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Qm(this._tNode,this._lView,e,Ks(r),n)}};function pD(){return new Tn(Ye(),Q())}function oa(t){return Pi(()=>{let e=t.prototype.constructor,n=e[Is]||Ec(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Is]||Ec(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ec(t){return Gg(t)?()=>{let e=Ec(He(t));return e&&e()}:Cn(t)}function gD(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[V]&2048&&!(s[V]&512);){let u=Ym(o,s,n,r|K.Self,gt);if(u!==gt)return u;let c=o.parent;if(!c){let h=s[_m];if(h){let f=h.get(n,gt,r);if(f!==gt)return f}c=Zm(s),s=s[br]}o=c}return i}function Zm(t){let e=t[j],n=e.type;return n===2?e.declTNode:n===1?t[Qe]:null}function Eg(t,e=null,n=null,r){let i=Jm(t,e,n,r);return i.resolveInjectorInitializers(),i}function Jm(t,e=null,n=null,r,i=new Set){let o=[n||st,vE(t)];return r=r||(typeof t=="object"?void 0:We(t)),new Ci(o,e||gl(),r||null,i)}var vr=class t{static{this.THROW_IF_NOT_FOUND=Di}static{this.NULL=new Ts}static create(e,n){if(Array.isArray(e))return Eg({name:""},n,e,"");{let r=e.name??"";return Eg({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=ne({token:t,providedIn:"any",factory:()=>de(nm)})}static{this.__NG_ELEMENT_ID__=-1}};var mD=new X("");mD.__NG_ELEMENT_ID__=t=>{let e=Ye();if(e===null)throw new J(204,!1);if(e.type&2)return e.value;if(t&K.Optional)return null;throw new J(204,!1)};var yD="ngOriginalError";function ec(t){return t[yD]}var Xm=!0,Sl=(()=>{class t{static{this.__NG_ELEMENT_ID__=vD}static{this.__NG_ENV_ID__=n=>n}}return t})(),Dc=class extends Sl{constructor(e){super(),this._lView=e}onDestroy(e){return xm(this._lView,e),()=>jE(this._lView,e)}};function vD(){return new Dc(Q())}var Fi=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new mi(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=ne({token:t,providedIn:"root",factory:()=>new t})}}return t})();var bc=class extends it{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,vm()&&(this.destroyRef=H(Sl,{optional:!0})??void 0,this.pendingTasks=H(Fi,{optional:!0})??void 0)}emit(e){let n=$(null);try{super.next(e)}finally{$(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let u=super.subscribe({next:i,error:o,complete:s});return e instanceof we&&e.add(u),u}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ie=bc;function Ps(...t){}function ey(t){let e,n;function r(){t=Ps;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Dg(t){return queueMicrotask(()=>t()),()=>{t=Ps}}var Al="isAngularZone",Os=Al+"_ID",_D=0,Ke=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ie(!1),this.onMicrotaskEmpty=new Ie(!1),this.onStable=new Ie(!1),this.onError=new Ie(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Xm}=e;if(typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,ED(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Al)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new J(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,wD,Ps,Ps);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},wD={};function xl(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ID(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){ey(()=>{t.callbackScheduled=!1,Tc(t),t.isCheckStableRunning=!0,xl(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Tc(t)}function ED(t){let e=()=>{ID(t)},n=_D++;t._inner=t._inner.fork({name:"angular",properties:{[Al]:!0,[Os]:n,[Os+n]:!0},onInvokeTask:(r,i,o,s,u,c)=>{if(DD(c))return r.invokeTask(o,s,u,c);try{return bg(t),r.invokeTask(o,s,u,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Tg(t)}},onInvoke:(r,i,o,s,u,c,h)=>{try{return bg(t),r.invoke(o,s,u,c,h)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!bD(c)&&e(),Tg(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Tc(t),xl(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Tc(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function bg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Tg(t){t._nesting--,xl(t)}var Cc=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ie,this.onMicrotaskEmpty=new Ie,this.onStable=new Ie,this.onError=new Ie}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function DD(t){return ty(t,"__ignore_ng_zone__")}function bD(t){return ty(t,"__scheduler_tick__")}function ty(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var On=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ec(e);for(;n&&ec(n);)n=ec(n);return n||null}},TD=new X("",{providedIn:"root",factory:()=>{let t=H(Ke),e=H(On);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function CD(){return Tr(Ye(),Q())}function Tr(t,e){return new Nt(ft(t,e))}var Nt=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=CD}}return t})();function SD(t){return t instanceof Nt?t.nativeElement:t}function AD(){return this._results[Symbol.iterator]()}var Sc=class t{get changes(){return this._changes??=new Ie}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=AD)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=QI(e);(this._changesDetected=!KI(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function ny(t){return(t.flags&128)===128}var ry=new Map,xD=0;function MD(){return xD++}function ND(t){ry.set(t[Ys],t)}function Ac(t){ry.delete(t[Ys])}var Cg="__ngContext__";function tn(t,e){Yt(e)?(t[Cg]=e[Ys],ND(e)):t[Cg]=e}function iy(t){return sy(t[Si])}function oy(t){return sy(t[ht])}function sy(t){for(;t!==null&&!Mt(t);)t=t[ht];return t}var xc;function TO(t){xc=t}function RD(){if(xc!==void 0)return xc;if(typeof document<"u")return document;throw new J(210,!1)}var CO=new X("",{providedIn:"root",factory:()=>PD}),PD="ng",OD=new X(""),ay=new X("",{providedIn:"platform",factory:()=>"unknown"});var SO=new X("",{providedIn:"root",factory:()=>RD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var kD="h",FD="b";var LD=()=>null;function Ml(t,e,n=!1){return LD(t,e,n)}var uy=!1,VD=new X("",{providedIn:"root",factory:()=>uy});var Mc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${TI})`}};function cy(t){return t instanceof Mc?t.changingThisBreaksApplicationSecurity:t}var jD=/^>|^->|<!--|-->|--!>|<!-$/g,BD=/(<|>)/g,UD="\u200B$1\u200B";function $D(t){return t.replace(jD,e=>e.replace(BD,UD))}function AO(t){return t.ownerDocument.defaultView}function ly(t){return t instanceof Function?t():t}var Ai=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ai||{}),HD;function Nl(t,e){return HD(t,e)}function lr(t,e,n,r,i){if(r!=null){let o,s=!1;Mt(r)?o=r:Yt(r)&&(s=!0,r=r[xt]);let u=mt(r);t===0&&n!==null?i==null?gy(e,n,u):ks(e,n,u,i||null,!0):t===1&&n!==null?ks(e,n,u,i||null,!0):t===2?rb(e,u,s):t===3&&e.destroyNode(u),o!=null&&ob(e,t,o,n,i)}}function qD(t,e){return t.createText(e)}function zD(t,e,n){t.setValue(e,n)}function GD(t,e){return t.createComment($D(e))}function dy(t,e,n){return t.createElement(e,n)}function WD(t,e){hy(t,e),e[xt]=null,e[Qe]=null}function KD(t,e,n,r,i,o){r[xt]=i,r[Qe]=e,ua(t,r,n,1,i,o)}function hy(t,e){e[St].changeDetectionScheduler?.notify(9),ua(t,e,e[Ee],2,null,null)}function QD(t){let e=t[Si];if(!e)return tc(t[j],t);for(;e;){let n=null;if(Yt(e))n=e[Si];else{let r=e[Oe];r&&(n=r)}if(!n){for(;e&&!e[ht]&&e!==t;)Yt(e)&&tc(e[j],e),e=e[ke];e===null&&(e=t),Yt(e)&&tc(e[j],e),n=e&&e[ht]}e=n}}function YD(t,e,n,r){let i=Oe+r,o=n.length;r>0&&(n[i-1][ht]=e),r<o-Oe?(e[ht]=n[i],tm(n,Oe+r,e)):(n.push(e),e[ht]=null),e[ke]=n;let s=e[An];s!==null&&n!==s&&fy(s,e);let u=e[At];u!==null&&u.insertView(t),yc(e),e[V]|=128}function fy(t,e){let n=t[yr],r=e[ke];if(Yt(r))t[V]|=As.HasTransplantedViews;else{let i=r[ke][et];e[et]!==i&&(t[V]|=As.HasTransplantedViews)}n===null?t[yr]=[e]:n.push(e)}function Rl(t,e){let n=t[yr],r=n.indexOf(e);n.splice(r,1)}function xi(t,e){if(t.length<=Oe)return;let n=Oe+e,r=t[n];if(r){let i=r[An];i!==null&&i!==t&&Rl(i,r),e>0&&(t[n-1][ht]=r[ht]);let o=Ds(t,Oe+e);WD(r[j],r);let s=o[At];s!==null&&s.detachView(o[j]),r[ke]=null,r[ht]=null,r[V]&=-129}return r}function sa(t,e){if(!(e[V]&256)){let n=e[Ee];n.destroyNode&&ua(t,e,n,3,null,null),QD(e)}}function tc(t,e){if(e[V]&256)return;let n=$(null);try{e[V]&=-129,e[V]|=256,e[at]&&ko(e[at]),JD(t,e),ZD(t,e),e[j].type===1&&e[Ee].destroy();let r=e[An];if(r!==null&&Mt(e[ke])){r!==e[ke]&&Rl(r,e);let i=e[At];i!==null&&i.detachView(t)}Ac(e)}finally{$(n)}}function ZD(t,e){let n=t.cleanup,r=e[Cs];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Cs]=null);let i=e[Qt];if(i!==null){e[Qt]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function JD(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Rn)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let u=i[o[s]],c=o[s+1];pt(4,u,c);try{c.call(u)}finally{pt(5,u,c)}}else{pt(4,i,o);try{o.call(i)}finally{pt(5,i,o)}}}}}function py(t,e,n){return XD(t,e.parent,n)}function XD(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[xt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===bi.None||o===bi.Emulated)return null}return ft(r,n)}}function ks(t,e,n,r,i){t.insertBefore(e,n,r,i)}function gy(t,e,n){t.appendChild(e,n)}function Sg(t,e,n,r,i){r!==null?ks(t,e,n,r,i):gy(t,e,n)}function my(t,e){return t.parentNode(e)}function eb(t,e){return t.nextSibling(e)}function yy(t,e,n){return nb(t,e,n)}function tb(t,e,n){return t.type&40?ft(t,n):null}var nb=tb,Ag;function aa(t,e,n,r){let i=py(t,r,e),o=e[Ee],s=r.parent||e[Qe],u=yy(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Sg(o,i,n[c],u,!1);else Sg(o,i,n,u,!1);Ag!==void 0&&Ag(o,r,e,n,i)}function wi(t,e){if(e!==null){let n=e.type;if(n&3)return ft(e,t);if(n&4)return Nc(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return wi(t,r);{let i=t[e.index];return Mt(i)?Nc(-1,i):mt(i)}}else{if(n&128)return wi(t,e.next);if(n&32)return Nl(e,t)()||mt(t[e.index]);{let r=vy(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Mn(t[et]);return wi(i,r)}else return wi(t,e.next)}}}return null}function vy(t,e){if(e!==null){let r=t[et][Qe],i=e.projection;return r.projection[i]}return null}function Nc(t,e){let n=Oe+t+1;if(n<e.length){let r=e[n],i=r[j].firstChild;if(i!==null)return wi(r,i)}return e[xn]}function rb(t,e,n){t.removeChild(null,e,n)}function Pl(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let u=r[n.index],c=n.type;if(s&&e===0&&(u&&tn(mt(u),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Pl(t,e,n.child,r,i,o,!1),lr(e,t,i,u,o);else if(c&32){let h=Nl(n,r),f;for(;f=h();)lr(e,t,i,f,o);lr(e,t,i,u,o)}else c&16?_y(t,e,r,n,i,o):lr(e,t,i,u,o);n=s?n.projectionNext:n.next}}function ua(t,e,n,r,i,o){Pl(n,r,t.firstChild,e,i,o,!1)}function ib(t,e,n){let r=e[Ee],i=py(t,n,e),o=n.parent||e[Qe],s=yy(o,n,e);_y(r,0,e,n,i,s)}function _y(t,e,n,r,i,o){let s=n[et],c=s[Qe].projection[r.projection];if(Array.isArray(c))for(let h=0;h<c.length;h++){let f=c[h];lr(e,t,i,f,o)}else{let h=c,f=s[ke];ny(r)&&(h.flags|=128),Pl(t,e,h,f,i,o,!0)}}function ob(t,e,n,r,i){let o=n[xn],s=mt(n);o!==s&&lr(e,t,r,o,i);for(let u=Oe;u<n.length;u++){let c=n[u];ua(c[j],c,t,e,r,o)}}function sb(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Ai.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ai.Important),t.setStyle(n,r,i,o))}}function ab(t,e,n){t.setAttribute(e,"style",n)}function wy(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Iy(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&dc(t,e,r),i!==null&&wy(t,e,i),o!==null&&ab(t,e,o)}var sn={};function xO(t=1){Ey(Ae(),Q(),Vn()+t,!1)}function Ey(t,e,n,r){if(!r)if((e[V]&3)===3){let o=t.preOrderCheckHooks;o!==null&&ms(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ys(e,o,0,n)}Nn(n)}function Ze(t,e=K.Default){let n=Q();if(n===null)return de(t,e);let r=Ye();return Qm(r,n,He(t),e)}function Dy(t,e,n,r,i,o){let s=$(null);try{let u=null;i&Zt.SignalBased&&(u=e[r][Tt]),u!==null&&u.transformFn!==void 0&&(o=u.transformFn(o)),i&Zt.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,u,o,n,r):Im(e,u,r,o)}finally{$(s)}}function ub(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Nn(~i);else{let o=i,s=n[++r],u=n[++r];YE(s,o);let c=e[o];u(2,c)}}}finally{Nn(-1)}}function ca(t,e,n,r,i,o,s,u,c,h,f){let g=e.blueprint.slice();return g[xt]=i,g[V]=r|4|128|8|64,(h!==null||t&&t[V]&2048)&&(g[V]|=2048),Sm(g),g[ke]=g[br]=t,g[Pe]=n,g[St]=s||t&&t[St],g[Ee]=u||t&&t[Ee],g[mr]=c||t&&t[mr]||null,g[Qe]=o,g[Ys]=MD(),g[gr]=f,g[_m]=h,g[et]=e.type==2?t[et]:g,g}function Cr(t,e,n,r,i){let o=t.data[e];if(o===null)o=cb(t,e,n,r,i),QE()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=zE();o.injectorIndex=s===null?-1:s.injectorIndex}return Ln(o,!0),o}function cb(t,e,n,r,i){let o=Pm(),s=wl(),u=s?o:o&&o.parent,c=t.data[e]=gb(t,u,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function by(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ty(t,e,n,r,i){let o=Vn(),s=r&2;try{Nn(-1),s&&e.length>Se&&Ey(t,e,Se,!1),pt(s?2:0,i),n(r,i)}finally{Nn(o),pt(s?3:1,i)}}function Ol(t,e,n){if(ml(e)){let r=$(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let u=t.data[s];if(u.contentQueries){let c=n[s];u.contentQueries(1,c,s)}}}finally{$(r)}}}function kl(t,e,n){Nm()&&(Eb(t,e,n,ft(n,e)),(n.flags&64)===64&&Ay(t,e,n))}function Fl(t,e,n=ft){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],u=s===-1?n(e,t):t[s];t[i++]=u}}}function Cy(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ll(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ll(t,e,n,r,i,o,s,u,c,h,f){let g=Se+r,I=g+i,w=lb(g,I),S=typeof h=="function"?h():h;return w[j]={type:t,blueprint:w,template:n,queries:null,viewQuery:u,declTNode:e,data:w.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:S,incompleteFirstPass:!1,ssrId:f}}function lb(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:sn);return n}function db(t,e,n,r){let o=r.get(VD,uy)||n===bi.ShadowDom,s=t.selectRootElement(e,o);return hb(s),s}function hb(t){fb(t)}var fb=()=>null;function pb(t,e,n,r){let i=Ny(e);i.push(n),t.firstCreatePass&&Ry(t).push(r,i.length-1)}function gb(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,u=0;return Rm()&&(u|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:u,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function xg(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let u,c=Zt.None;Array.isArray(s)?(u=s[0],c=s[1]):u=s;let h=o;if(i!==null){if(!i.hasOwnProperty(o))continue;h=i[o]}t===0?Mg(r,n,h,u,c):Mg(r,n,h,u)}return r}function Mg(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function mb(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,u=[],c=null,h=null;for(let f=r;f<i;f++){let g=o[f],I=n?n.get(g):null,w=I?I.inputs:null,S=I?I.outputs:null;c=xg(0,g.inputs,f,c,w),h=xg(1,g.outputs,f,h,S);let M=c!==null&&s!==null&&!hl(e)?Nb(c,f,s):null;u.push(M)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=u,e.inputs=c,e.outputs=h}function yb(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function vb(t,e,n,r,i,o,s,u){let c=ft(e,n),h=e.inputs,f;!u&&h!=null&&(f=h[r])?(jl(t,n,f,r,i),Zs(e)&&_b(n,e.index)):e.type&3?(r=yb(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function _b(t,e){let n=on(e,t);n[V]&16||(n[V]|=64)}function Vl(t,e,n,r){if(Nm()){let i=r===null?null:{"":-1},o=bb(t,n),s,u;o===null?s=u=null:[s,u]=o,s!==null&&Sy(t,e,n,s,i,u),i&&Tb(n,r,i)}n.mergedAttrs=Ti(n.mergedAttrs,n.attrs)}function Sy(t,e,n,r,i,o){for(let h=0;h<r.length;h++)Ic(Rs(n,e),t,r[h].type);Sb(n,t.data.length,r.length);for(let h=0;h<r.length;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let s=!1,u=!1,c=by(t,e,r.length,null);for(let h=0;h<r.length;h++){let f=r[h];n.mergedAttrs=Ti(n.mergedAttrs,f.hostAttrs),Ab(t,n,e,c,f),Cb(c,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!s&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),u=!0),c++}mb(t,n,o)}function wb(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let u=~e.index;Ib(s)!=u&&s.push(u),s.push(n,r,o)}}function Ib(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Eb(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Zs(n)&&xb(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Rs(n,e),tn(r,e);let s=n.initialInputs;for(let u=i;u<o;u++){let c=t.data[u],h=Pn(e,t,u,n);if(tn(h,e),s!==null&&Mb(e,u-i,h,c,n,s),Xt(c)){let f=on(n.index,e);f[Pe]=Pn(e,t,u,n)}}}function Ay(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=ZE();try{Nn(o);for(let u=r;u<i;u++){let c=t.data[u],h=e[u];vc(u),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Db(c,h)}}finally{Nn(-1),vc(s)}}function Db(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function bb(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(sm(e,s.selectors,!1))if(r||(r=[]),Xt(s))if(s.findHostDirectiveDefs!==null){let u=[];i=i||new Map,s.findHostDirectiveDefs(s,u,i),r.unshift(...u,s);let c=u.length;Rc(t,e,c)}else r.unshift(s),Rc(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Rc(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Tb(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new J(-301,!1);r.push(e[i],o)}}}function Cb(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Xt(e)&&(n[""]=t)}}function Sb(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ab(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Cn(i.type,!0)),s=new Rn(o,Xt(i),Ze);t.blueprint[r]=s,n[r]=s,wb(t,e,r,by(t,n,i.hostVars,sn),i)}function xb(t,e,n){let r=ft(e,t),i=Cy(n),o=t[St].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let u=la(t,ca(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=u}function Mb(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let u=0;u<s.length;){let c=s[u++],h=s[u++],f=s[u++],g=s[u++];Dy(r,n,c,h,f,g)}}function Nb(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let u=0;u<s.length;u+=3)if(s[u]===e){r.push(o,s[u+1],s[u+2],n[i+1]);break}}i+=2}return r}function xy(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function My(t,e){let n=t.contentQueries;if(n!==null){let r=$(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let u=t.data[s];Dl(o),u.contentQueries(2,e[s],s)}}}finally{$(r)}}}function la(t,e){return t[Si]?t[mg][ht]=e:t[Si]=e,t[mg]=e,e}function Pc(t,e,n){Dl(0);let r=$(null);try{e(t,n)}finally{$(r)}}function Ny(t){return t[Cs]??=[]}function Ry(t){return t.cleanup??=[]}function Py(t,e){let n=t[mr],r=n?n.get(On,null):null;r&&r.handleError(e)}function jl(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],u=n[o++],c=n[o++],h=e[s],f=t.data[s];Dy(f,h,r,u,c,i)}}function Rb(t,e,n){let r=Tm(e,t);zD(t[Ee],r,n)}function Pb(t,e){let n=on(e,t),r=n[j];Ob(r,n);let i=n[xt];i!==null&&n[gr]===null&&(n[gr]=Ml(i,n[mr])),Bl(r,n,n[Pe])}function Ob(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Bl(t,e,n){bl(e);try{let r=t.viewQuery;r!==null&&Pc(1,r,n);let i=t.template;i!==null&&Ty(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[At]?.finishViewCreation(t),t.staticContentQueries&&My(t,e),t.staticViewQueries&&Pc(2,t.viewQuery,n);let o=t.components;o!==null&&kb(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[V]&=-5,Tl()}}function kb(t,e){for(let n=0;n<e.length;n++)Pb(t,e[n])}function Li(t,e,n,r){let i=$(null);try{let o=e.tView,u=t[V]&4096?4096:16,c=ca(t,o,n,u,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),h=t[e.index];c[An]=h;let f=t[At];return f!==null&&(c[At]=f.createEmbeddedView(o)),Bl(o,c,n),c}finally{$(i)}}function Oy(t,e){let n=Oe+e;if(n<t.length)return t[n]}function _r(t,e){return!e||e.firstChild===null||ny(t)}function Vi(t,e,n,r=!0){let i=e[j];if(YD(i,e,t,n),r){let s=Nc(n,t),u=e[Ee],c=my(u,t[xn]);c!==null&&KD(i,t[Qe],u,e,c,s)}let o=e[gr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ky(t,e){let n=xi(t,e);return n!==void 0&&sa(n[j],n),n}function Fs(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(mt(o)),Mt(o)&&Fb(o,r);let s=n.type;if(s&8)Fs(t,e,n.child,r);else if(s&32){let u=Nl(n,e),c;for(;c=u();)r.push(c)}else if(s&16){let u=vy(e,n);if(Array.isArray(u))r.push(...u);else{let c=Mn(e[et]);Fs(c[j],c,u,r,!0)}}n=i?n.projectionNext:n.next}return r}function Fb(t,e){for(let n=Oe;n<t.length;n++){let r=t[n],i=r[j].firstChild;i!==null&&Fs(r[j],r,i,e)}t[xn]!==t[xt]&&e.push(t[xn])}var Fy=[];function Lb(t){return t[at]??Vb(t)}function Vb(t){let e=Fy.pop()??Object.create(Bb);return e.lView=t,e}function jb(t){t.lView[at]!==t&&(t.lView=null,Fy.push(t))}var Bb=rt($e({},nr),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ea(t.lView)},consumerOnSignalRead(){this.lView[at]=this}});function Ub(t){let e=t[at]??Object.create($b);return e.lView=t,e}var $b=rt($e({},nr),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Mn(t.lView);for(;e&&!Ly(e[j]);)e=Mn(e);e&&Am(e)},consumerOnSignalRead(){this.lView[at]=this}});function Ly(t){return t.type!==2}var Hb=100;function Vy(t,e=!0,n=0){let r=t[St],i=r.rendererFactory,o=!1;o||i.begin?.();try{qb(t,n)}catch(s){throw e&&Py(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function qb(t,e){let n=Om();try{vg(!0),Oc(t,e);let r=0;for(;Xs(t);){if(r===Hb)throw new J(103,!1);r++,Oc(t,1)}}finally{vg(n)}}function zb(t,e,n,r){let i=e[V];if((i&256)===256)return;let o=!1,s=!1;!o&&e[St].inlineEffectRunner?.flush(),bl(e);let u=!0,c=null,h=null;o||(Ly(t)?(h=Lb(e),c=fi(h)):pp()===null?(u=!1,h=Ub(e),c=fi(h)):e[at]&&(ko(e[at]),e[at]=null));try{Sm(e),WE(t.bindingStartIndex),n!==null&&Ty(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let w=t.preOrderCheckHooks;w!==null&&ms(e,w,null)}else{let w=t.preOrderHooks;w!==null&&ys(e,w,0,null),Zu(e,0)}if(s||Gb(e),jy(e,0),t.contentQueries!==null&&My(t,e),!o)if(f){let w=t.contentCheckHooks;w!==null&&ms(e,w)}else{let w=t.contentHooks;w!==null&&ys(e,w,1),Zu(e,1)}ub(t,e);let g=t.components;g!==null&&Uy(e,g,0);let I=t.viewQuery;if(I!==null&&Pc(2,I,r),!o)if(f){let w=t.viewCheckHooks;w!==null&&ms(e,w)}else{let w=t.viewHooks;w!==null&&ys(e,w,2),Zu(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[gs]){for(let w of e[gs])w();e[gs]=null}o||(e[V]&=-73)}catch(f){throw o||ea(e),f}finally{h!==null&&(Po(h,c),u&&jb(h)),Tl()}}function jy(t,e){for(let n=iy(t);n!==null;n=oy(n))for(let r=Oe;r<n.length;r++){let i=n[r];By(i,e)}}function Gb(t){for(let e=iy(t);e!==null;e=oy(e)){if(!(e[V]&As.HasTransplantedViews))continue;let n=e[yr];for(let r=0;r<n.length;r++){let i=n[r];Am(i)}}}function Wb(t,e,n){let r=on(e,t);By(r,n)}function By(t,e){_l(t)&&Oc(t,e)}function Oc(t,e){let r=t[j],i=t[V],o=t[at],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Oo(o)),s||=!1,o&&(o.dirty=!1),t[V]&=-9217,s)zb(r,t,r.template,t[Pe]);else if(i&8192){jy(t,1);let u=r.components;u!==null&&Uy(t,u,1)}}function Uy(t,e,n){for(let r=0;r<e.length;r++)Wb(t,e[r],n)}function Ul(t,e){let n=Om()?64:1088;for(t[St].changeDetectionScheduler?.notify(e);t;){t[V]|=n;let r=Mn(t);if(gc(t)&&!r)return t;t=r}return null}var kn=class{get rootNodes(){let e=this._lView,n=e[j];return Fs(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pe]}set context(e){this._lView[Pe]=e}get destroyed(){return(this._lView[V]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ke];if(Mt(e)){let n=e[Ss],r=n?n.indexOf(this):-1;r>-1&&(xi(e,r),Ds(n,r))}this._attachedToViewContainer=!1}sa(this._lView[j],this._lView)}onDestroy(e){xm(this._lView,e)}markForCheck(){Ul(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[V]&=-129}reattach(){yc(this._lView),this._lView[V]|=128}detectChanges(){this._lView[V]|=1024,Vy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=gc(this._lView),n=this._lView[An];n!==null&&!e&&Rl(n,this._lView),hy(this._lView[j],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=e;let n=gc(this._lView),r=this._lView[An];r!==null&&!n&&fy(r,this._lView),yc(this._lView)}},Mi=(()=>{class t{static{this.__NG_ELEMENT_ID__=Yb}}return t})(),Kb=Mi,Qb=class extends Kb{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Li(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new kn(i)}};function Yb(){return da(Ye(),Q())}function da(t,e){return t.type&4?new Qb(e,t,Tr(t,e)):null}var NO=new RegExp(`^(\\d+)*(${FD}|${kD})*(.*)`);var Zb=()=>null;function wr(t,e){return Zb(t,e)}var Ir=class{},$l=new X("",{providedIn:"root",factory:()=>!1});var $y=new X(""),Hy=new X(""),kc=class{},Ls=class{};function Jb(t){let e=Error(`No component factory found for ${We(t)}.`);return e[Xb]=t,e}var Xb="ngComponent";var Fc=class{resolveComponentFactory(e){throw Jb(e)}},Er=class{static{this.NULL=new Fc}},Vs=class{},ha=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>eT()}}return t})();function eT(){let t=Q(),e=Ye(),n=on(e.index,t);return(Yt(n)?n:t)[Ee]}var tT=(()=>{class t{static{this.\u0275prov=ne({token:t,providedIn:"root",factory:()=>null})}}return t})();function js(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let u=e[s];if(typeof u=="number")o=u;else if(o==1)i=sg(i,u);else if(o==2){let c=u,h=e[++s];r=sg(r,c+": "+h+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Bs=class extends Er{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Sn(e);return new Ni(n,this.ngModule)}};function Ng(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,u=o?i[1]:Zt.None;e?n.push({propName:s,templateName:r,isSignal:(u&Zt.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function nT(t){let e=t.toLowerCase();return e==="svg"?OE:e==="math"?kE:null}var Ni=class extends Ls{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Ng(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Ng(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=hE(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=$(null);try{i=i||this.ngModule;let s=i instanceof Jt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let u=s?new _c(e,s):e,c=u.get(Vs,null);if(c===null)throw new J(407,!1);let h=u.get(tT,null),f=u.get(Ir,null),g={rendererFactory:c,sanitizer:h,inlineEffectRunner:null,changeDetectionScheduler:f},I=c.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",S=r?db(I,r,this.componentDef.encapsulation,u):dy(I,w,nT(w)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;S!==null&&(R=Ml(S,u,!0));let k=Ll(0,null,null,1,0,null,null,null,null,null,null),L=ca(null,k,null,M,null,null,g,I,u,null,R);bl(L);let ee,oe,qe=null;try{let se=this.componentDef,E,m=null;se.findHostDirectiveDefs?(E=[],m=new Map,se.findHostDirectiveDefs(se,E,m),E.push(se)):E=[se];let v=rT(L,S);qe=iT(v,S,se,E,L,g,I),oe=vl(k,Se),S&&aT(I,se,S,r),n!==void 0&&uT(oe,this.ngContentSelectors,n),ee=sT(qe,se,E,m,L,[cT]),Bl(k,L,null)}catch(se){throw qe!==null&&Ac(qe),Ac(L),se}finally{Tl()}return new Lc(this.componentType,ee,Tr(oe,L),L,oe)}finally{$(o)}}},Lc=class extends kc{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new kn(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;jl(o[j],o,i,e,n),this.previousInputValues.set(e,n);let s=on(this._tNode.index,o);Ul(s,1)}}get injector(){return new Tn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function rT(t,e){let n=t[j],r=Se;return t[r]=e,Cr(n,r,2,"#host",null)}function iT(t,e,n,r,i,o,s){let u=i[j];oT(r,t,e,s);let c=null;e!==null&&(c=Ml(e,i[mr]));let h=o.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let g=ca(i,Cy(n),null,f,i[t.index],t,o,h,null,null,c);return u.firstCreatePass&&Rc(u,t,r.length-1),la(i,g),i[t.index]=g}function oT(t,e,n,r){for(let i of t)e.mergedAttrs=Ti(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(js(e,e.mergedAttrs,!0),n!==null&&Iy(r,n,e))}function sT(t,e,n,r,i,o){let s=Ye(),u=i[j],c=ft(s,i);Sy(u,i,s,n,null,r);for(let f=0;f<n.length;f++){let g=s.directiveStart+f,I=Pn(i,u,g,s);tn(I,i)}Ay(u,i,s),c&&tn(c,i);let h=Pn(i,u,s.directiveStart+s.componentOffset,s);if(t[Pe]=i[Pe]=h,o!==null)for(let f of o)f(h,e);return Ol(u,s,i),h}function aT(t,e,n,r){if(r)dc(t,n,["ng-version","18.2.11"]);else{let{attrs:i,classes:o}=fE(e.selectors[0]);i&&dc(t,n,i),o&&o.length>0&&wy(t,n,o.join(" "))}}function uT(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function cT(){let t=Ye();ia(Q()[j],t)}var ji=(()=>{class t{static{this.__NG_ELEMENT_ID__=lT}}return t})();function lT(){let t=Ye();return zy(t,Q())}var dT=ji,qy=class extends dT{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Tr(this._hostTNode,this._hostLView)}get injector(){return new Tn(this._hostTNode,this._hostLView)}get parentInjector(){let e=Cl(this._hostTNode,this._hostLView);if(Hm(e)){let n=Ms(e,this._hostLView),r=xs(e),i=n[j].data[r+8];return new Tn(i,n)}else return new Tn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Rg(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Oe}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=wr(this._lContainer,e.ssrId),u=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(u,i,_r(this._hostTNode,s)),u}createComponent(e,n,r,i,o){let s=e&&!ME(e),u;if(s)u=n;else{let S=n||{};u=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let c=s?e:new Ni(Sn(e)),h=r||this.parentInjector;if(!o&&c.ngModule==null){let M=(s?h:this.parentInjector).get(Jt,null);M&&(o=M)}let f=Sn(c.componentType??{}),g=wr(this._lContainer,f?.id??null),I=g?.firstChild??null,w=c.create(h,i,I,o);return this.insertImpl(w.hostView,u,_r(this._hostTNode,g)),w}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(LE(i)){let u=this.indexOf(e);if(u!==-1)this.detach(u);else{let c=i[ke],h=new qy(c,c[Qe],c[ke]);h.detach(h.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Vi(s,i,o,r),e.attachToViewContainerRef(),tm(nc(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Rg(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=xi(this._lContainer,n);r&&(Ds(nc(this._lContainer),n),sa(r[j],r))}detach(e){let n=this._adjustIndex(e,-1),r=xi(this._lContainer,n);return r&&Ds(nc(this._lContainer),n)!=null?new kn(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Rg(t){return t[Ss]}function nc(t){return t[Ss]||(t[Ss]=[])}function zy(t,e){let n,r=e[t.index];return Mt(r)?n=r:(n=xy(r,e,null,t),e[t.index]=n,la(e,n)),fT(n,e,t,r),new qy(n,t,e)}function hT(t,e){let n=t[Ee],r=n.createComment(""),i=ft(e,t),o=my(n,i);return ks(n,o,r,eb(n,i),!1),r}var fT=mT,pT=()=>!1;function gT(t,e,n){return pT(t,e,n)}function mT(t,e,n,r){if(t[xn])return;let i;n.type&8?i=mt(r):i=hT(e,n),t[xn]=i}var Vc=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},jc=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),u=this.queries[s.indexInDeclarationView];i.push(u.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Hl(e,n).matches!==null&&this.queries[n].setDirty()}},Bc=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=bT(e):this.predicate=e}},Uc=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},$c=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,yT(n,o)),this.matchTNodeWithReadOption(e,n,vs(n,e,o,!1,!1))}else r===Mi?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,vs(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Nt||i===ji||i===Mi&&n.type&4)this.addMatch(n.index,-2);else{let o=vs(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function yT(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function vT(t,e){return t.type&11?Tr(t,e):t.type&4?da(t,e):null}function _T(t,e,n,r){return n===-1?vT(e,t):n===-2?wT(t,e,r):Pn(t,t[j],n,e)}function wT(t,e,n){if(n===Nt)return Tr(e,t);if(n===Mi)return da(e,t);if(n===ji)return zy(e,t)}function Gy(t,e,n,r){let i=e[At].queries[r];if(i.matches===null){let o=t.data,s=n.matches,u=[];for(let c=0;s!==null&&c<s.length;c+=2){let h=s[c];if(h<0)u.push(null);else{let f=o[h];u.push(_T(e,f,s[c+1],n.metadata.read))}}i.matches=u}return i.matches}function Hc(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Gy(t,e,i,n);for(let u=0;u<o.length;u+=2){let c=o[u];if(c>0)r.push(s[u/2]);else{let h=o[u+1],f=e[-c];for(let g=Oe;g<f.length;g++){let I=f[g];I[An]===I[ke]&&Hc(I[j],I,h,r)}if(f[yr]!==null){let g=f[yr];for(let I=0;I<g.length;I++){let w=g[I];Hc(w[j],w,h,r)}}}}}return r}function IT(t,e){return t[At].queries[e].queryList}function ET(t,e,n){let r=new Sc((n&4)===4);return pb(t,e,r,r.destroy),(e[At]??=new jc).queries.push(new Vc(r))-1}function DT(t,e,n){let r=Ae();return r.firstCreatePass&&(TT(r,new Bc(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),ET(r,Q(),e)}function bT(t){return t.split(",").map(e=>e.trim())}function TT(t,e,n){t.queries===null&&(t.queries=new Uc),t.queries.track(new $c(e,n))}function Hl(t,e){return t.queries.getByIndex(e)}function CT(t,e){let n=t[j],r=Hl(n,e);return r.crossesNgTemplate?Hc(n,t,e,[]):Gy(n,t,r,e)}var Pg=new Set;function an(t){Pg.has(t)||(Pg.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function PO(t,e){an("NgSignals");let n=Cp(t),r=n[Tt];return e?.equal&&(r.equal=e.equal),n.set=i=>Pu(r,i),n.update=i=>Sp(r,i),n.asReadonly=ST.bind(n),n}function ST(){let t=this[Tt];if(t.readonlyFn===void 0){let e=()=>this();e[Tt]=t,t.readonlyFn=e}return t.readonlyFn}function AT(t){return Object.getPrototypeOf(t.prototype).constructor}function xT(t){let e=AT(t.type),n=!0,r=[t];for(;e;){let i;if(Xt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new J(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=ds(t.inputs),s.inputTransforms=ds(t.inputTransforms),s.declaredInputs=ds(t.declaredInputs),s.outputs=ds(t.outputs);let u=i.hostBindings;u&&OT(t,u);let c=i.viewQuery,h=i.contentQueries;if(c&&RT(t,c),h&&PT(t,h),MT(t,i),SI(t.outputs,i.outputs),Xt(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let u=o[s];u&&u.ngInherit&&u(t),u===xT&&(n=!1)}}e=Object.getPrototypeOf(e)}NT(r)}function MT(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function NT(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ti(i.hostAttrs,n=Ti(n,i.hostAttrs))}}function ds(t){return t===fr?{}:t===st?[]:t}function RT(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function PT(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function OT(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var nn=class{},qc=class{};var zc=class extends nn{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bs(this);let o=lm(e);this._bootstrapComponents=ly(o.bootstrap),this._r3Injector=Jm(e,n,[{provide:nn,useValue:this},{provide:Er,useValue:this.componentFactoryResolver},...r],We(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Gc=class extends qc{constructor(e){super(),this.moduleType=e}create(e){return new zc(this.moduleType,e,[])}};var Us=class extends nn{constructor(e){super(),this.componentFactoryResolver=new Bs(this),this.instance=null;let n=new Ci([...e.providers,{provide:nn,useValue:this},{provide:Er,useValue:this.componentFactoryResolver}],e.parent||gl(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function kT(t,e,n=null){return new Us({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function Wy(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Ky(t,e,n){return t[e]=n}function rn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function FT(t,e,n,r){let i=rn(t,e,n);return rn(t,e+1,r)||i}function LT(t){return(t.flags&32)===32}function VT(t,e,n,r,i,o,s,u,c){let h=e.consts,f=Cr(e,t,4,s||null,u||null);Vl(e,n,f,en(h,c)),ia(e,f);let g=f.tView=Ll(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,h,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function $s(t,e,n,r,i,o,s,u,c,h){let f=n+Se,g=e.firstCreatePass?VT(f,e,t,r,i,o,s,u,c):e.data[f];Ln(g,!1);let I=BT(e,t,g,n);na()&&aa(e,t,I,g),tn(I,t);let w=xy(I,t,I,g);return t[f]=w,la(t,w),gT(w,g,t),Js(g)&&kl(e,t,g),c!=null&&Fl(t,g,h),g}function jT(t,e,n,r,i,o,s,u){let c=Q(),h=Ae(),f=en(h.consts,o);return $s(c,h,t,e,n,r,i,f,s,u),jT}var BT=UT;function UT(t,e,n,r){return ra(!0),e[Ee].createComment("")}var Ii=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ii||{}),$T=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=ne({token:t,providedIn:"root",factory:()=>new t})}}return t})(),Og=class t{constructor(){this.ngZone=H(Ke),this.scheduler=H(Ir),this.errorHandler=H(On,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Ii.EarlyRead,Ii.Write,Ii.MixedReadWrite,Ii.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=ne({token:t,providedIn:"root",factory:()=>new t})}};function HT(t,e,n,r){return rn(t,ta(),n)?e+Zg(n)+r:sn}function hs(t,e){return t<<17|e<<2}function Fn(t){return t>>17&32767}function qT(t){return(t&2)==2}function zT(t,e){return t&131071|e<<17}function Wc(t){return t|2}function Dr(t){return(t&131068)>>2}function rc(t,e){return t&-131069|e<<2}function GT(t){return(t&1)===1}function Kc(t){return t|1}function WT(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,u=Fn(s),c=Dr(s);t[r]=n;let h=!1,f;if(Array.isArray(n)){let g=n;f=g[1],(f===null||Oi(g,f)>0)&&(h=!0)}else f=n;if(i)if(c!==0){let I=Fn(t[u+1]);t[r+1]=hs(I,u),I!==0&&(t[I+1]=rc(t[I+1],r)),t[u+1]=zT(t[u+1],r)}else t[r+1]=hs(u,0),u!==0&&(t[u+1]=rc(t[u+1],r)),u=r;else t[r+1]=hs(c,0),u===0?u=r:t[c+1]=rc(t[c+1],r),c=r;h&&(t[r+1]=Wc(t[r+1])),kg(t,f,r,!0),kg(t,f,r,!1),KT(e,f,t,r,o),s=hs(u,c),o?e.classBindings=s:e.styleBindings=s}function KT(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Oi(o,e)>=0&&(n[r+1]=Kc(n[r+1]))}function kg(t,e,n,r){let i=t[n+1],o=e===null,s=r?Fn(i):Dr(i),u=!1;for(;s!==0&&(u===!1||o);){let c=t[s],h=t[s+1];QT(c,e)&&(u=!0,t[s+1]=r?Kc(h):Wc(h)),s=r?Fn(h):Dr(h)}u&&(t[n+1]=r?Wc(i):Kc(i))}function QT(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Oi(t,e)>=0:!1}function YT(t,e,n){let r=Q(),i=ta();if(rn(r,i,e)){let o=Ae(),s=tD();vb(o,s,r,t,e,r[Ee],n,!1)}return YT}function Fg(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";jl(t,n,o[s],s,r)}function ZT(t,e){return JT(t,e,null,!0),ZT}function JT(t,e,n,r){let i=Q(),o=Ae(),s=KE(2);if(o.firstUpdatePass&&e0(o,t,s,r),e!==sn&&rn(i,s,e)){let u=o.data[Vn()];o0(o,u,i,i[Ee],t,i[s+1]=s0(e,n),r,s)}}function XT(t,e){return e>=t.expandoStartIndex}function e0(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Vn()],s=XT(t,n);a0(o,r)&&e===null&&!s&&(e=!1),e=t0(i,o,e,r),WT(i,o,e,n,s,r)}}function t0(t,e,n,r){let i=JE(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=ic(null,t,e,n,r),n=Ri(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=ic(i,t,e,n,r),o===null){let c=n0(t,e,r);c!==void 0&&Array.isArray(c)&&(c=ic(null,t,e,c[1],r),c=Ri(c,e.attrs,r),r0(t,e,r,c))}else o=i0(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function n0(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Dr(r)!==0)return t[Fn(r)]}function r0(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Fn(i)]=r}function i0(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ri(r,s,n)}return Ri(r,e.attrs,n)}function ic(t,e,n,r,i){let o=null,s=n.directiveEnd,u=n.directiveStylingLast;for(u===-1?u=n.directiveStart:u++;u<s&&(o=e[u],r=Ri(r,o.hostAttrs,i),o!==t);)u++;return t!==null&&(n.directiveStylingLast=u),r}function Ri(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),JI(t,s,n?!0:e[++o]))}return t===void 0?null:t}function o0(t,e,n,r,i,o,s,u){if(!(e.type&3))return;let c=t.data,h=c[u+1],f=GT(h)?Lg(c,e,n,i,Dr(h),s):void 0;if(!Hs(f)){Hs(o)||qT(h)&&(o=Lg(c,null,n,i,u,s));let g=Tm(Vn(),n);sb(r,s,g,i,o)}}function Lg(t,e,n,r,i,o){let s=e===null,u;for(;i>0;){let c=t[i],h=Array.isArray(c),f=h?c[1]:c,g=f===null,I=n[i+1];I===sn&&(I=g?st:void 0);let w=g?Qu(I,r):f===r?I:void 0;if(h&&!Hs(w)&&(w=Qu(c,r)),Hs(w)&&(u=w,s))return u;let S=t[i+1];i=s?Fn(S):Dr(S)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(u=Qu(c,r))}return u}function Hs(t){return t!==void 0}function s0(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=We(cy(t)))),t}function a0(t,e){return(t.flags&(e?8:16))!==0}var Qc=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function oc(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function u0(t,e,n){let r,i,o=0,s=t.length-1,u=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let h=t.at(o),f=e[o],g=oc(o,h,o,f,n);if(g!==0){g<0&&t.updateValue(o,f),o++;continue}let I=t.at(s),w=e[c],S=oc(s,I,c,w,n);if(S!==0){S<0&&t.updateValue(s,w),s--,c--;continue}let M=n(o,h),R=n(s,I),k=n(o,f);if(Object.is(k,R)){let L=n(c,w);Object.is(L,M)?(t.swap(o,s),t.updateValue(s,w),c--,s--):t.move(s,o),t.updateValue(o,f),o++;continue}if(r??=new qs,i??=jg(t,o,s,n),Yc(t,r,o,k))t.updateValue(o,f),o++,s++;else if(i.has(k))r.set(M,t.detach(o)),s--;else{let L=t.create(o,e[o]);t.attach(o,L),o++,s++}}for(;o<=c;)Vg(t,r,n,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),h=c.next();for(;!h.done&&o<=s;){let f=t.at(o),g=h.value,I=oc(o,f,o,g,n);if(I!==0)I<0&&t.updateValue(o,g),o++,h=c.next();else{r??=new qs,i??=jg(t,o,s,n);let w=n(o,g);if(Yc(t,r,o,w))t.updateValue(o,g),o++,s++,h=c.next();else if(!i.has(w))t.attach(o,t.create(o,g)),o++,s++,h=c.next();else{let S=n(o,f);r.set(S,t.detach(o)),s--}}}for(;!h.done;)Vg(t,r,n,t.length,h.value),h=c.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(c=>{t.destroy(c)})}function Yc(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function Vg(t,e,n,r,i){if(Yc(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function jg(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var qs=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function OO(t,e){an("NgControlFlow");let n=Q(),r=ta(),i=n[r]!==sn?n[r]:-1,o=i!==-1?zs(n,Se+i):void 0,s=0;if(rn(n,r,t)){let u=$(null);try{if(o!==void 0&&ky(o,s),t!==-1){let c=Se+t,h=zs(n,c),f=el(n[j],c),g=wr(h,f.tView.ssrId),I=Li(n,f,e,{dehydratedView:g});Vi(h,I,s,_r(f,g))}}finally{$(u)}}else if(o!==void 0){let u=Oy(o,s);u!==void 0&&(u[Pe]=e)}}var Zc=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Oe}};function kO(t){return t}var Jc=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function FO(t,e,n,r,i,o,s,u,c,h,f,g,I){an("NgControlFlow");let w=Q(),S=Ae(),M=c!==void 0,R=Q(),k=u?s.bind(R[et][Pe]):s,L=new Jc(M,k);R[Se+t]=L,$s(w,S,t+1,e,n,r,i,en(S.consts,o)),M&&$s(w,S,t+2,c,h,f,g,en(S.consts,I))}var Xc=class extends Qc{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Oe}at(e){return this.getLView(e)[Pe].$implicit}attach(e,n){let r=n[gr];this.needsIndexUpdate||=e!==this.length,Vi(this.lContainer,n,e,_r(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,c0(this.lContainer,e)}create(e,n){let r=wr(this.lContainer,this.templateTNode.tView.ssrId),i=Li(this.hostLView,this.templateTNode,new Zc(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){sa(e[j],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Pe].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Pe].$index=e}getLView(e){return l0(this.lContainer,e)}};function LO(t){let e=$(null),n=Vn();try{let r=Q(),i=r[j],o=r[n],s=n+1,u=zs(r,s);if(o.liveCollection===void 0){let h=el(i,s);o.liveCollection=new Xc(u,r,h)}else o.liveCollection.reset();let c=o.liveCollection;if(u0(c,t,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let h=ta(),f=c.length===0;if(rn(r,h,f)){let g=n+2,I=zs(r,g);if(f){let w=el(i,g),S=wr(I,w.tView.ssrId),M=Li(r,w,void 0,{dehydratedView:S});Vi(I,M,0,_r(w,S))}else ky(I,0)}}}finally{$(e)}}function zs(t,e){return t[e]}function c0(t,e){return xi(t,e)}function l0(t,e){return Oy(t,e)}function el(t,e){return vl(t,e)}function d0(t,e,n,r,i,o){let s=e.consts,u=en(s,i),c=Cr(e,t,2,r,u);return Vl(e,n,c,en(s,o)),c.attrs!==null&&js(c,c.attrs,!1),c.mergedAttrs!==null&&js(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function Qy(t,e,n,r){let i=Q(),o=Ae(),s=Se+t,u=i[Ee],c=o.firstCreatePass?d0(s,o,i,e,n,r):o.data[s],h=f0(o,i,c,u,e,t);i[s]=h;let f=Js(c);return Ln(c,!0),Iy(u,h,c),!LT(c)&&na()&&aa(o,i,h,c),BE()===0&&tn(h,i),UE(),f&&(kl(o,i,c),Ol(o,c,i)),r!==null&&Fl(i,c),Qy}function Yy(){let t=Ye();wl()?Il():(t=t.parent,Ln(t,!1));let e=t;HE(e)&&qE(),$E();let n=Ae();return n.firstCreatePass&&(ia(n,t),ml(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&sD(e)&&Fg(n,e,Q(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&aD(e)&&Fg(n,e,Q(),e.stylesWithoutHost,!1),Yy}function h0(t,e,n,r){return Qy(t,e,n,r),Yy(),h0}var f0=(t,e,n,r,i,o)=>(ra(!0),dy(r,i,nD()));function p0(t,e,n,r,i){let o=e.consts,s=en(o,r),u=Cr(e,t,8,"ng-container",s);s!==null&&js(u,s,!0);let c=en(o,i);return Vl(e,n,u,c),e.queries!==null&&e.queries.elementStart(e,u),u}function Zy(t,e,n){let r=Q(),i=Ae(),o=t+Se,s=i.firstCreatePass?p0(o,i,r,e,n):i.data[o];Ln(s,!0);let u=m0(i,r,s,t);return r[o]=u,na()&&aa(i,r,u,s),tn(u,r),Js(s)&&(kl(i,r,s),Ol(i,s,r)),n!=null&&Fl(r,s),Zy}function Jy(){let t=Ye(),e=Ae();return wl()?Il():(t=t.parent,Ln(t,!1)),e.firstCreatePass&&(ia(e,t),ml(t)&&e.queries.elementEnd(t)),Jy}function g0(t,e,n){return Zy(t,e,n),Jy(),g0}var m0=(t,e,n,r)=>(ra(!0),GD(e[Ee],""));function VO(){return Q()}var Gs="en-US";var y0=Gs;function v0(t){typeof t=="string"&&(y0=t.toLowerCase().replace(/_/g,"-"))}var _0=(t,e,n)=>{};function w0(t,e,n,r){let i=Q(),o=Ae(),s=Ye();return E0(o,i,i[Ee],s,t,e,r),w0}function I0(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let u=e[Cs],c=i[o+2];return u.length>c?u[c]:null}typeof s=="string"&&(o+=2)}return null}function E0(t,e,n,r,i,o,s){let u=Js(r),h=t.firstCreatePass&&Ry(t),f=e[Pe],g=Ny(e),I=!0;if(r.type&3||s){let M=ft(r,e),R=s?s(M):M,k=g.length,L=s?oe=>s(mt(oe[r.index])):r.index,ee=null;if(!s&&u&&(ee=I0(t,e,i,r.index)),ee!==null){let oe=ee.__ngLastListenerFn__||ee;oe.__ngNextListenerFn__=o,ee.__ngLastListenerFn__=o,I=!1}else{o=Ug(r,e,f,o),_0(M,i,o);let oe=n.listen(R,i,o);g.push(o,oe),h&&h.push(i,L,k,k+1)}}else o=Ug(r,e,f,o);let w=r.outputs,S;if(I&&w!==null&&(S=w[i])){let M=S.length;if(M)for(let R=0;R<M;R+=2){let k=S[R],L=S[R+1],qe=e[k][L].subscribe(o),se=g.length;g.push(o,qe),h&&h.push(i,r.index,se,-(se+1))}}}function Bg(t,e,n,r){let i=$(null);try{return pt(6,e,n),n(r)!==!1}catch(o){return Py(t,o),!1}finally{pt(7,e,n),$(i)}}function Ug(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?on(t.index,e):e;Ul(s,5);let u=Bg(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)u=Bg(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return u}}function jO(t=1){return eD(t)}function D0(t,e){let n=null,r=aE(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?sm(t,o,!0):lE(r,o))return i}return n}function BO(t){let e=Q()[et][Qe];if(!e.projection){let n=t?t.length:1,r=e.projection=YI(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?D0(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function UO(t,e=0,n,r,i,o){let s=Q(),u=Ae(),c=r?t+1:null;c!==null&&$s(s,u,c,r,i,o,null,n);let h=Cr(u,Se+t,16,null,n||null);h.projection===null&&(h.projection=e),Il();let g=!s[gr]||Rm();s[et][Qe].projection[h.projection]===null&&c!==null?b0(s,u,c):g&&(h.flags&32)!==32&&ib(u,s,h)}function b0(t,e,n){let r=Se+n,i=e.data[r],o=t[r],s=wr(o,i.tView.ssrId),u=Li(t,i,void 0,{dehydratedView:s});Vi(o,u,0,_r(i,s))}function $O(t,e,n){DT(t,e,n)}function HO(t){let e=Q(),n=Ae(),r=km();Dl(r+1);let i=Hl(n,r);if(t.dirty&&FE(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=CT(e,r);t.reset(o,SD),t.notifyOnChanges()}return!0}return!1}function qO(){return IT(Q(),km())}function T0(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function zO(t){let e=GE();return Cm(e,Se+t)}function GO(t,e=""){let n=Q(),r=Ae(),i=t+Se,o=r.firstCreatePass?Cr(r,i,1,e,null):r.data[i],s=C0(r,n,o,e,t);n[i]=s,na()&&aa(r,n,s,o),Ln(o,!1)}var C0=(t,e,n,r,i)=>(ra(!0),qD(e[Ee],r));function S0(t){return Xy("",t,""),S0}function Xy(t,e,n){let r=Q(),i=HT(r,t,e,n);return i!==sn&&Rb(r,Vn(),i),Xy}function A0(t,e,n){let r=Ae();if(r.firstCreatePass){let i=Xt(t);tl(n,r.data,r.blueprint,i,!0),tl(e,r.data,r.blueprint,i,!1)}}function tl(t,e,n,r,i){if(t=He(t),Array.isArray(t))for(let o=0;o<t.length;o++)tl(t[o],e,n,r,i);else{let o=Ae(),s=Q(),u=Ye(),c=pr(t)?t:He(t.provide),h=ym(t),f=u.providerIndexes&1048575,g=u.directiveStart,I=u.providerIndexes>>20;if(pr(t)||!t.multi){let w=new Rn(h,i,Ze),S=ac(c,e,i?f:f+I,g);S===-1?(Ic(Rs(u,s),o,c),sc(o,t,e.length),e.push(c),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(w),s.push(w)):(n[S]=w,s[S]=w)}else{let w=ac(c,e,f+I,g),S=ac(c,e,f,f+I),M=w>=0&&n[w],R=S>=0&&n[S];if(i&&!R||!i&&!M){Ic(Rs(u,s),o,c);let k=N0(i?M0:x0,n.length,i,r,h);!i&&R&&(n[S].providerFactory=k),sc(o,t,e.length,0),e.push(c),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(k),s.push(k)}else{let k=ev(n[i?S:w],h,!i&&r);sc(o,t,w>-1?w:S,k)}!i&&r&&R&&n[S].componentProviders++}}}function sc(t,e,n,r){let i=pr(e),o=EE(e);if(i||o){let c=(o?He(e.useClass):e).prototype.ngOnDestroy;if(c){let h=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=h.indexOf(n);f===-1?h.push(n,[r,c]):h[f+1].push(r,c)}else h.push(n,c)}}}function ev(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ac(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function x0(t,e,n,r){return nl(this.multi,[])}function M0(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,u=Pn(n,n[j],this.providerFactory.index,r);o=u.slice(0,s),nl(i,o);for(let c=s;c<u.length;c++)o.push(u[c])}else o=[],nl(i,o);return o}function nl(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function N0(t,e,n,r,i){let o=new Rn(t,n,Ze);return o.multi=[],o.index=e,o.componentProviders=0,ev(o,i,r&&!n),o}function WO(t,e=[]){return n=>{n.providersResolver=(r,i)=>A0(r,i?i(t):t,e)}}var R0=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=fm(!1,n.type),i=r.length>0?kT([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ne({token:t,providedIn:"environment",factory:()=>new t(de(Jt))})}}return t})();function KO(t){an("NgStandalone"),t.getStandaloneInjector=e=>e.get(R0).getOrCreateStandaloneInjector(t)}function QO(t,e,n,r){return nv(Q(),El(),t,e,n,r)}function YO(t,e,n,r,i){return P0(Q(),El(),t,e,n,r,i)}function tv(t,e){let n=t[e];return n===sn?void 0:n}function nv(t,e,n,r,i,o){let s=e+n;return rn(t,s,i)?Ky(t,s+1,o?r.call(o,i):r(i)):tv(t,s+1)}function P0(t,e,n,r,i,o,s){let u=e+n;return FT(t,u,i,o)?Ky(t,u+2,s?r.call(s,i,o):r(i,o)):tv(t,u+2)}function ZO(t,e){let n=Ae(),r,i=t+Se;n.firstCreatePass?(r=O0(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Cn(r.type,!0)),s,u=Ge(Ze);try{let c=Ns(!1),h=o();return Ns(c),T0(n,Q(),i,h),h}finally{Ge(u)}}function O0(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function JO(t,e,n){let r=t+Se,i=Q(),o=Cm(i,r);return k0(i,r)?nv(i,El(),e,o.transform,n,o):o.transform(n)}function k0(t,e){return t[j].data[e].pure}function XO(t,e){return da(t,e)}var ek=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var F0=new X("");function ql(t){return!!t&&typeof t.then=="function"}function rv(t){return!!t&&typeof t.subscribe=="function"}var L0=new X(""),iv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=H(L0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(ql(o))n.push(o);else if(rv(o)){let s=new Promise((u,c)=>{o.subscribe({complete:u,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),V0=new X("");function j0(){Tp(()=>{throw new J(600,!1)})}function B0(t){return t.isBoundToModule}var U0=10;function $0(t,e,n){try{let r=n();return ql(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var fa=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=H(TD),this.afterRenderManager=H($T),this.zonelessEnabled=H($l),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new it,this.afterTick=new it,this.componentTypes=[],this.components=[],this.isStable=H(Fi).hasPendingTasks.pipe(ot(n=>!n)),this._injector=H(Jt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Ls;if(!this._injector.get(iv).done){let I=!i&&mE(n),w=!1;throw new J(405,w)}let s;i?s=n:s=this._injector.get(Er).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let u=B0(s)?void 0:this._injector.get(nn),c=r||s.selector,h=s.create(vr.NULL,[],c,u),f=h.location.nativeElement,g=h.injector.get(F0,null);return g?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),_s(this.components,h),g?.unregisterApplication(f)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new J(101,!1);let n=$(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,$(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Vs,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<U0;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)H0(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Xs(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;_s(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(V0,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>_s(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new J(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function _s(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function H0(t,e,n,r){if(!n&&!Xs(t))return;Vy(t,e,n&&!r?0:1)}var rl=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},tk=(()=>{class t{compileModuleSync(n){return new Gc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=lm(n),o=ly(i.declarations).reduce((s,u)=>{let c=Sn(u);return c&&s.push(new Ni(c)),s},[]);return new rl(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var q0=(()=>{class t{constructor(){this.zone=H(Ke),this.changeDetectionScheduler=H(Ir),this.applicationRef=H(fa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),z0=new X("",{factory:()=>!1});function ov({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ke(rt($e({},sv()),{scheduleInRootZone:n})),[{provide:Ke,useFactory:t},{provide:bs,multi:!0,useFactory:()=>{let r=H(q0,{optional:!0});return()=>r.initialize()}},{provide:bs,multi:!0,useFactory:()=>{let r=H(G0);return()=>{r.initialize()}}},e===!0?{provide:$y,useValue:!0}:[],{provide:Hy,useValue:n??Xm}]}function nk(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=ov({ngZoneFactory:()=>{let i=sv(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&an("NgZone_CoalesceEvent"),new Ke(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return fl([{provide:z0,useValue:!0},{provide:$l,useValue:!1},r])}function sv(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var G0=(()=>{class t{constructor(){this.subscription=new we,this.initialized=!1,this.zone=H(Ke),this.pendingTasks=H(Fi)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ke.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ke.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var W0=(()=>{class t{constructor(){this.appRef=H(fa),this.taskService=H(Fi),this.ngZone=H(Ke),this.zonelessEnabled=H($l),this.disableScheduling=H($y,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new we,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Os):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(H(Hy,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Cc||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Dg:ey;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Os+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Dg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function K0(){return typeof $localize<"u"&&$localize.locale||Gs}var zl=new X("",{providedIn:"root",factory:()=>H(zl,K.Optional|K.SkipSelf)||K0()});var il=new X("");function fs(t){return!t.moduleRef}function Q0(t){let e=fs(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ke);return n.run(()=>{fs(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(On,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),fs(t)){let o=()=>e.destroy(),s=t.platformInjector.get(il);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(il);s.add(o),t.moduleRef.onDestroy(()=>{_s(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return $0(r,n,()=>{let o=e.get(iv);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(zl,Gs);if(v0(s||Gs),fs(t)){let u=e.get(fa);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return Y0(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function Y0(t,e){let n=t.injector.get(fa);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new J(-403,!1);e.push(t)}var ws=null;function Z0(t=[],e){return vr.create({name:e,providers:[{provide:mm,useValue:"platform"},{provide:il,useValue:new Set([()=>ws=null])},...t]})}function J0(t=[]){if(ws)return ws;let e=Z0(t);return ws=e,j0(),X0(e),e}function X0(t){t.get(OD,null)?.forEach(n=>n())}var Bi=(()=>{class t{static{this.__NG_ELEMENT_ID__=eC}}return t})();function eC(t){return tC(Ye(),Q(),(t&16)===16)}function tC(t,e,n){if(Zs(t)&&!n){let r=on(t.index,e);return new kn(r,r)}else if(t.type&175){let r=e[et];return new kn(r,e)}return null}var ol=class{constructor(){}supports(e){return e instanceof Map||Wy(e)}create(){return new sl}},sl=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Wy(e)))throw new J(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new al(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},al=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function $g(){return new Gl([new ol])}var Gl=(()=>{class t{static{this.\u0275prov=ne({token:t,providedIn:"root",factory:$g})}constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||$g()),deps:[[t,new WI,new GI]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new J(901,!1)}}return t})();function rk(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=J0(r),o=[ov({}),{provide:Ir,useExisting:W0},...n||[]],s=new Us({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return Q0({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function ik(t,e){an("NgSignals");let n=Ep(t);return e?.equal&&(n[Tt].equal=e.equal),n}function nC(t){let e=$(null);try{return t()}finally{$(e)}}var rC=new X("",{providedIn:"root",factory:()=>H(iC)}),iC=(()=>{class t{static{this.\u0275prov=ne({token:t,providedIn:"root",factory:()=>new ul})}}return t})(),ul=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=H(Fi),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},cl=class{constructor(e,n,r,i,o,s){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=o,this.watcher=xp(u=>this.runEffect(u),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(On,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function oC(t,e){an("NgSignals"),!e?.injector&&xE(oC);let n=e?.injector??H(vr),r=e?.manualCleanup!==!0?n.get(Sl):null,i=new cl(n.get(rC),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),o=n.get(Bi,null,{optional:!0});return!o||!(o._lView[V]&8)?i.watcher.notify():(o._lView[gs]??=[]).push(i.watcher.notify),i}var fv=null;function Wl(){return fv}function Ok(t){fv??=t}var uv=class{};var Zl=new X(""),pv=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ne({token:t,factory:()=>H(sC),providedIn:"platform"})}}return t})();var sC=(()=>{class t extends pv{constructor(){super(),this._doc=H(Zl),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wl().getBaseHref(this._doc)}onPopState(n){let r=Wl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Wl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ne({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function gv(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function cv(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function jn(t){return t&&t[0]!=="?"?"?"+t:t}var Jl=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ne({token:t,factory:()=>H(uC),providedIn:"root"})}}return t})(),aC=new X(""),uC=(()=>{class t extends Jl{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??H(Zl).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return gv(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+jn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+jn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+jn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(de(pv),de(aC,8))}}static{this.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var cC=(()=>{class t{constructor(n){this._subject=new Ie,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=hC(cv(lv(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+jn(r))}normalize(n){return t.stripTrailingSlash(dC(this._basePath,lv(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+jn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+jn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=jn}static{this.joinWithSlash=gv}static{this.stripTrailingSlash=cv}static{this.\u0275fac=function(r){return new(r||t)(de(Jl))}}static{this.\u0275prov=ne({token:t,factory:()=>lC(),providedIn:"root"})}}return t})();function lC(){return new cC(de(Jl))}function dC(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function lv(t){return t.replace(/\/index.html$/,"")}function hC(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function kk(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Kl=/\s+/,dv=[],Fk=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=dv,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Kl):dv}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Kl):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Kl).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(Ze(Nt),Ze(ha))}}static{this.\u0275dir=ki({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var Lk=(()=>{class t{constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[i,o]=n.split("."),s=i.indexOf("-")===-1?void 0:Ai.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||t)(Ze(Nt),Ze(Gl),Ze(ha))}}static{this.\u0275dir=ki({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return t})(),Vk=(()=>{class t{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(n,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static{this.\u0275fac=function(r){return new(r||t)(Ze(ji))}}static{this.\u0275dir=ki({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[yl]})}}return t})();function fC(t,e){return new J(2100,!1)}var jk=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw fC(t,n);return n.toUpperCase()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=Qs({name:"uppercase",type:t,pure:!0,standalone:!0})}}return t})();var pC="browser",gC="server";function mC(t){return t===pC}function Bk(t){return t===gC}var Uk=(()=>{class t{static{this.\u0275prov=ne({token:t,providedIn:"root",factory:()=>mC(H(ay))?new Ql(H(Zl),window):new Yl})}}return t})(),Ql=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=yC(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function yC(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Yl=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},hv=class{};var $i=class{},vC=(()=>{class t extends $i{getTranslation(n){return ar({})}static \u0275fac=(()=>{let n;return function(i){return(n||(n=oa(t)))(i||t)}})();static \u0275prov=ne({token:t,factory:t.\u0275fac})}return t})(),ga=class{},_C=(()=>{class t{handle(n){return n.key}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ne({token:t,factory:t.\u0275fac})}return t})();function ma(t,e){if(t===e)return!0;if(t===null||e===null)return!1;if(t!==t&&e!==e)return!0;let n=typeof t,r=typeof e,i,o,s;if(n==r&&n=="object")if(Array.isArray(t)){if(!Array.isArray(e))return!1;if((i=t.length)==e.length){for(o=0;o<i;o++)if(!ma(t[o],e[o]))return!1;return!0}}else{if(Array.isArray(e))return!1;s=Object.create(null);for(o in t){if(!ma(t[o],e[o]))return!1;s[o]=!0}for(o in e)if(!(o in s)&&typeof e[o]<"u")return!1;return!0}return!1}function un(t){return typeof t<"u"&&t!==null}function zi(t){return pa(t)&&!td(t)}function pa(t){return typeof t=="object"}function td(t){return Array.isArray(t)}function nd(t){return typeof t=="string"}function wC(t){return typeof t=="function"}function Xl(t,e){let n=Object.assign({},t);return pa(t)?(pa(t)&&pa(e)&&Object.keys(e).forEach(r=>{zi(e[r])?r in t?n[r]=Xl(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n):Xl({},e)}function ed(t,e){let n=e.split(".");e="";do e+=n.shift(),un(t)&&un(t[e])&&(zi(t[e])||td(t[e])||!n.length)?(t=t[e],e=""):n.length?e+=".":t=void 0;while(n.length);return t}function IC(t,e,n){let r=e.split("."),i=t;for(let o=0;o<r.length;o++){let s=r[o];o===r.length-1?i[s]=n:((!i[s]||!zi(i[s]))&&(i[s]={}),i=i[s])}}var Hi=class{},EC=(()=>{class t extends Hi{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(n,r){if(nd(n))return this.interpolateString(n,r);if(wC(n))return this.interpolateFunction(n,r)}interpolateFunction(n,r){return n(r)}interpolateString(n,r){return r?n.replace(this.templateMatcher,(i,o)=>{let s=ed(r,o);return un(s)?s:i}):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=oa(t)))(i||t)}})();static \u0275prov=ne({token:t,factory:t.\u0275fac})}return t})(),qi=class{},DC=(()=>{class t extends qi{compile(n,r){return n}compileTranslations(n,r){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=oa(t)))(i||t)}})();static \u0275prov=ne({token:t,factory:t.\u0275fac})}return t})(),ya=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new Ie;onLangChange=new Ie;onDefaultLangChange=new Ie},mv=new X("ISOALTE_TRANSLATE_SERVICE"),yv=new X("USE_DEFAULT_LANG"),vv=new X("DEFAULT_LANGUAGE"),_v=new X("USE_EXTEND"),Ui=t=>In(t)?t:ar(t),wv=(()=>{class t{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new Ie;_onLangChange=new Ie;_onDefaultLangChange=new Ie;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(n){this.isolate?this._defaultLang=n:this.store.defaultLang=n}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(n){this.isolate?this._currentLang=n:this.store.currentLang=n}get langs(){return this.isolate?this._langs:this.store.langs}set langs(n){this.isolate?this._langs=n:this.store.langs=n}get translations(){return this.isolate?this._translations:this.store.translations}set translations(n){this.isolate?this._translations=n:this.store.translations=n}constructor(n,r,i,o,s,u=!0,c=!1,h=!1,f){this.store=n,this.currentLoader=r,this.compiler=i,this.parser=o,this.missingTranslationHandler=s,this.useDefaultLang=u,this.isolate=c,this.extend=h,f&&this.setDefaultLang(f)}setDefaultLang(n){if(n===this.defaultLang)return;let r=this.retrieveTranslations(n);typeof r<"u"?(this.defaultLang==null&&(this.defaultLang=n),r.pipe(Wt(1)).subscribe(()=>{this.changeDefaultLang(n)})):this.changeDefaultLang(n)}getDefaultLang(){return this.defaultLang}use(n){if(this.lastUseLanguage=n,n===this.currentLang)return ar(this.translations[n]);this.currentLang||(this.currentLang=n);let r=this.retrieveTranslations(n);return In(r)?(r.pipe(Wt(1)).subscribe(()=>{this.changeLang(n)}),r):(this.changeLang(n),ar(this.translations[n]))}changeLang(n){n===this.lastUseLanguage&&(this.currentLang=n,this.onLangChange.emit({lang:n,translations:this.translations[n]}),this.defaultLang==null&&this.changeDefaultLang(n))}retrieveTranslations(n){if(typeof this.translations[n]>"u"||this.extend)return this._translationRequests[n]=this._translationRequests[n]||this.loadAndCompileTranslations(n),this._translationRequests[n]}getTranslation(n){return this.loadAndCompileTranslations(n)}loadAndCompileTranslations(n){this.pending=!0;let r=this.currentLoader.getTranslation(n).pipe(us(1),Wt(1));return this.loadingTranslations=r.pipe(ot(i=>this.compiler.compileTranslations(i,n)),us(1),Wt(1)),this.loadingTranslations.subscribe({next:i=>{this.translations[n]=this.extend&&this.translations[n]?$e($e({},i),this.translations[n]):i,this.updateLangs(),this.pending=!1},error:i=>{this.pending=!1}}),r}setTranslation(n,r,i=!1){let o=this.compiler.compileTranslations(r,n);(i||this.extend)&&this.translations[n]?this.translations[n]=Xl(this.translations[n],o):this.translations[n]=o,this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}getLangs(){return this.langs}addLangs(n){n.forEach(r=>{this.langs.indexOf(r)===-1&&this.langs.push(r)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(n,r,i){let o;if(n&&(o=this.runInterpolation(ed(n,r),i)),o===void 0&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(o=this.runInterpolation(ed(this.translations[this.defaultLang],r),i)),o===void 0){let s={key:r,translateService:this};typeof i<"u"&&(s.interpolateParams=i),o=this.missingTranslationHandler.handle(s)}return o!==void 0?o:r}runInterpolation(n,r){if(td(n))return n.map(i=>this.runInterpolation(i,r));if(zi(n)){let i={};for(let o in n)i[o]=this.runInterpolation(n[o],r);return i}else return this.parser.interpolate(n,r)}getParsedResult(n,r,i){if(r instanceof Array){let o={},s=!1;for(let c of r)o[c]=this.getParsedResultForKey(n,c,i),s=s||In(o[c]);if(!s)return o;let u=r.map(c=>Ui(o[c]));return zu(u).pipe(ot(c=>{let h={};return c.forEach((f,g)=>{h[r[g]]=f}),h}))}return this.getParsedResultForKey(n,r,i)}get(n,r){if(!un(n)||!n.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(Gu(i=>Ui(this.getParsedResult(i,n,r)))):Ui(this.getParsedResult(this.translations[this.currentLang],n,r))}getStreamOnTranslationChange(n,r){if(!un(n)||!n.length)throw new Error('Parameter "key" is required and cannot be empty');return bn(ss(()=>this.get(n,r)),this.onTranslationChange.pipe(cs(i=>{let o=this.getParsedResult(i.translations,n,r);return Ui(o)})))}stream(n,r){if(!un(n)||!n.length)throw new Error('Parameter "key" required');return bn(ss(()=>this.get(n,r)),this.onLangChange.pipe(cs(i=>{let o=this.getParsedResult(i.translations,n,r);return Ui(o)})))}instant(n,r){if(!un(n)||n.length===0)throw new Error('Parameter "key" is required and cannot be empty');let i=this.getParsedResult(this.translations[this.currentLang],n,r);return In(i)?Array.isArray(n)?n.reduce((o,s)=>(o[s]=s,o),{}):n:i}set(n,r,i=this.currentLang){IC(this.translations[i],n,nd(r)?this.compiler.compile(r,i):this.compiler.compileTranslations(r,i)),this.updateLangs(),this.onTranslationChange.emit({lang:i,translations:this.translations[i]})}changeDefaultLang(n){this.defaultLang=n,this.onDefaultLangChange.emit({lang:n,translations:this.translations[n]})}reloadLang(n){return this.resetLang(n),this.loadAndCompileTranslations(n)}resetLang(n){delete this._translationRequests[n],delete this.translations[n]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let n=this.getBrowserCultureLang();return n?n.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(r){return new(r||t)(de(ya),de($i),de(qi),de(Hi),de(ga),de(yv),de(mv),de(_v),de(vv))};static \u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Xk=(()=>{class t{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(n,r){this.translate=n,this._ref=r}updateValue(n,r,i){let o=s=>{this.value=s!==void 0?s:n,this.lastKey=n,this._ref.markForCheck()};if(i){let s=this.translate.getParsedResult(i,n,r);In(s)?s.subscribe(o):o(s)}this.translate.get(n,r).subscribe(o)}transform(n,...r){if(!n||!n.length)return n;if(ma(n,this.lastKey)&&ma(r,this.lastParams))return this.value;let i;if(un(r[0])&&r.length)if(nd(r[0])&&r[0].length){let o=r[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{i=JSON.parse(o)}catch(s){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${r[0]}`)}}else zi(r[0])&&(i=r[0]);return this.lastKey=n,this.lastParams=r,this.updateValue(n,i),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{this.lastKey&&o.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(n,i,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(n,i,o.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(n,i))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(r){return new(r||t)(Ze(wv,16),Ze(Bi,16))};static \u0275pipe=Qs({name:"translate",type:t,pure:!1,standalone:!0});static \u0275prov=ne({token:t,factory:t.\u0275fac})}return t})();var eF=(t={})=>fl([t.loader||{provide:$i,useClass:vC},t.compiler||{provide:qi,useClass:DC},t.parser||{provide:Hi,useClass:EC},t.missingTranslationHandler||{provide:ga,useClass:_C},ya,{provide:mv,useValue:t.isolate},{provide:yv,useValue:t.useDefaultLang},{provide:_v,useValue:t.extend},{provide:vv,useValue:t.defaultLanguage},wv]);var Ev=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},bC=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Dv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,u=s?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,f=o>>2,g=(o&3)<<4|u>>4,I=(u&15)<<2|h>>6,w=h&63;c||(w=64,s||(I=64)),r.push(n[f],n[g],n[I],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ev(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;let h=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||h==null||g==null)throw new rd;let I=o<<2|u>>4;if(r.push(I),h!==64){let w=u<<4&240|h>>2;if(r.push(w),g!==64){let S=h<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},rd=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},TC=function(t){let e=Ev(t);return Dv.encodeByteArray(e,!0)},Gi=function(t){return TC(t).replace(/\./g,"")},CC=function(t){try{return Dv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function SC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var AC=()=>SC().__FIREBASE_DEFAULTS__,xC=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&CC(t[1]);return e&&JSON.parse(e)},id=()=>{try{return AC()||xC()||MC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NC=t=>{var e,n;return(n=(e=id())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bv=t=>{let e=NC(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},od=()=>{var t;return(t=id())===null||t===void 0?void 0:t.config};var va=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Tv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gi(JSON.stringify(n)),Gi(JSON.stringify(s)),""].join(".")}function Cv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RC(){var t;let e=(t=id())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Sv(){return!RC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sd(){try{return typeof indexedDB=="object"}catch{return!1}}function Av(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var PC="FirebaseError",Rt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=PC,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wi.prototype.create)}},Wi=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?OC(o,r):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new Rt(i,u,r)}};function OC(t,e){return t.replace(kC,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var kC=/\{\$([^}]+)}/g;function Ki(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(Iv(o)&&Iv(s)){if(!Ki(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Iv(t){return t!==null&&typeof t=="object"}var rF=4*60*60*1e3;function Qi(t){return t&&t._delegate?t._delegate:t}var Pt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Bn="[DEFAULT]";var ad=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new va;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LC(e))try{this.getOrInitializeService({instanceIdentifier:Bn})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Bn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return P(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Bn){return this.instances.has(e)}getOptions(e=Bn){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let u=this.normalizeInstanceIdentifier(o);r===u&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bn){return this.component?this.component.multipleInstances?e:Bn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function FC(t){return t===Bn?void 0:t}function LC(t){return t.instantiationMode==="EAGER"}var _a=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new ad(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var VC=[],Y=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Y||{}),jC={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},BC=Y.INFO,UC={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},$C=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=UC[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Sr=class{constructor(e){this.name=e,this._logLevel=BC,this._logHandler=$C,this._userLogHandler=null,VC.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...e),this._logHandler(this,Y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...e),this._logHandler(this,Y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...e),this._logHandler(this,Y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...e),this._logHandler(this,Y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...e),this._logHandler(this,Y.ERROR,...e)}};var HC=(t,e)=>e.some(n=>t instanceof n),xv,Mv;function qC(){return xv||(xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zC(){return Mv||(Mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Nv=new WeakMap,cd=new WeakMap,Rv=new WeakMap,ud=new WeakMap,dd=new WeakMap;function GC(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(yt(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Nv.set(n,t)}).catch(()=>{}),dd.set(e,t),e}function WC(t){if(cd.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});cd.set(t,e)}var ld={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Rv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Pv(t){ld=t(ld)}function KC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(wa(this),e,...n);return Rv.set(r,e.sort?e.sort():[e]),yt(r)}:zC().includes(t)?function(...e){return t.apply(wa(this),e),yt(Nv.get(this))}:function(...e){return yt(t.apply(wa(this),e))}}function QC(t){return typeof t=="function"?KC(t):(t instanceof IDBTransaction&&WC(t),HC(t,qC())?new Proxy(t,ld):t)}function yt(t){if(t instanceof IDBRequest)return GC(t);if(ud.has(t))return ud.get(t);let e=QC(t);return e!==t&&(ud.set(t,e),dd.set(e,t)),e}var wa=t=>dd.get(t);function kv(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),u=yt(s);return r&&s.addEventListener("upgradeneeded",c=>{r(yt(s.result),c.oldVersion,c.newVersion,yt(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}var YC=["get","getKey","getAll","getAllKeys","count"],ZC=["put","add","delete","clear"],hd=new Map;function Ov(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hd.get(e))return hd.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=ZC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||YC.includes(n)))return;let o=function(s,...u){return P(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),h=c.store;return r&&(h=h.index(u.shift())),(yield Promise.all([h[n](...u),i&&c.done]))[0]})};return hd.set(e,o),o}Pv(t=>rt($e({},t),{get:(e,n,r)=>Ov(e,n)||t.get(e,n,r),has:(e,n)=>!!Ov(e,n)||t.has(e,n)}));var pd=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JC(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function JC(t){let e=t.getComponent();return e?.type==="VERSION"}var gd="@firebase/app",Fv="0.10.16";var Ot=new Sr("@firebase/app"),XC="@firebase/app-compat",eS="@firebase/analytics-compat",tS="@firebase/analytics",nS="@firebase/app-check-compat",rS="@firebase/app-check",iS="@firebase/auth",oS="@firebase/auth-compat",sS="@firebase/database",aS="@firebase/data-connect",uS="@firebase/database-compat",cS="@firebase/functions",lS="@firebase/functions-compat",dS="@firebase/installations",hS="@firebase/installations-compat",fS="@firebase/messaging",pS="@firebase/messaging-compat",gS="@firebase/performance",mS="@firebase/performance-compat",yS="@firebase/remote-config",vS="@firebase/remote-config-compat",_S="@firebase/storage",wS="@firebase/storage-compat",IS="@firebase/firestore",ES="@firebase/vertexai",DS="@firebase/firestore-compat",bS="firebase",TS="11.0.2";var md="[DEFAULT]",CS={[gd]:"fire-core",[XC]:"fire-core-compat",[tS]:"fire-analytics",[eS]:"fire-analytics-compat",[rS]:"fire-app-check",[nS]:"fire-app-check-compat",[iS]:"fire-auth",[oS]:"fire-auth-compat",[sS]:"fire-rtdb",[aS]:"fire-data-connect",[uS]:"fire-rtdb-compat",[cS]:"fire-fn",[lS]:"fire-fn-compat",[dS]:"fire-iid",[hS]:"fire-iid-compat",[fS]:"fire-fcm",[pS]:"fire-fcm-compat",[gS]:"fire-perf",[mS]:"fire-perf-compat",[yS]:"fire-rc",[vS]:"fire-rc-compat",[_S]:"fire-gcs",[wS]:"fire-gcs-compat",[IS]:"fire-fst",[DS]:"fire-fst-compat",[ES]:"fire-vertex","fire-js":"fire-js",[bS]:"fire-js-all"};var Ia=new Map,SS=new Map,yd=new Map;function Lv(t,e){try{t.container.addComponent(e)}catch(n){Ot.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yi(t){let e=t.name;if(yd.has(e))return Ot.debug(`There were multiple attempts to register component ${e}.`),!1;yd.set(e,t);for(let n of Ia.values())Lv(n,t);for(let n of SS.values())Lv(n,t);return!0}function Uv(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var AS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cn=new Wi("app","Firebase",AS);var vd=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cn.create("app-deleted",{appName:this._name})}};var $v=TS;function Id(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:md,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw cn.create("bad-app-name",{appName:String(i)});if(n||(n=od()),!n)throw cn.create("no-options");let o=Ia.get(i);if(o){if(Ki(n,o.options)&&Ki(r,o.config))return o;throw cn.create("duplicate-app",{appName:i})}let s=new _a(i);for(let c of yd.values())s.addComponent(c);let u=new vd(n,r,s);return Ia.set(i,u),u}function Hv(t=md){let e=Ia.get(t);if(!e&&t===md&&od())return Id();if(!e)throw cn.create("no-app",{appName:t});return e}function ln(t,e,n){var r;let i=(r=CS[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&u.push("and"),s&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ot.warn(u.join(" "));return}Yi(new Pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var xS="firebase-heartbeat-database",MS=1,Zi="firebase-heartbeat-store",fd=null;function qv(){return fd||(fd=kv(xS,MS,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zi)}catch(n){console.warn(n)}}}}).catch(t=>{throw cn.create("idb-open",{originalErrorMessage:t.message})})),fd}function NS(t){return P(this,null,function*(){try{let n=(yield qv()).transaction(Zi),r=yield n.objectStore(Zi).get(zv(t));return yield n.done,r}catch(e){if(e instanceof Rt)Ot.warn(e.message);else{let n=cn.create("idb-get",{originalErrorMessage:e?.message});Ot.warn(n.message)}}})}function Vv(t,e){return P(this,null,function*(){try{let r=(yield qv()).transaction(Zi,"readwrite");yield r.objectStore(Zi).put(e,zv(t)),yield r.done}catch(n){if(n instanceof Rt)Ot.warn(n.message);else{let r=cn.create("idb-set",{originalErrorMessage:n?.message});Ot.warn(r.message)}}})}function zv(t){return`${t.name}!${t.options.appId}`}var RS=1024,PS=30*24*60*60*1e3,_d=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new wd(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return P(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=jv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let u=new Date(s.date).valueOf();return Date.now()-u<=PS}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ot.warn(r)}})}getHeartbeatsHeader(){return P(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=jv(),{heartbeatsToSend:r,unsentEntries:i}=OS(this._heartbeatsCache.heartbeats),o=Gi(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ot.warn(n),""}})}};function jv(){return new Date().toISOString().substring(0,10)}function OS(t,e=RS){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Bv(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Bv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var wd=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return P(this,null,function*(){return sd()?Av().then(()=>!0).catch(()=>!1):!1})}read(){return P(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield NS(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return P(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Vv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return P(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Vv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Bv(t){return Gi(JSON.stringify({version:2,heartbeats:t})).length}function kS(t){Yi(new Pt("platform-logger",e=>new pd(e),"PRIVATE")),Yi(new Pt("heartbeat",e=>new _d(e),"PRIVATE")),ln(gd,Fv,t),ln(gd,Fv,"esm2017"),ln("fire-js","")}kS("");var FS="firebase",LS="11.0.2";ln(FS,LS,"app");var Gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wv={};var Ed,Kv;(function(){var t;function e(E,m){function v(){}v.prototype=m.prototype,E.D=m.prototype,E.prototype=new v,E.prototype.constructor=E,E.C=function(_,D,T){for(var y=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)y[Et-2]=arguments[Et];return m.prototype[D].apply(_,y)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,m,v){v||(v=0);var _=Array(16);if(typeof m=="string")for(var D=0;16>D;++D)_[D]=m.charCodeAt(v++)|m.charCodeAt(v++)<<8|m.charCodeAt(v++)<<16|m.charCodeAt(v++)<<24;else for(D=0;16>D;++D)_[D]=m[v++]|m[v++]<<8|m[v++]<<16|m[v++]<<24;m=E.g[0],v=E.g[1],D=E.g[2];var T=E.g[3],y=m+(T^v&(D^T))+_[0]+3614090360&4294967295;m=v+(y<<7&4294967295|y>>>25),y=T+(D^m&(v^D))+_[1]+3905402710&4294967295,T=m+(y<<12&4294967295|y>>>20),y=D+(v^T&(m^v))+_[2]+606105819&4294967295,D=T+(y<<17&4294967295|y>>>15),y=v+(m^D&(T^m))+_[3]+3250441966&4294967295,v=D+(y<<22&4294967295|y>>>10),y=m+(T^v&(D^T))+_[4]+4118548399&4294967295,m=v+(y<<7&4294967295|y>>>25),y=T+(D^m&(v^D))+_[5]+1200080426&4294967295,T=m+(y<<12&4294967295|y>>>20),y=D+(v^T&(m^v))+_[6]+2821735955&4294967295,D=T+(y<<17&4294967295|y>>>15),y=v+(m^D&(T^m))+_[7]+4249261313&4294967295,v=D+(y<<22&4294967295|y>>>10),y=m+(T^v&(D^T))+_[8]+1770035416&4294967295,m=v+(y<<7&4294967295|y>>>25),y=T+(D^m&(v^D))+_[9]+2336552879&4294967295,T=m+(y<<12&4294967295|y>>>20),y=D+(v^T&(m^v))+_[10]+4294925233&4294967295,D=T+(y<<17&4294967295|y>>>15),y=v+(m^D&(T^m))+_[11]+2304563134&4294967295,v=D+(y<<22&4294967295|y>>>10),y=m+(T^v&(D^T))+_[12]+1804603682&4294967295,m=v+(y<<7&4294967295|y>>>25),y=T+(D^m&(v^D))+_[13]+4254626195&4294967295,T=m+(y<<12&4294967295|y>>>20),y=D+(v^T&(m^v))+_[14]+2792965006&4294967295,D=T+(y<<17&4294967295|y>>>15),y=v+(m^D&(T^m))+_[15]+1236535329&4294967295,v=D+(y<<22&4294967295|y>>>10),y=m+(D^T&(v^D))+_[1]+4129170786&4294967295,m=v+(y<<5&4294967295|y>>>27),y=T+(v^D&(m^v))+_[6]+3225465664&4294967295,T=m+(y<<9&4294967295|y>>>23),y=D+(m^v&(T^m))+_[11]+643717713&4294967295,D=T+(y<<14&4294967295|y>>>18),y=v+(T^m&(D^T))+_[0]+3921069994&4294967295,v=D+(y<<20&4294967295|y>>>12),y=m+(D^T&(v^D))+_[5]+3593408605&4294967295,m=v+(y<<5&4294967295|y>>>27),y=T+(v^D&(m^v))+_[10]+38016083&4294967295,T=m+(y<<9&4294967295|y>>>23),y=D+(m^v&(T^m))+_[15]+3634488961&4294967295,D=T+(y<<14&4294967295|y>>>18),y=v+(T^m&(D^T))+_[4]+3889429448&4294967295,v=D+(y<<20&4294967295|y>>>12),y=m+(D^T&(v^D))+_[9]+568446438&4294967295,m=v+(y<<5&4294967295|y>>>27),y=T+(v^D&(m^v))+_[14]+3275163606&4294967295,T=m+(y<<9&4294967295|y>>>23),y=D+(m^v&(T^m))+_[3]+4107603335&4294967295,D=T+(y<<14&4294967295|y>>>18),y=v+(T^m&(D^T))+_[8]+1163531501&4294967295,v=D+(y<<20&4294967295|y>>>12),y=m+(D^T&(v^D))+_[13]+2850285829&4294967295,m=v+(y<<5&4294967295|y>>>27),y=T+(v^D&(m^v))+_[2]+4243563512&4294967295,T=m+(y<<9&4294967295|y>>>23),y=D+(m^v&(T^m))+_[7]+1735328473&4294967295,D=T+(y<<14&4294967295|y>>>18),y=v+(T^m&(D^T))+_[12]+2368359562&4294967295,v=D+(y<<20&4294967295|y>>>12),y=m+(v^D^T)+_[5]+4294588738&4294967295,m=v+(y<<4&4294967295|y>>>28),y=T+(m^v^D)+_[8]+2272392833&4294967295,T=m+(y<<11&4294967295|y>>>21),y=D+(T^m^v)+_[11]+1839030562&4294967295,D=T+(y<<16&4294967295|y>>>16),y=v+(D^T^m)+_[14]+4259657740&4294967295,v=D+(y<<23&4294967295|y>>>9),y=m+(v^D^T)+_[1]+2763975236&4294967295,m=v+(y<<4&4294967295|y>>>28),y=T+(m^v^D)+_[4]+1272893353&4294967295,T=m+(y<<11&4294967295|y>>>21),y=D+(T^m^v)+_[7]+4139469664&4294967295,D=T+(y<<16&4294967295|y>>>16),y=v+(D^T^m)+_[10]+3200236656&4294967295,v=D+(y<<23&4294967295|y>>>9),y=m+(v^D^T)+_[13]+681279174&4294967295,m=v+(y<<4&4294967295|y>>>28),y=T+(m^v^D)+_[0]+3936430074&4294967295,T=m+(y<<11&4294967295|y>>>21),y=D+(T^m^v)+_[3]+3572445317&4294967295,D=T+(y<<16&4294967295|y>>>16),y=v+(D^T^m)+_[6]+76029189&4294967295,v=D+(y<<23&4294967295|y>>>9),y=m+(v^D^T)+_[9]+3654602809&4294967295,m=v+(y<<4&4294967295|y>>>28),y=T+(m^v^D)+_[12]+3873151461&4294967295,T=m+(y<<11&4294967295|y>>>21),y=D+(T^m^v)+_[15]+530742520&4294967295,D=T+(y<<16&4294967295|y>>>16),y=v+(D^T^m)+_[2]+3299628645&4294967295,v=D+(y<<23&4294967295|y>>>9),y=m+(D^(v|~T))+_[0]+4096336452&4294967295,m=v+(y<<6&4294967295|y>>>26),y=T+(v^(m|~D))+_[7]+1126891415&4294967295,T=m+(y<<10&4294967295|y>>>22),y=D+(m^(T|~v))+_[14]+2878612391&4294967295,D=T+(y<<15&4294967295|y>>>17),y=v+(T^(D|~m))+_[5]+4237533241&4294967295,v=D+(y<<21&4294967295|y>>>11),y=m+(D^(v|~T))+_[12]+1700485571&4294967295,m=v+(y<<6&4294967295|y>>>26),y=T+(v^(m|~D))+_[3]+2399980690&4294967295,T=m+(y<<10&4294967295|y>>>22),y=D+(m^(T|~v))+_[10]+4293915773&4294967295,D=T+(y<<15&4294967295|y>>>17),y=v+(T^(D|~m))+_[1]+2240044497&4294967295,v=D+(y<<21&4294967295|y>>>11),y=m+(D^(v|~T))+_[8]+1873313359&4294967295,m=v+(y<<6&4294967295|y>>>26),y=T+(v^(m|~D))+_[15]+4264355552&4294967295,T=m+(y<<10&4294967295|y>>>22),y=D+(m^(T|~v))+_[6]+2734768916&4294967295,D=T+(y<<15&4294967295|y>>>17),y=v+(T^(D|~m))+_[13]+1309151649&4294967295,v=D+(y<<21&4294967295|y>>>11),y=m+(D^(v|~T))+_[4]+4149444226&4294967295,m=v+(y<<6&4294967295|y>>>26),y=T+(v^(m|~D))+_[11]+3174756917&4294967295,T=m+(y<<10&4294967295|y>>>22),y=D+(m^(T|~v))+_[2]+718787259&4294967295,D=T+(y<<15&4294967295|y>>>17),y=v+(T^(D|~m))+_[9]+3951481745&4294967295,E.g[0]=E.g[0]+m&4294967295,E.g[1]=E.g[1]+(D+(y<<21&4294967295|y>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+T&4294967295}r.prototype.u=function(E,m){m===void 0&&(m=E.length);for(var v=m-this.blockSize,_=this.B,D=this.h,T=0;T<m;){if(D==0)for(;T<=v;)i(this,E,T),T+=this.blockSize;if(typeof E=="string"){for(;T<m;)if(_[D++]=E.charCodeAt(T++),D==this.blockSize){i(this,_),D=0;break}}else for(;T<m;)if(_[D++]=E[T++],D==this.blockSize){i(this,_),D=0;break}}this.h=D,this.o+=m},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var m=1;m<E.length-8;++m)E[m]=0;var v=8*this.o;for(m=E.length-8;m<E.length;++m)E[m]=v&255,v/=256;for(this.u(E),E=Array(16),m=v=0;4>m;++m)for(var _=0;32>_;_+=8)E[v++]=this.g[m]>>>_&255;return E};function o(E,m){var v=u;return Object.prototype.hasOwnProperty.call(v,E)?v[E]:v[E]=m(E)}function s(E,m){this.h=m;for(var v=[],_=!0,D=E.length-1;0<=D;D--){var T=E[D]|0;_&&T==m||(v[D]=T,_=!1)}this.g=v}var u={};function c(E){return-128<=E&&128>E?o(E,function(m){return new s([m|0],0>m?-1:0)}):new s([E|0],0>E?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return g;if(0>E)return R(h(-E));for(var m=[],v=1,_=0;E>=v;_++)m[_]=E/v|0,v*=4294967296;return new s(m,0)}function f(E,m){if(E.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(E.charAt(0)=="-")return R(f(E.substring(1),m));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=h(Math.pow(m,8)),_=g,D=0;D<E.length;D+=8){var T=Math.min(8,E.length-D),y=parseInt(E.substring(D,D+T),m);8>T?(T=h(Math.pow(m,T)),_=_.j(T).add(h(y))):(_=_.j(v),_=_.add(h(y)))}return _}var g=c(0),I=c(1),w=c(16777216);t=s.prototype,t.m=function(){if(M(this))return-R(this).m();for(var E=0,m=1,v=0;v<this.g.length;v++){var _=this.i(v);E+=(0<=_?_:4294967296+_)*m,m*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S(this))return"0";if(M(this))return"-"+R(this).toString(E);for(var m=h(Math.pow(E,6)),v=this,_="";;){var D=oe(v,m).g;v=k(v,D.j(m));var T=((0<v.g.length?v.g[0]:v.h)>>>0).toString(E);if(v=D,S(v))return T+_;for(;6>T.length;)T="0"+T;_=T+_}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function S(E){if(E.h!=0)return!1;for(var m=0;m<E.g.length;m++)if(E.g[m]!=0)return!1;return!0}function M(E){return E.h==-1}t.l=function(E){return E=k(this,E),M(E)?-1:S(E)?0:1};function R(E){for(var m=E.g.length,v=[],_=0;_<m;_++)v[_]=~E.g[_];return new s(v,~E.h).add(I)}t.abs=function(){return M(this)?R(this):this},t.add=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],_=0,D=0;D<=m;D++){var T=_+(this.i(D)&65535)+(E.i(D)&65535),y=(T>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);_=y>>>16,T&=65535,y&=65535,v[D]=y<<16|T}return new s(v,v[v.length-1]&-2147483648?-1:0)};function k(E,m){return E.add(R(m))}t.j=function(E){if(S(this)||S(E))return g;if(M(this))return M(E)?R(this).j(R(E)):R(R(this).j(E));if(M(E))return R(this.j(R(E)));if(0>this.l(w)&&0>E.l(w))return h(this.m()*E.m());for(var m=this.g.length+E.g.length,v=[],_=0;_<2*m;_++)v[_]=0;for(_=0;_<this.g.length;_++)for(var D=0;D<E.g.length;D++){var T=this.i(_)>>>16,y=this.i(_)&65535,Et=E.i(D)>>>16,Gr=E.i(D)&65535;v[2*_+2*D]+=y*Gr,L(v,2*_+2*D),v[2*_+2*D+1]+=T*Gr,L(v,2*_+2*D+1),v[2*_+2*D+1]+=y*Et,L(v,2*_+2*D+1),v[2*_+2*D+2]+=T*Et,L(v,2*_+2*D+2)}for(_=0;_<m;_++)v[_]=v[2*_+1]<<16|v[2*_];for(_=m;_<2*m;_++)v[_]=0;return new s(v,0)};function L(E,m){for(;(E[m]&65535)!=E[m];)E[m+1]+=E[m]>>>16,E[m]&=65535,m++}function ee(E,m){this.g=E,this.h=m}function oe(E,m){if(S(m))throw Error("division by zero");if(S(E))return new ee(g,g);if(M(E))return m=oe(R(E),m),new ee(R(m.g),R(m.h));if(M(m))return m=oe(E,R(m)),new ee(R(m.g),m.h);if(30<E.g.length){if(M(E)||M(m))throw Error("slowDivide_ only works with positive integers.");for(var v=I,_=m;0>=_.l(E);)v=qe(v),_=qe(_);var D=se(v,1),T=se(_,1);for(_=se(_,2),v=se(v,2);!S(_);){var y=T.add(_);0>=y.l(E)&&(D=D.add(v),T=y),_=se(_,1),v=se(v,1)}return m=k(E,D.j(m)),new ee(D,m)}for(D=g;0<=E.l(m);){for(v=Math.max(1,Math.floor(E.m()/m.m())),_=Math.ceil(Math.log(v)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),T=h(v),y=T.j(m);M(y)||0<y.l(E);)v-=_,T=h(v),y=T.j(m);S(T)&&(T=I),D=D.add(T),E=k(E,y)}return new ee(D,E)}t.A=function(E){return oe(this,E).h},t.and=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],_=0;_<m;_++)v[_]=this.i(_)&E.i(_);return new s(v,this.h&E.h)},t.or=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],_=0;_<m;_++)v[_]=this.i(_)|E.i(_);return new s(v,this.h|E.h)},t.xor=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],_=0;_<m;_++)v[_]=this.i(_)^E.i(_);return new s(v,this.h^E.h)};function qe(E){for(var m=E.g.length+1,v=[],_=0;_<m;_++)v[_]=E.i(_)<<1|E.i(_-1)>>>31;return new s(v,E.h)}function se(E,m){var v=m>>5;m%=32;for(var _=E.g.length-v,D=[],T=0;T<_;T++)D[T]=0<m?E.i(T+v)>>>m|E.i(T+v+1)<<32-m:E.i(T+v);return new s(D,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Kv=Wv.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=f,Ed=Wv.Integer=s}).apply(typeof Gv<"u"?Gv:typeof self<"u"?self:typeof window<"u"?window:{});var Ea=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kt={};var Dd,VS,Ar,bd,Ji,Da,Td,Cd,Sd;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,l,d){return a==Array.prototype||a==Object.prototype||(a[l]=d.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ea=="object"&&Ea];for(var l=0;l<a.length;++l){var d=a[l];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(a,l){if(l)e:{var d=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var b=a[p];if(!(b in d))break e;d=d[b]}a=a[a.length-1],p=d[a],l=l(p),l!=p&&l!=null&&e(d,a,{configurable:!0,writable:!0,value:l})}}function o(a,l){a instanceof String&&(a+="");var d=0,p=!1,b={next:function(){if(!p&&d<a.length){var C=d++;return{value:l(C,a[C]),done:!1}}return p=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return o(this,function(l,d){return d})}});var s=s||{},u=this||self;function c(a){var l=typeof a;return l=l!="object"?l:a?Array.isArray(a)?"array":l:"null",l=="array"||l=="object"&&typeof a.length=="number"}function h(a){var l=typeof a;return l=="object"&&a!=null||l=="function"}function f(a,l,d){return a.call.apply(a.bind,arguments)}function g(a,l,d){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,p),a.apply(l,b)}}return function(){return a.apply(l,arguments)}}function I(a,l,d){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,I.apply(null,arguments)}function w(a,l){var d=Array.prototype.slice.call(arguments,1);return function(){var p=d.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function S(a,l){function d(){}d.prototype=l.prototype,a.aa=l.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(p,b,C){for(var N=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)N[ae-2]=arguments[ae];return l.prototype[b].apply(p,N)}}function M(a){let l=a.length;if(0<l){let d=Array(l);for(let p=0;p<l;p++)d[p]=a[p];return d}return[]}function R(a,l){for(let d=1;d<arguments.length;d++){let p=arguments[d];if(c(p)){let b=a.length||0,C=p.length||0;a.length=b+C;for(let N=0;N<C;N++)a[b+N]=p[N]}else a.push(p)}}class k{constructor(l,d){this.i=l,this.j=d,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function L(a){return/^[\s\xa0]*$/.test(a)}function ee(){var a=u.navigator;return a&&(a=a.userAgent)?a:""}function oe(a){return oe[" "](a),a}oe[" "]=function(){};var qe=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function se(a,l,d){for(let p in a)l.call(d,a[p],p,a)}function E(a,l){for(let d in a)l.call(void 0,a[d],d,a)}function m(a){let l={};for(let d in a)l[d]=a[d];return l}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(a,l){let d,p;for(let b=1;b<arguments.length;b++){p=arguments[b];for(d in p)a[d]=p[d];for(let C=0;C<v.length;C++)d=v[C],Object.prototype.hasOwnProperty.call(p,d)&&(a[d]=p[d])}}function D(a){var l=1;a=a.split(":");let d=[];for(;0<l&&a.length;)d.push(a.shift()),l--;return a.length&&d.push(a.join(":")),d}function T(a){u.setTimeout(()=>{throw a},0)}function y(){var a=iu;let l=null;return a.g&&(l=a.g,a.g=a.g.next,a.g||(a.h=null),l.next=null),l}class Et{constructor(){this.h=this.g=null}add(l,d){let p=Gr.get();p.set(l,d),this.h?this.h.next=p:this.g=p,this.h=p}}var Gr=new k(()=>new ow,a=>a.reset());class ow{constructor(){this.next=this.g=this.h=null}set(l,d){this.h=l,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let Wr,Kr=!1,iu=new Et,cf=()=>{let a=u.Promise.resolve(void 0);Wr=()=>{a.then(sw)}};var sw=()=>{for(var a;a=y();){try{a.h.call(a.g)}catch(d){T(d)}var l=Gr;l.j(a),100>l.h&&(l.h++,a.next=l.g,l.g=a)}Kr=!1};function Ut(){this.s=this.s,this.C=this.C}Ut.prototype.s=!1,Ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function xe(a,l){this.type=a,this.g=this.target=l,this.defaultPrevented=!1}xe.prototype.h=function(){this.defaultPrevented=!0};var aw=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var a=!1,l=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let d=()=>{};u.addEventListener("test",d,l),u.removeEventListener("test",d,l)}catch{}return a}();function Qr(a,l){if(xe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=l,l=a.relatedTarget){if(qe){e:{try{oe(l.nodeName);var b=!0;break e}catch{}b=!1}b||(l=null)}}else d=="mouseover"?l=a.fromElement:d=="mouseout"&&(l=a.toElement);this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:uw[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Qr.aa.h.call(this)}}S(Qr,xe);var uw={2:"touch",3:"pen",4:"mouse"};Qr.prototype.h=function(){Qr.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Yr="closure_listenable_"+(1e6*Math.random()|0),cw=0;function lw(a,l,d,p,b){this.listener=a,this.proxy=null,this.src=l,this.type=d,this.capture=!!p,this.ha=b,this.key=++cw,this.da=this.fa=!1}function po(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function go(a){this.src=a,this.g={},this.h=0}go.prototype.add=function(a,l,d,p,b){var C=a.toString();a=this.g[C],a||(a=this.g[C]=[],this.h++);var N=su(a,l,p,b);return-1<N?(l=a[N],d||(l.fa=!1)):(l=new lw(l,this.src,C,!!p,b),l.fa=d,a.push(l)),l};function ou(a,l){var d=l.type;if(d in a.g){var p=a.g[d],b=Array.prototype.indexOf.call(p,l,void 0),C;(C=0<=b)&&Array.prototype.splice.call(p,b,1),C&&(po(l),a.g[d].length==0&&(delete a.g[d],a.h--))}}function su(a,l,d,p){for(var b=0;b<a.length;++b){var C=a[b];if(!C.da&&C.listener==l&&C.capture==!!d&&C.ha==p)return b}return-1}var au="closure_lm_"+(1e6*Math.random()|0),uu={};function lf(a,l,d,p,b){if(p&&p.once)return hf(a,l,d,p,b);if(Array.isArray(l)){for(var C=0;C<l.length;C++)lf(a,l[C],d,p,b);return null}return d=hu(d),a&&a[Yr]?a.K(l,d,h(p)?!!p.capture:!!p,b):df(a,l,d,!1,p,b)}function df(a,l,d,p,b,C){if(!l)throw Error("Invalid event type");var N=h(b)?!!b.capture:!!b,ae=lu(a);if(ae||(a[au]=ae=new go(a)),d=ae.add(l,d,p,N,C),d.proxy)return d;if(p=dw(),d.proxy=p,p.src=a,p.listener=d,a.addEventListener)aw||(b=N),b===void 0&&(b=!1),a.addEventListener(l.toString(),p,b);else if(a.attachEvent)a.attachEvent(pf(l.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return d}function dw(){function a(d){return l.call(a.src,a.listener,d)}let l=hw;return a}function hf(a,l,d,p,b){if(Array.isArray(l)){for(var C=0;C<l.length;C++)hf(a,l[C],d,p,b);return null}return d=hu(d),a&&a[Yr]?a.L(l,d,h(p)?!!p.capture:!!p,b):df(a,l,d,!0,p,b)}function ff(a,l,d,p,b){if(Array.isArray(l))for(var C=0;C<l.length;C++)ff(a,l[C],d,p,b);else p=h(p)?!!p.capture:!!p,d=hu(d),a&&a[Yr]?(a=a.i,l=String(l).toString(),l in a.g&&(C=a.g[l],d=su(C,d,p,b),-1<d&&(po(C[d]),Array.prototype.splice.call(C,d,1),C.length==0&&(delete a.g[l],a.h--)))):a&&(a=lu(a))&&(l=a.g[l.toString()],a=-1,l&&(a=su(l,d,p,b)),(d=-1<a?l[a]:null)&&cu(d))}function cu(a){if(typeof a!="number"&&a&&!a.da){var l=a.src;if(l&&l[Yr])ou(l.i,a);else{var d=a.type,p=a.proxy;l.removeEventListener?l.removeEventListener(d,p,a.capture):l.detachEvent?l.detachEvent(pf(d),p):l.addListener&&l.removeListener&&l.removeListener(p),(d=lu(l))?(ou(d,a),d.h==0&&(d.src=null,l[au]=null)):po(a)}}}function pf(a){return a in uu?uu[a]:uu[a]="on"+a}function hw(a,l){if(a.da)a=!0;else{l=new Qr(l,this);var d=a.listener,p=a.ha||a.src;a.fa&&cu(a),a=d.call(p,l)}return a}function lu(a){return a=a[au],a instanceof go?a:null}var du="__closure_events_fn_"+(1e9*Math.random()>>>0);function hu(a){return typeof a=="function"?a:(a[du]||(a[du]=function(l){return a.handleEvent(l)}),a[du])}function Me(){Ut.call(this),this.i=new go(this),this.M=this,this.F=null}S(Me,Ut),Me.prototype[Yr]=!0,Me.prototype.removeEventListener=function(a,l,d,p){ff(this,a,l,d,p)};function Be(a,l){var d,p=a.F;if(p)for(d=[];p;p=p.F)d.push(p);if(a=a.M,p=l.type||l,typeof l=="string")l=new xe(l,a);else if(l instanceof xe)l.target=l.target||a;else{var b=l;l=new xe(p,a),_(l,b)}if(b=!0,d)for(var C=d.length-1;0<=C;C--){var N=l.g=d[C];b=mo(N,p,!0,l)&&b}if(N=l.g=a,b=mo(N,p,!0,l)&&b,b=mo(N,p,!1,l)&&b,d)for(C=0;C<d.length;C++)N=l.g=d[C],b=mo(N,p,!1,l)&&b}Me.prototype.N=function(){if(Me.aa.N.call(this),this.i){var a=this.i,l;for(l in a.g){for(var d=a.g[l],p=0;p<d.length;p++)po(d[p]);delete a.g[l],a.h--}}this.F=null},Me.prototype.K=function(a,l,d,p){return this.i.add(String(a),l,!1,d,p)},Me.prototype.L=function(a,l,d,p){return this.i.add(String(a),l,!0,d,p)};function mo(a,l,d,p){if(l=a.i.g[String(l)],!l)return!0;l=l.concat();for(var b=!0,C=0;C<l.length;++C){var N=l[C];if(N&&!N.da&&N.capture==d){var ae=N.listener,Ce=N.ha||N.src;N.fa&&ou(a.i,N),b=ae.call(Ce,p)!==!1&&b}}return b&&!p.defaultPrevented}function gf(a,l,d){if(typeof a=="function")d&&(a=I(a,d));else if(a&&typeof a.handleEvent=="function")a=I(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:u.setTimeout(a,l||0)}function mf(a){a.g=gf(()=>{a.g=null,a.i&&(a.i=!1,mf(a))},a.l);let l=a.h;a.h=null,a.m.apply(null,l)}class fw extends Ut{constructor(l,d){super(),this.m=l,this.l=d,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:mf(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(a){Ut.call(this),this.h=a,this.g={}}S(Zr,Ut);var yf=[];function vf(a){se(a.g,function(l,d){this.g.hasOwnProperty(d)&&cu(l)},a),a.g={}}Zr.prototype.N=function(){Zr.aa.N.call(this),vf(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fu=u.JSON.stringify,pw=u.JSON.parse,gw=class{stringify(a){return u.JSON.stringify(a,void 0)}parse(a){return u.JSON.parse(a,void 0)}};function pu(){}pu.prototype.h=null;function _f(a){return a.h||(a.h=a.i())}function wf(){}var Jr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gu(){xe.call(this,"d")}S(gu,xe);function mu(){xe.call(this,"c")}S(mu,xe);var pn={},If=null;function yo(){return If=If||new Me}pn.La="serverreachability";function Ef(a){xe.call(this,pn.La,a)}S(Ef,xe);function Xr(a){let l=yo();Be(l,new Ef(l))}pn.STAT_EVENT="statevent";function Df(a,l){xe.call(this,pn.STAT_EVENT,a),this.stat=l}S(Df,xe);function Ue(a){let l=yo();Be(l,new Df(l,a))}pn.Ma="timingevent";function bf(a,l){xe.call(this,pn.Ma,a),this.size=l}S(bf,xe);function ei(a,l){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){a()},l)}function ti(){this.g=!0}ti.prototype.xa=function(){this.g=!1};function mw(a,l,d,p,b,C){a.info(function(){if(a.g)if(C)for(var N="",ae=C.split("&"),Ce=0;Ce<ae.length;Ce++){var te=ae[Ce].split("=");if(1<te.length){var Ne=te[0];te=te[1];var Re=Ne.split("_");N=2<=Re.length&&Re[1]=="type"?N+(Ne+"="+te+"&"):N+(Ne+"=redacted&")}}else N=null;else N=C;return"XMLHTTP REQ ("+p+") [attempt "+b+"]: "+l+`
`+d+`
`+N})}function yw(a,l,d,p,b,C,N){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+b+"]: "+l+`
`+d+`
`+C+" "+N})}function Jn(a,l,d,p){a.info(function(){return"XMLHTTP TEXT ("+l+"): "+_w(a,d)+(p?" "+p:"")})}function vw(a,l){a.info(function(){return"TIMEOUT: "+l})}ti.prototype.info=function(){};function _w(a,l){if(!a.g)return l;if(!l)return null;try{var d=JSON.parse(l);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var p=d[a];if(!(2>p.length)){var b=p[1];if(Array.isArray(b)&&!(1>b.length)){var C=b[0];if(C!="noop"&&C!="stop"&&C!="close")for(var N=1;N<b.length;N++)b[N]=""}}}}return fu(d)}catch{return l}}var vo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yu;function _o(){}S(_o,pu),_o.prototype.g=function(){return new XMLHttpRequest},_o.prototype.i=function(){return{}},yu=new _o;function $t(a,l,d,p){this.j=a,this.i=l,this.l=d,this.R=p||1,this.U=new Zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cf}function Cf(){this.i=null,this.g="",this.h=!1}var Sf={},vu={};function _u(a,l,d){a.L=1,a.v=Do(Dt(l)),a.m=d,a.P=!0,Af(a,null)}function Af(a,l){a.F=Date.now(),wo(a),a.A=Dt(a.v);var d=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),$f(d.i,"t",p),a.C=0,d=a.j.J,a.h=new Cf,a.g=sp(a.j,d?l:null,!a.m),0<a.O&&(a.M=new fw(I(a.Y,a,a.g),a.O)),l=a.U,d=a.g,p=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(yf[0]=b.toString()),b=yf);for(var C=0;C<b.length;C++){var N=lf(d,b[C],p||l.handleEvent,!1,l.h||l);if(!N)break;l.g[N.key]=N}l=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,l)):(a.u="GET",a.g.ea(a.A,a.u,null,l)),Xr(),mw(a.i,a.u,a.A,a.l,a.R,a.m)}$t.prototype.ca=function(a){a=a.target;let l=this.M;l&&bt(a)==3?l.j():this.Y(a)},$t.prototype.Y=function(a){try{if(a==this.g)e:{let Re=bt(this.g);var l=this.g.Ba();let tr=this.g.Z();if(!(3>Re)&&(Re!=3||this.g&&(this.h.h||this.g.oa()||Qf(this.g)))){this.J||Re!=4||l==7||(l==8||0>=tr?Xr(3):Xr(2)),wu(this);var d=this.g.Z();this.X=d;t:if(xf(this)){var p=Qf(this.g);a="";var b=p.length,C=bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),ni(this);var N="";break t}this.h.i=new u.TextDecoder}for(l=0;l<b;l++)this.h.h=!0,a+=this.h.i.decode(p[l],{stream:!(C&&l==b-1)});p.length=0,this.h.g+=a,this.C=0,N=this.h.g}else N=this.g.oa();if(this.o=d==200,yw(this.i,this.u,this.A,this.l,this.R,Re,d),this.o){if(this.T&&!this.K){t:{if(this.g){var ae,Ce=this.g;if((ae=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(ae)){var te=ae;break t}}te=null}if(d=te)Jn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Iu(this,d);else{this.o=!1,this.s=3,Ue(12),gn(this),ni(this);break e}}if(this.P){d=!0;let ct;for(;!this.J&&this.C<N.length;)if(ct=ww(this,N),ct==vu){Re==4&&(this.s=4,Ue(14),d=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Sf){this.s=4,Ue(15),Jn(this.i,this.l,N,"[Invalid Chunk]"),d=!1;break}else Jn(this.i,this.l,ct,null),Iu(this,ct);if(xf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||N.length!=0||this.h.h||(this.s=1,Ue(16),d=!1),this.o=this.o&&d,!d)Jn(this.i,this.l,N,"[Invalid Chunked Response]"),gn(this),ni(this);else if(0<N.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),Su(Ne),Ne.M=!0,Ue(11))}}else Jn(this.i,this.l,N,null),Iu(this,N);Re==4&&gn(this),this.o&&!this.J&&(Re==4?np(this.j,this):(this.o=!1,wo(this)))}else Lw(this.g),d==400&&0<N.indexOf("Unknown SID")?(this.s=3,Ue(12)):(this.s=0,Ue(13)),gn(this),ni(this)}}}catch{}finally{}};function xf(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function ww(a,l){var d=a.C,p=l.indexOf(`
`,d);return p==-1?vu:(d=Number(l.substring(d,p)),isNaN(d)?Sf:(p+=1,p+d>l.length?vu:(l=l.slice(p,p+d),a.C=p+d,l)))}$t.prototype.cancel=function(){this.J=!0,gn(this)};function wo(a){a.S=Date.now()+a.I,Mf(a,a.I)}function Mf(a,l){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ei(I(a.ba,a),l)}function wu(a){a.B&&(u.clearTimeout(a.B),a.B=null)}$t.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(vw(this.i,this.A),this.L!=2&&(Xr(),Ue(17)),gn(this),this.s=2,ni(this)):Mf(this,this.S-a)};function ni(a){a.j.G==0||a.J||np(a.j,a)}function gn(a){wu(a);var l=a.M;l&&typeof l.ma=="function"&&l.ma(),a.M=null,vf(a.U),a.g&&(l=a.g,a.g=null,l.abort(),l.ma())}function Iu(a,l){try{var d=a.j;if(d.G!=0&&(d.g==a||Eu(d.h,a))){if(!a.K&&Eu(d.h,a)&&d.G==3){try{var p=d.Da.g.parse(l)}catch{p=null}if(Array.isArray(p)&&p.length==3){var b=p;if(b[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)Ao(d),Co(d);else break e;Cu(d),Ue(18)}}else d.za=b[1],0<d.za-d.T&&37500>b[2]&&d.F&&d.v==0&&!d.C&&(d.C=ei(I(d.Za,d),6e3));if(1>=Pf(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else yn(d,11)}else if((a.K||d.g==a)&&Ao(d),!L(l))for(b=d.Da.g.parse(l),l=0;l<b.length;l++){let te=b[l];if(d.T=te[0],te=te[1],d.G==2)if(te[0]=="c"){d.K=te[1],d.ia=te[2];let Ne=te[3];Ne!=null&&(d.la=Ne,d.j.info("VER="+d.la));let Re=te[4];Re!=null&&(d.Aa=Re,d.j.info("SVER="+d.Aa));let tr=te[5];tr!=null&&typeof tr=="number"&&0<tr&&(p=1.5*tr,d.L=p,d.j.info("backChannelRequestTimeoutMs_="+p)),p=d;let ct=a.g;if(ct){let Mo=ct.g?ct.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mo){var C=p.h;C.g||Mo.indexOf("spdy")==-1&&Mo.indexOf("quic")==-1&&Mo.indexOf("h2")==-1||(C.j=C.l,C.g=new Set,C.h&&(Du(C,C.h),C.h=null))}if(p.D){let Au=ct.g?ct.g.getResponseHeader("X-HTTP-Session-Id"):null;Au&&(p.ya=Au,le(p.I,p.D,Au))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),p=d;var N=a;if(p.qa=op(p,p.J?p.ia:null,p.W),N.K){Of(p.h,N);var ae=N,Ce=p.L;Ce&&(ae.I=Ce),ae.B&&(wu(ae),wo(ae)),p.g=N}else ep(p);0<d.i.length&&So(d)}else te[0]!="stop"&&te[0]!="close"||yn(d,7);else d.G==3&&(te[0]=="stop"||te[0]=="close"?te[0]=="stop"?yn(d,7):Tu(d):te[0]!="noop"&&d.l&&d.l.ta(te),d.v=0)}}Xr(4)}catch{}}var Iw=class{constructor(a,l){this.g=a,this.map=l}};function Nf(a){this.l=a||10,u.PerformanceNavigationTiming?(a=u.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rf(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Pf(a){return a.h?1:a.g?a.g.size:0}function Eu(a,l){return a.h?a.h==l:a.g?a.g.has(l):!1}function Du(a,l){a.g?a.g.add(l):a.h=l}function Of(a,l){a.h&&a.h==l?a.h=null:a.g&&a.g.has(l)&&a.g.delete(l)}Nf.prototype.cancel=function(){if(this.i=kf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function kf(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let l=a.i;for(let d of a.g.values())l=l.concat(d.D);return l}return M(a.i)}function Ew(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var l=[],d=a.length,p=0;p<d;p++)l.push(a[p]);return l}l=[],d=0;for(p in a)l[d++]=a[p];return l}function Dw(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var l=[];a=a.length;for(var d=0;d<a;d++)l.push(d);return l}l=[],d=0;for(let p in a)l[d++]=p;return l}}}function Ff(a,l){if(a.forEach&&typeof a.forEach=="function")a.forEach(l,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,l,void 0);else for(var d=Dw(a),p=Ew(a),b=p.length,C=0;C<b;C++)l.call(void 0,p[C],d&&d[C],a)}var Lf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bw(a,l){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var p=a[d].indexOf("="),b=null;if(0<=p){var C=a[d].substring(0,p);b=a[d].substring(p+1)}else C=a[d];l(C,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function mn(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof mn){this.h=a.h,Io(this,a.j),this.o=a.o,this.g=a.g,Eo(this,a.s),this.l=a.l;var l=a.i,d=new oi;d.i=l.i,l.g&&(d.g=new Map(l.g),d.h=l.h),Vf(this,d),this.m=a.m}else a&&(l=String(a).match(Lf))?(this.h=!1,Io(this,l[1]||"",!0),this.o=ri(l[2]||""),this.g=ri(l[3]||"",!0),Eo(this,l[4]),this.l=ri(l[5]||"",!0),Vf(this,l[6]||"",!0),this.m=ri(l[7]||"")):(this.h=!1,this.i=new oi(null,this.h))}mn.prototype.toString=function(){var a=[],l=this.j;l&&a.push(ii(l,jf,!0),":");var d=this.g;return(d||l=="file")&&(a.push("//"),(l=this.o)&&a.push(ii(l,jf,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(ii(d,d.charAt(0)=="/"?Sw:Cw,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",ii(d,xw)),a.join("")};function Dt(a){return new mn(a)}function Io(a,l,d){a.j=d?ri(l,!0):l,a.j&&(a.j=a.j.replace(/:$/,""))}function Eo(a,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);a.s=l}else a.s=null}function Vf(a,l,d){l instanceof oi?(a.i=l,Mw(a.i,a.h)):(d||(l=ii(l,Aw)),a.i=new oi(l,a.h))}function le(a,l,d){a.i.set(l,d)}function Do(a){return le(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ri(a,l){return a?l?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ii(a,l,d){return typeof a=="string"?(a=encodeURI(a).replace(l,Tw),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Tw(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var jf=/[#\/\?@]/g,Cw=/[#\?:]/g,Sw=/[#\?]/g,Aw=/[#\?@]/g,xw=/#/g;function oi(a,l){this.h=this.g=null,this.i=a||null,this.j=!!l}function Ht(a){a.g||(a.g=new Map,a.h=0,a.i&&bw(a.i,function(l,d){a.add(decodeURIComponent(l.replace(/\+/g," ")),d)}))}t=oi.prototype,t.add=function(a,l){Ht(this),this.i=null,a=Xn(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(l),this.h+=1,this};function Bf(a,l){Ht(a),l=Xn(a,l),a.g.has(l)&&(a.i=null,a.h-=a.g.get(l).length,a.g.delete(l))}function Uf(a,l){return Ht(a),l=Xn(a,l),a.g.has(l)}t.forEach=function(a,l){Ht(this),this.g.forEach(function(d,p){d.forEach(function(b){a.call(l,b,p,this)},this)},this)},t.na=function(){Ht(this);let a=Array.from(this.g.values()),l=Array.from(this.g.keys()),d=[];for(let p=0;p<l.length;p++){let b=a[p];for(let C=0;C<b.length;C++)d.push(l[p])}return d},t.V=function(a){Ht(this);let l=[];if(typeof a=="string")Uf(this,a)&&(l=l.concat(this.g.get(Xn(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)l=l.concat(a[d])}return l},t.set=function(a,l){return Ht(this),this.i=null,a=Xn(this,a),Uf(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[l]),this.h+=1,this},t.get=function(a,l){return a?(a=this.V(a),0<a.length?String(a[0]):l):l};function $f(a,l,d){Bf(a,l),0<d.length&&(a.i=null,a.g.set(Xn(a,l),M(d)),a.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],l=Array.from(this.g.keys());for(var d=0;d<l.length;d++){var p=l[d];let C=encodeURIComponent(String(p)),N=this.V(p);for(p=0;p<N.length;p++){var b=C;N[p]!==""&&(b+="="+encodeURIComponent(String(N[p]))),a.push(b)}}return this.i=a.join("&")};function Xn(a,l){return l=String(l),a.j&&(l=l.toLowerCase()),l}function Mw(a,l){l&&!a.j&&(Ht(a),a.i=null,a.g.forEach(function(d,p){var b=p.toLowerCase();p!=b&&(Bf(this,p),$f(this,b,d))},a)),a.j=l}function Nw(a,l){let d=new ti;if(u.Image){let p=new Image;p.onload=w(qt,d,"TestLoadImage: loaded",!0,l,p),p.onerror=w(qt,d,"TestLoadImage: error",!1,l,p),p.onabort=w(qt,d,"TestLoadImage: abort",!1,l,p),p.ontimeout=w(qt,d,"TestLoadImage: timeout",!1,l,p),u.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else l(!1)}function Rw(a,l){let d=new ti,p=new AbortController,b=setTimeout(()=>{p.abort(),qt(d,"TestPingServer: timeout",!1,l)},1e4);fetch(a,{signal:p.signal}).then(C=>{clearTimeout(b),C.ok?qt(d,"TestPingServer: ok",!0,l):qt(d,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(b),qt(d,"TestPingServer: error",!1,l)})}function qt(a,l,d,p,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),p(d)}catch{}}function Pw(){this.g=new gw}function Ow(a,l,d){let p=d||"";try{Ff(a,function(b,C){let N=b;h(b)&&(N=fu(b)),l.push(p+C+"="+encodeURIComponent(N))})}catch(b){throw l.push(p+"type="+encodeURIComponent("_badmap")),b}}function si(a){this.l=a.Ub||null,this.j=a.eb||!1}S(si,pu),si.prototype.g=function(){return new bo(this.l,this.j)},si.prototype.i=function(a){return function(){return a}}({});function bo(a,l){Me.call(this),this.D=a,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(bo,Me),t=bo.prototype,t.open=function(a,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=l,this.readyState=1,ui(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(l.body=a),(this.D||u).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hf(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hf(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var l=a.value?a.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!a.done}))&&(this.response=this.responseText+=l)}a.done?ai(this):ui(this),this.readyState==3&&Hf(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,ai(this))},t.Qa=function(a){this.g&&(this.response=a,ai(this))},t.ga=function(){this.g&&ai(this)};function ai(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ui(a)}t.setRequestHeader=function(a,l){this.u.append(a,l)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],l=this.h.entries();for(var d=l.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=l.next();return a.join(`\r
`)};function ui(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(bo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function qf(a){let l="";return se(a,function(d,p){l+=p,l+=":",l+=d,l+=`\r
`}),l}function bu(a,l,d){e:{for(p in d){var p=!1;break e}p=!0}p||(d=qf(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):le(a,l,d))}function fe(a){Me.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(fe,Me);var kw=/^https?$/i,Fw=["POST","PUT"];t=fe.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,l,d,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);l=l?l.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yu.g(),this.v=this.o?_f(this.o):_f(yu),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(l,String(a),!0),this.B=!1}catch(C){zf(this,C);return}if(a=d||"",d=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var b in p)d.set(b,p[b]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let C of p.keys())d.set(C,p.get(C));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(d.keys()).find(C=>C.toLowerCase()=="content-type"),b=u.FormData&&a instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Fw,l,void 0))||p||b||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[C,N]of d)this.g.setRequestHeader(C,N);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kf(this),this.u=!0,this.g.send(a),this.u=!1}catch(C){zf(this,C)}};function zf(a,l){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=l,a.m=5,Gf(a),To(a)}function Gf(a){a.A||(a.A=!0,Be(a,"complete"),Be(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Be(this,"complete"),Be(this,"abort"),To(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),To(this,!0)),fe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Wf(this):this.bb())},t.bb=function(){Wf(this)};function Wf(a){if(a.h&&typeof s<"u"&&(!a.v[1]||bt(a)!=4||a.Z()!=2)){if(a.u&&bt(a)==4)gf(a.Ea,0,a);else if(Be(a,"readystatechange"),bt(a)==4){a.h=!1;try{let N=a.Z();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var d;if(!(d=l)){var p;if(p=N===0){var b=String(a.D).match(Lf)[1]||null;!b&&u.self&&u.self.location&&(b=u.self.location.protocol.slice(0,-1)),p=!kw.test(b?b.toLowerCase():"")}d=p}if(d)Be(a,"complete"),Be(a,"success");else{a.m=6;try{var C=2<bt(a)?a.g.statusText:""}catch{C=""}a.l=C+" ["+a.Z()+"]",Gf(a)}}finally{To(a)}}}}function To(a,l){if(a.g){Kf(a);let d=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,l||Be(a,"ready");try{d.onreadystatechange=p}catch{}}}function Kf(a){a.I&&(u.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function bt(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<bt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var l=this.g.responseText;return a&&l.indexOf(a)==0&&(l=l.substring(a.length)),pw(l)}};function Qf(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Lw(a){let l={};a=(a.g&&2<=bt(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(L(a[p]))continue;var d=D(a[p]);let b=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();let C=l[b]||[];l[b]=C,C.push(d)}E(l,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ci(a,l,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||l}function Yf(a){this.Aa=0,this.i=[],this.j=new ti,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ci("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ci("baseRetryDelayMs",5e3,a),this.cb=ci("retryDelaySeedMs",1e4,a),this.Wa=ci("forwardChannelMaxRetries",2,a),this.wa=ci("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Nf(a&&a.concurrentRequestLimit),this.Da=new Pw,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Yf.prototype,t.la=8,t.G=1,t.connect=function(a,l,d,p){Ue(0),this.W=a,this.H=l||{},d&&p!==void 0&&(this.H.OSID=d,this.H.OAID=p),this.F=this.X,this.I=op(this,null,this.W),So(this)};function Tu(a){if(Zf(a),a.G==3){var l=a.U++,d=Dt(a.I);if(le(d,"SID",a.K),le(d,"RID",l),le(d,"TYPE","terminate"),li(a,d),l=new $t(a,a.j,l),l.L=2,l.v=Do(Dt(d)),d=!1,u.navigator&&u.navigator.sendBeacon)try{d=u.navigator.sendBeacon(l.v.toString(),"")}catch{}!d&&u.Image&&(new Image().src=l.v,d=!0),d||(l.g=sp(l.j,null),l.g.ea(l.v)),l.F=Date.now(),wo(l)}ip(a)}function Co(a){a.g&&(Su(a),a.g.cancel(),a.g=null)}function Zf(a){Co(a),a.u&&(u.clearTimeout(a.u),a.u=null),Ao(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&u.clearTimeout(a.s),a.s=null)}function So(a){if(!Rf(a.h)&&!a.s){a.s=!0;var l=a.Ga;Wr||cf(),Kr||(Wr(),Kr=!0),iu.add(l,a),a.B=0}}function Vw(a,l){return Pf(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=l.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ei(I(a.Ga,a,l),rp(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new $t(this,this.j,a),C=this.o;if(this.S&&(C?(C=m(C),_(C,this.S)):C=this.S),this.m!==null||this.O||(b.H=C,C=null),this.P)e:{for(var l=0,d=0;d<this.i.length;d++){t:{var p=this.i[d];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(l+=p,4096<l){l=d;break e}if(l===4096||d===this.i.length-1){l=d+1;break e}}l=1e3}else l=1e3;l=Xf(this,b,l),d=Dt(this.I),le(d,"RID",a),le(d,"CVER",22),this.D&&le(d,"X-HTTP-Session-Id",this.D),li(this,d),C&&(this.O?l="headers="+encodeURIComponent(String(qf(C)))+"&"+l:this.m&&bu(d,this.m,C)),Du(this.h,b),this.Ua&&le(d,"TYPE","init"),this.P?(le(d,"$req",l),le(d,"SID","null"),b.T=!0,_u(b,d,null)):_u(b,d,l),this.G=2}}else this.G==3&&(a?Jf(this,a):this.i.length==0||Rf(this.h)||Jf(this))};function Jf(a,l){var d;l?d=l.l:d=a.U++;let p=Dt(a.I);le(p,"SID",a.K),le(p,"RID",d),le(p,"AID",a.T),li(a,p),a.m&&a.o&&bu(p,a.m,a.o),d=new $t(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),l&&(a.i=l.D.concat(a.i)),l=Xf(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Du(a.h,d),_u(d,p,l)}function li(a,l){a.H&&se(a.H,function(d,p){le(l,p,d)}),a.l&&Ff({},function(d,p){le(l,p,d)})}function Xf(a,l,d){d=Math.min(a.i.length,d);var p=a.l?I(a.l.Na,a.l,a):null;e:{var b=a.i;let C=-1;for(;;){let N=["count="+d];C==-1?0<d?(C=b[0].g,N.push("ofs="+C)):C=0:N.push("ofs="+C);let ae=!0;for(let Ce=0;Ce<d;Ce++){let te=b[Ce].g,Ne=b[Ce].map;if(te-=C,0>te)C=Math.max(0,b[Ce].g-100),ae=!1;else try{Ow(Ne,N,"req"+te+"_")}catch{p&&p(Ne)}}if(ae){p=N.join("&");break e}}}return a=a.i.splice(0,d),l.D=a,p}function ep(a){if(!a.g&&!a.u){a.Y=1;var l=a.Fa;Wr||cf(),Kr||(Wr(),Kr=!0),iu.add(l,a),a.v=0}}function Cu(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ei(I(a.Fa,a),rp(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,tp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ei(I(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ue(10),Co(this),tp(this))};function Su(a){a.A!=null&&(u.clearTimeout(a.A),a.A=null)}function tp(a){a.g=new $t(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var l=Dt(a.qa);le(l,"RID","rpc"),le(l,"SID",a.K),le(l,"AID",a.T),le(l,"CI",a.F?"0":"1"),!a.F&&a.ja&&le(l,"TO",a.ja),le(l,"TYPE","xmlhttp"),li(a,l),a.m&&a.o&&bu(l,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=Do(Dt(l)),d.m=null,d.P=!0,Af(d,a)}t.Za=function(){this.C!=null&&(this.C=null,Co(this),Cu(this),Ue(19))};function Ao(a){a.C!=null&&(u.clearTimeout(a.C),a.C=null)}function np(a,l){var d=null;if(a.g==l){Ao(a),Su(a),a.g=null;var p=2}else if(Eu(a.h,l))d=l.D,Of(a.h,l),p=1;else return;if(a.G!=0){if(l.o)if(p==1){d=l.m?l.m.length:0,l=Date.now()-l.F;var b=a.B;p=yo(),Be(p,new bf(p,d)),So(a)}else ep(a);else if(b=l.s,b==3||b==0&&0<l.X||!(p==1&&Vw(a,l)||p==2&&Cu(a)))switch(d&&0<d.length&&(l=a.h,l.i=l.i.concat(d)),b){case 1:yn(a,5);break;case 4:yn(a,10);break;case 3:yn(a,6);break;default:yn(a,2)}}}function rp(a,l){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*l}function yn(a,l){if(a.j.info("Error code "+l),l==2){var d=I(a.fb,a),p=a.Xa;let b=!p;p=new mn(p||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Io(p,"https"),Do(p),b?Nw(p.toString(),d):Rw(p.toString(),d)}else Ue(2);a.G=0,a.l&&a.l.sa(l),ip(a),Zf(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function ip(a){if(a.G=0,a.ka=[],a.l){let l=kf(a.h);(l.length!=0||a.i.length!=0)&&(R(a.ka,l),R(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function op(a,l,d){var p=d instanceof mn?Dt(d):new mn(d);if(p.g!="")l&&(p.g=l+"."+p.g),Eo(p,p.s);else{var b=u.location;p=b.protocol,l=l?l+"."+b.hostname:b.hostname,b=+b.port;var C=new mn(null);p&&Io(C,p),l&&(C.g=l),b&&Eo(C,b),d&&(C.l=d),p=C}return d=a.D,l=a.ya,d&&l&&le(p,d,l),le(p,"VER",a.la),li(a,p),p}function sp(a,l,d){if(l&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=a.Ca&&!a.pa?new fe(new si({eb:d})):new fe(a.pa),l.Ha(a.J),l}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ap(){}t=ap.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function xo(){}xo.prototype.g=function(a,l){return new Je(a,l)};function Je(a,l){Me.call(this),this.g=new Yf(l),this.l=a,this.h=l&&l.messageUrlParams||null,a=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(a?a["X-WebChannel-Content-Type"]=l.messageContentType:a={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(a?a["X-WebChannel-Client-Profile"]=l.va:a={"X-WebChannel-Client-Profile":l.va}),this.g.S=a,(a=l&&l.Sb)&&!L(a)&&(this.g.m=a),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!L(l)&&(this.g.D=l,a=this.h,a!==null&&l in a&&(a=this.h,l in a&&delete a[l])),this.j=new er(this)}S(Je,Me),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Tu(this.g)},Je.prototype.o=function(a){var l=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=fu(a),a=d);l.i.push(new Iw(l.Ya++,a)),l.G==3&&So(l)},Je.prototype.N=function(){this.g.l=null,delete this.j,Tu(this.g),delete this.g,Je.aa.N.call(this)};function up(a){gu.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var l=a.__sm__;if(l){e:{for(let d in l){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,l=l!==null&&a in l?l[a]:void 0),this.data=l}else this.data=a}S(up,gu);function cp(){mu.call(this),this.status=1}S(cp,mu);function er(a){this.g=a}S(er,ap),er.prototype.ua=function(){Be(this.g,"a")},er.prototype.ta=function(a){Be(this.g,new up(a))},er.prototype.sa=function(a){Be(this.g,new cp)},er.prototype.ra=function(){Be(this.g,"b")},xo.prototype.createWebChannel=xo.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,Sd=kt.createWebChannelTransport=function(){return new xo},Cd=kt.getStatEventTarget=function(){return yo()},Td=kt.Event=pn,Da=kt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vo.NO_ERROR=0,vo.TIMEOUT=8,vo.HTTP_ERROR=6,Ji=kt.ErrorCode=vo,Tf.COMPLETE="complete",bd=kt.EventType=Tf,wf.EventType=Jr,Jr.OPEN="a",Jr.CLOSE="b",Jr.ERROR="c",Jr.MESSAGE="d",Me.prototype.listen=Me.prototype.K,Ar=kt.WebChannel=wf,VS=kt.FetchXmlHttpFactory=si,fe.prototype.listenOnce=fe.prototype.L,fe.prototype.getLastError=fe.prototype.Ka,fe.prototype.getLastErrorCode=fe.prototype.Ba,fe.prototype.getStatus=fe.prototype.Z,fe.prototype.getResponseJson=fe.prototype.Oa,fe.prototype.getResponseText=fe.prototype.oa,fe.prototype.send=fe.prototype.ea,fe.prototype.setWithCredentials=fe.prototype.Ha,Dd=kt.XhrIo=fe}).apply(typeof Ea<"u"?Ea:typeof self<"u"?self:typeof window<"u"?window:{});var Qv="@firebase/firestore";var De=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};De.UNAUTHENTICATED=new De(null),De.GOOGLE_CREDENTIALS=new De("google-credentials-uid"),De.FIRST_PARTY=new De("first-party-uid"),De.MOCK_USER=new De("mock-user");var qr="11.0.2";var qn=new Sr("@firebase/firestore");function xr(){return qn.logLevel}function O(t,...e){if(qn.logLevel<=Y.DEBUG){let n=e.map(Zh);qn.debug(`Firestore (${qr}): ${t}`,...n)}}function zn(t,...e){if(qn.logLevel<=Y.ERROR){let n=e.map(Zh);qn.error(`Firestore (${qr}): ${t}`,...n)}}function Ma(t,...e){if(qn.logLevel<=Y.WARN){let n=e.map(Zh);qn.warn(`Firestore (${qr}): ${t}`,...n)}}function Zh(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function q(t="Unexpected state"){let e=`FIRESTORE (${qr}) INTERNAL ASSERTION FAILED: `+t;throw zn(e),new Error(e)}function ge(t,e){t||q()}function ce(t,e){return t}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends Rt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ft=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Na=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Nd=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(De.UNAUTHENTICATED))}shutdown(){}},Rd=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Pd=class{constructor(e){this.t=e,this.currentUser=De.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ge(this.o===void 0);let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new Ft;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ft,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>P(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},u=c=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?u(c):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ft)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string"),new Na(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string"),new De(e)}},Od=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=De.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},kd=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Od(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(De.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Fd=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ld=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ge(this.o===void 0);let r=o=>{o.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,O("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string"),this.R=n.token,new Fd(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function jS(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ra=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=jS(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function ie(t,e){return t<e?-1:t>e?1:0}function Pr(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ve=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new F(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var pe=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Ve(0,0))}static max(){return new t(new Ve(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Pa=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(),r===void 0?r=e.length-n:r>e.length-n&&q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},be=class t extends Pa{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new F(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},BS=/^[_a-zA-Z][_a-zA-Z0-9]*$/,tt=class t extends Pa{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return BS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new F(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let u=e[i];if(u==="\\"){if(i+1===e.length)throw new F(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new F(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new F(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var z=class t{constructor(e){this.path=e}static fromPath(e){return new t(be.fromString(e))}static fromName(e){return new t(be.fromString(e).popFirst(5))}static empty(){return new t(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new be(e.slice()))}};var Vd=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Vd.UNKNOWN_ID=-1;function US(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(r===1e9?new Ve(n+1,0):new Ve(n,r));return new Gn(i,z.empty(),e)}function $S(t){return new Gn(t.readTime,t.key,-1)}var Gn=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(pe.min(),z.empty(),-1)}static max(){return new t(pe.max(),z.empty(),-1)}};function HS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}var qS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",jd=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Jh(t){return P(this,null,function*(){if(t.code!==x.FAILED_PRECONDITION||t.message!==qS)throw t;O("LocalStore","Unexpectedly lost primary lease")})}var A=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(u=>{++i,u.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),u=0;for(let c=0;c<o;c++){let h=c;n(e[h]).next(f=>{s[h]=f,++u,u===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function zS(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lo(t){return t.name==="IndexedDbTransactionError"}var __=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Xh(t){return t==null}function io(t){return t===0&&1/t==-1/0}function GS(t){return typeof t=="number"&&Number.isInteger(t)&&!io(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function WS(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Yv(e)),e=KS(t.get(n),e);return Yv(e)}function KS(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Yv(t){return t+""}var QS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],BF=[...QS,"documentOverlays"],YS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ZS=YS,JS=[...ZS,"indexConfiguration","indexState","indexEntries"];var UF=[...JS,"globals"];function Zv(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function w_(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var nt=class t{constructor(e,n){this.comparator=e,this.root=n||wt.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nr(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nr(this.root,e,this.comparator,!0)}},Nr=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},wt=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();let e=this.left.check();if(e!==this.right.check())throw q();return e+(this.isRed()?0:1)}};wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1;wt.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(e,n,r,i,o){return this}insert(e,n,r){return new wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var je=class t{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Oa(this.data.getIterator())}getIteratorFrom(e){return new Oa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Oa=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var _t=class t{constructor(e){this.fields=e,e.sort(tt.comparator)}static empty(){return new t([])}unionWith(e){let n=new je(tt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pr(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Bd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Vt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Bd("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Vt.EMPTY_BYTE_STRING=new Vt("");var XS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dn(t){if(ge(!!t),typeof t=="string"){let e=0,n=XS.exec(t);if(ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ve(t.seconds),nanos:ve(t.nanos)}}function ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wn(t){return typeof t=="string"?Vt.fromBase64String(t):Vt.fromUint8Array(t)}function ef(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function tf(t){let e=t.mapValue.fields.__previous_value__;return ef(e)?tf(e):e}function ka(t){let e=dn(t.mapValue.fields.__local_write_time__.timestampValue);return new Ve(e.seconds,e.nanos)}var Ud=class{constructor(e,n,r,i,o,s,u,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=h}},$d=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ba={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Kn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ef(t)?4:E_(t)?9007199254740991:I_(t)?10:11:q()}function It(t,e){if(t===e)return!0;let n=Kn(t);if(n!==Kn(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ka(t).isEqual(ka(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=dn(i.timestampValue),u=dn(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Wn(i.bytesValue).isEqual(Wn(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ve(i.geoPointValue.latitude)===ve(o.geoPointValue.latitude)&&ve(i.geoPointValue.longitude)===ve(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ve(i.integerValue)===ve(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ve(i.doubleValue),u=ve(o.doubleValue);return s===u?io(s)===io(u):isNaN(s)&&isNaN(u)}return!1}(t,e);case 9:return Pr(t.arrayValue.values||[],e.arrayValue.values||[],It);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},u=o.mapValue.fields||{};if(Zv(s)!==Zv(u))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!It(s[c],u[c])))return!1;return!0}(t,e);default:return q()}}function oo(t,e){return(t.values||[]).find(n=>It(n,e))!==void 0}function Or(t,e){if(t===e)return 0;let n=Kn(t),r=Kn(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(o,s){let u=ve(o.integerValue||o.doubleValue),c=ve(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return Jv(t.timestampValue,e.timestampValue);case 4:return Jv(ka(t),ka(e));case 5:return ie(t.stringValue,e.stringValue);case 6:return function(o,s){let u=Wn(o),c=Wn(s);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let u=o.split("/"),c=s.split("/");for(let h=0;h<u.length&&h<c.length;h++){let f=ie(u[h],c[h]);if(f!==0)return f}return ie(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let u=ie(ve(o.latitude),ve(s.latitude));return u!==0?u:ie(ve(o.longitude),ve(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Xv(t.arrayValue,e.arrayValue);case 10:return function(o,s){var u,c,h,f;let g=o.fields||{},I=s.fields||{},w=(u=g.value)===null||u===void 0?void 0:u.arrayValue,S=(c=I.value)===null||c===void 0?void 0:c.arrayValue,M=ie(((h=w?.values)===null||h===void 0?void 0:h.length)||0,((f=S?.values)===null||f===void 0?void 0:f.length)||0);return M!==0?M:Xv(w,S)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===ba.mapValue&&s===ba.mapValue)return 0;if(o===ba.mapValue)return 1;if(s===ba.mapValue)return-1;let u=o.fields||{},c=Object.keys(u),h=s.fields||{},f=Object.keys(h);c.sort(),f.sort();for(let g=0;g<c.length&&g<f.length;++g){let I=ie(c[g],f[g]);if(I!==0)return I;let w=Or(u[c[g]],h[f[g]]);if(w!==0)return w}return ie(c.length,f.length)}(t.mapValue,e.mapValue);default:throw q()}}function Jv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);let n=dn(t),r=dn(e),i=ie(n.seconds,r.seconds);return i!==0?i:ie(n.nanos,r.nanos)}function Xv(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Or(n[i],r[i]);if(o)return o}return ie(n.length,r.length)}function kr(t){return Hd(t)}function Hd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=dn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Wn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Hd(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Hd(n.fields[s])}`;return i+"}"}(t.mapValue):q()}function Sa(t){switch(Kn(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=tf(t);return e?16+Sa(e):16;case 5:return 2*t.stringValue.length;case 6:return Wn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Sa(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return zr(r.fields,(o,s)=>{i+=o.length+Sa(s)}),i}(t.mapValue);default:throw q()}}function qd(t){return!!t&&"integerValue"in t}function nf(t){return!!t&&"arrayValue"in t}function Aa(t){return!!t&&"mapValue"in t}function I_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function eo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return zr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=eo(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function E_(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var vt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Aa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eo(n)}setAll(e){let n=tt.emptyPath(),r={},i=[];e.forEach((s,u)=>{if(!n.isImmediateParentOf(u)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}s?r[u.lastSegment()]=eo(s):i.push(u.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Aa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return It(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Aa(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){zr(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(eo(this.value))}};function D_(t){let e=[];return zr(t.fields,(n,r)=>{let i=new tt([n]);if(Aa(r)){let o=D_(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new _t(e)}var Fr=class t{constructor(e,n,r,i,o,s,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=u}static newInvalidDocument(e){return new t(e,0,pe.min(),pe.min(),pe.min(),vt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,pe.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,pe.min(),pe.min(),vt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,pe.min(),pe.min(),vt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Lr=class{constructor(e,n){this.position=e,this.inclusive=n}};function e_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=z.comparator(z.fromName(s.referenceValue),n.key):r=Or(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function t_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!It(t.position[n],e.position[n]))return!1;return!0}var Vr=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function eA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Fa=class{},Te=class t extends Fa{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Gd(e,n,r):n==="array-contains"?new Qd(e,r):n==="in"?new Yd(e,r):n==="not-in"?new Zd(e,r):n==="array-contains-any"?new Jd(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Wd(e,r):new Kd(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Or(n,this.value)):n!==null&&Kn(this.value)===Kn(n)&&this.matchesComparison(Or(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},hn=class t extends Fa{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return b_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function b_(t){return t.op==="and"}function T_(t){return tA(t)&&b_(t)}function tA(t){for(let e of t.filters)if(e instanceof hn)return!1;return!0}function zd(t){if(t instanceof Te)return t.field.canonicalString()+t.op.toString()+kr(t.value);if(T_(t))return t.filters.map(e=>zd(e)).join(",");{let e=t.filters.map(n=>zd(n)).join(",");return`${t.op}(${e})`}}function C_(t,e){return t instanceof Te?function(r,i){return i instanceof Te&&r.op===i.op&&r.field.isEqual(i.field)&&It(r.value,i.value)}(t,e):t instanceof hn?function(r,i){return i instanceof hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,u)=>o&&C_(s,i.filters[u]),!0):!1}(t,e):void q()}function S_(t){return t instanceof Te?function(n){return`${n.field.canonicalString()} ${n.op} ${kr(n.value)}`}(t):t instanceof hn?function(n){return n.op.toString()+" {"+n.getFilters().map(S_).join(" ,")+"}"}(t):"Filter"}var Gd=class extends Te{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){let n=z.comparator(e.key,this.key);return this.matchesComparison(n)}},Wd=class extends Te{constructor(e,n){super(e,"in",n),this.keys=A_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Kd=class extends Te{constructor(e,n){super(e,"not-in",n),this.keys=A_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function A_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}var Qd=class extends Te{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return nf(n)&&oo(n.arrayValue,this.value)}},Yd=class extends Te{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&oo(this.value.arrayValue,n)}},Zd=class extends Te{constructor(e,n){super(e,"not-in",n)}matches(e){if(oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!oo(this.value.arrayValue,n)}},Jd=class extends Te{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!nf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>oo(this.value.arrayValue,r))}};var Xd=class{constructor(e,n=null,r=[],i=[],o=null,s=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=u,this.ue=null}};function n_(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Xd(t,e,n,r,i,o,s)}function rf(t){let e=ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Xh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>kr(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>kr(r)).join(",")),e.ue=n}return e.ue}function of(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!C_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!t_(t.startAt,e.startAt)&&t_(t.endAt,e.endAt)}var jr=class{constructor(e,n=null,r=[],i=[],o=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function nA(t,e,n,r,i,o,s,u){return new jr(t,e,n,r,i,o,s,u)}function rA(t){return new jr(t)}function r_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iA(t){return t.collectionGroup!==null}function to(t){let e=ce(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new je(tt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Vr(o,r))}),n.has(tt.keyField().canonicalString())||e.ce.push(new Vr(tt.keyField(),r))}return e.ce}function $n(t){let e=ce(t);return e.le||(e.le=oA(e,to(t))),e.le}function oA(t,e){if(t.limitType==="F")return n_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Vr(i.field,o)});let n=t.endAt?new Lr(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lr(t.startAt.position,t.startAt.inclusive):null;return n_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function eh(t,e,n){return new jr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function x_(t,e){return of($n(t),$n(e))&&t.limitType===e.limitType}function M_(t){return`${rf($n(t))}|lt:${t.limitType}`}function Xi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>S_(i)).join(", ")}]`),Xh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>kr(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>kr(i)).join(",")),`Target(${r})`}($n(t))}; limitType=${t.limitType})`}function sf(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of to(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,u,c){let h=e_(s,u,c);return s.inclusive?h<=0:h<0}(r.startAt,to(r),i)||r.endAt&&!function(s,u,c){let h=e_(s,u,c);return s.inclusive?h>=0:h>0}(r.endAt,to(r),i))}(t,e)}function sA(t){return(e,n)=>{let r=!1;for(let i of to(t)){let o=aA(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function aA(t,e,n){let r=t.field.isKeyField()?z.comparator(e.key,n.key):function(o,s,u){let c=s.data.field(o),h=u.data.field(o);return c!==null&&h!==null?Or(c,h):q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q()}}var jt=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zr(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return w_(this.inner)}size(){return this.innerSize}};var uA=new nt(z.comparator);function La(){return uA}var N_=new nt(z.comparator);function Ta(...t){let e=N_;for(let n of t)e=e.insert(n.key,n);return e}function R_(t){let e=N_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Un(){return no()}function P_(){return no()}function no(){return new jt(t=>t.toString(),(t,e)=>t.isEqual(e))}var cA=new nt(z.comparator),lA=new je(z.comparator);function Le(...t){let e=lA;for(let n of t)e=e.add(n);return e}var dA=new je(ie);function hA(){return dA}function af(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:io(e)?"-0":e}}function O_(t){return{integerValue:""+t}}function fA(t,e){return GS(e)?O_(e):af(t,e)}var Br=class{constructor(){this._=void 0}};function pA(t,e,n){return t instanceof Ur?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ef(o)&&(o=tf(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Qn?F_(t,e):t instanceof Yn?L_(t,e):function(i,o){let s=k_(i,o),u=i_(s)+i_(i.Pe);return qd(s)&&qd(i.Pe)?O_(u):af(i.serializer,u)}(t,e)}function gA(t,e,n){return t instanceof Qn?F_(t,e):t instanceof Yn?L_(t,e):n}function k_(t,e){return t instanceof $r?function(r){return qd(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ur=class extends Br{},Qn=class extends Br{constructor(e){super(),this.elements=e}};function F_(t,e){let n=V_(e);for(let r of t.elements)n.some(i=>It(i,r))||n.push(r);return{arrayValue:{values:n}}}var Yn=class extends Br{constructor(e){super(),this.elements=e}};function L_(t,e){let n=V_(e);for(let r of t.elements)n=n.filter(i=>!It(i,r));return{arrayValue:{values:n}}}var $r=class extends Br{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function i_(t){return ve(t.integerValue||t.doubleValue)}function V_(t){return nf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function mA(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Qn&&i instanceof Qn||r instanceof Yn&&i instanceof Yn?Pr(r.elements,i.elements,It):r instanceof $r&&i instanceof $r?It(r.Pe,i.Pe):r instanceof Ur&&i instanceof Ur}(t.transform,e.transform)}var th=class{constructor(e,n){this.version=e,this.transformResults=n}},Hn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function xa(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Hr=class{};function j_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Va(t.key,Hn.none()):new Zn(t.key,t.data,Hn.none());{let n=t.data,r=vt.empty(),i=new je(tt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Bt(t.key,r,new _t(i.toArray()),Hn.none())}}function yA(t,e,n){t instanceof Zn?function(i,o,s){let u=i.value.clone(),c=s_(i.fieldTransforms,o,s.transformResults);u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Bt?function(i,o,s){if(!xa(i.precondition,o))return void o.convertToUnknownDocument(s.version);let u=s_(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(B_(i)),c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ro(t,e,n,r){return t instanceof Zn?function(o,s,u,c){if(!xa(o.precondition,s))return u;let h=o.value.clone(),f=a_(o.fieldTransforms,c,s);return h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bt?function(o,s,u,c){if(!xa(o.precondition,s))return u;let h=a_(o.fieldTransforms,c,s),f=s.data;return f.setAll(B_(o)),f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(o,s,u){return xa(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u}(t,e,n)}function vA(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=k_(r.transform,i||null);o!=null&&(n===null&&(n=vt.empty()),n.set(r.field,o))}return n||null}function o_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Pr(r,i,(o,s)=>mA(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Zn=class extends Hr{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Bt=class extends Hr{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function B_(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function s_(t,e,n){let r=new Map;ge(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,u=e.data.field(o.field);r.set(o.field,gA(s,u,n[i]))}return r}function a_(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,pA(o,s,e))}return r}var Va=class extends Hr{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},nh=class extends Hr{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var rh=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&yA(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ro(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ro(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=P_();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,u=this.applyToLocalView(s,o.mutatedFields);u=n.has(i.key)?null:u;let c=j_(s,u);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&Pr(this.mutations,e.mutations,(n,r)=>o_(n,r))&&Pr(this.baseMutations,e.baseMutations,(n,r)=>o_(n,r))}},ih=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ge(e.mutations.length===r.length);let i=function(){return cA}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var oh=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var me,Z;function _A(t){switch(t){default:return q();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function wA(t){if(t===void 0)return zn("GRPC error has no .code"),x.UNKNOWN;switch(t){case me.OK:return x.OK;case me.CANCELLED:return x.CANCELLED;case me.UNKNOWN:return x.UNKNOWN;case me.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case me.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case me.INTERNAL:return x.INTERNAL;case me.UNAVAILABLE:return x.UNAVAILABLE;case me.UNAUTHENTICATED:return x.UNAUTHENTICATED;case me.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case me.NOT_FOUND:return x.NOT_FOUND;case me.ALREADY_EXISTS:return x.ALREADY_EXISTS;case me.PERMISSION_DENIED:return x.PERMISSION_DENIED;case me.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case me.ABORTED:return x.ABORTED;case me.OUT_OF_RANGE:return x.OUT_OF_RANGE;case me.UNIMPLEMENTED:return x.UNIMPLEMENTED;case me.DATA_LOSS:return x.DATA_LOSS;default:return q()}}(Z=me||(me={}))[Z.OK=0]="OK",Z[Z.CANCELLED=1]="CANCELLED",Z[Z.UNKNOWN=2]="UNKNOWN",Z[Z.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Z[Z.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Z[Z.NOT_FOUND=5]="NOT_FOUND",Z[Z.ALREADY_EXISTS=6]="ALREADY_EXISTS",Z[Z.PERMISSION_DENIED=7]="PERMISSION_DENIED",Z[Z.UNAUTHENTICATED=16]="UNAUTHENTICATED",Z[Z.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Z[Z.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Z[Z.ABORTED=10]="ABORTED",Z[Z.OUT_OF_RANGE=11]="OUT_OF_RANGE",Z[Z.UNIMPLEMENTED=12]="UNIMPLEMENTED",Z[Z.INTERNAL=13]="INTERNAL",Z[Z.UNAVAILABLE=14]="UNAVAILABLE",Z[Z.DATA_LOSS=15]="DATA_LOSS";var HF=new Ed([4294967295,4294967295],0);var sh=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function ah(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function EA(t,e){return ah(t,e.toTimestamp())}function Rr(t){return ge(!!t),pe.fromTimestamp(function(n){let r=dn(n);return new Ve(r.seconds,r.nanos)}(t))}function U_(t,e){return uh(t,e).canonicalString()}function uh(t,e){let n=function(i){return new be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function DA(t){let e=be.fromString(t);return ge(NA(e)),e}function ch(t,e){return U_(t.databaseId,e.path)}function bA(t){let e=DA(t);return e.length===4?be.emptyPath():CA(e)}function TA(t){return new be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CA(t){return ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function u_(t,e,n){return{name:ch(t,e),fields:n.value.mapValue.fields}}function SA(t,e){let n;if(e instanceof Zn)n={update:u_(t,e.key,e.value)};else if(e instanceof Va)n={delete:ch(t,e.key)};else if(e instanceof Bt)n={update:u_(t,e.key,e.data),updateMask:MA(e.fieldMask)};else{if(!(e instanceof nh))return q();n={verify:ch(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let u=s.transform;if(u instanceof Ur)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Qn)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Yn)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof $r)return{fieldPath:s.field.canonicalString(),increment:u.Pe};throw q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:EA(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:q()}(t,e.precondition)),n}function AA(t,e){return t&&t.length>0?(ge(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Rr(i.updateTime):Rr(o);return s.isEqual(pe.min())&&(s=Rr(o)),new th(s,i.transformResults||[])}(n,e))):[]}function xA(t){let e=bA(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ge(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(g){let I=$_(g);return I instanceof hn&&T_(I)?I.getFilters():[I]}(n.where));let s=[];n.orderBy&&(s=function(g){return g.map(I=>function(S){return new Vr(Mr(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(I))}(n.orderBy));let u=null;n.limit&&(u=function(g){let I;return I=typeof g=="object"?g.value:g,Xh(I)?null:I}(n.limit));let c=null;n.startAt&&(c=function(g){let I=!!g.before,w=g.values||[];return new Lr(w,I)}(n.startAt));let h=null;return n.endAt&&(h=function(g){let I=!g.before,w=g.values||[];return new Lr(w,I)}(n.endAt)),nA(e,i,s,o,u,"F",c,h)}function $_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Mr(n.unaryFilter.field);return Te.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Mr(n.unaryFilter.field);return Te.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Mr(n.unaryFilter.field);return Te.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Mr(n.unaryFilter.field);return Te.create(s,"!=",{nullValue:"NULL_VALUE"});default:return q()}}(t):t.fieldFilter!==void 0?function(n){return Te.create(Mr(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hn.create(n.compositeFilter.filters.map(r=>$_(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q()}}(n.compositeFilter.op))}(t):q()}function Mr(t){return tt.fromServerFormat(t.fieldPath)}function MA(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var lh=class{constructor(e){this.ht=e}};function RA(t){let e=xA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?eh(e,e.limit,"L"):e}var ja=class{constructor(){}Et(e,n){this.dt(e,n),n.At()}dt(e,n){if("nullValue"in e)this.Rt(n,5);else if("booleanValue"in e)this.Rt(n,10),n.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(n,15),n.Vt(ve(e.integerValue));else if("doubleValue"in e){let r=ve(e.doubleValue);isNaN(r)?this.Rt(n,13):(this.Rt(n,15),io(r)?n.Vt(0):n.Vt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Rt(n,20),typeof r=="string"&&(r=dn(r)),n.ft(`${r.seconds||""}`),n.Vt(r.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,n),this.yt(n);else if("bytesValue"in e)this.Rt(n,30),n.wt(Wn(e.bytesValue)),this.yt(n);else if("referenceValue"in e)this.St(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Rt(n,45),n.Vt(r.latitude||0),n.Vt(r.longitude||0)}else"mapValue"in e?E_(e)?this.Rt(n,Number.MAX_SAFE_INTEGER):I_(e)?this.bt(e.mapValue,n):(this.Dt(e.mapValue,n),this.yt(n)):"arrayValue"in e?(this.vt(e.arrayValue,n),this.yt(n)):q()}gt(e,n){this.Rt(n,25),this.Ct(e,n)}Ct(e,n){n.ft(e)}Dt(e,n){let r=e.fields||{};this.Rt(n,55);for(let i of Object.keys(r))this.gt(i,n),this.dt(r[i],n)}bt(e,n){var r,i;let o=e.fields||{};this.Rt(n,53);let s="value",u=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Rt(n,15),n.Vt(ve(u)),this.gt(s,n),this.dt(o[s],n)}vt(e,n){let r=e.values||[];this.Rt(n,50);for(let i of r)this.dt(i,n)}St(e,n){this.Rt(n,37),z.fromName(e).path.forEach(r=>{this.Rt(n,60),this.Ct(r,n)})}Rt(e,n){e.Vt(n)}yt(e){e.Vt(2)}};ja.Ft=new ja;var dh=class{constructor(){this.ln=new hh}addToCollectionParentIndex(e,n){return this.ln.add(n),A.resolve()}getCollectionParents(e,n){return A.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return A.resolve()}deleteFieldIndex(e,n){return A.resolve()}deleteAllFieldIndexes(e){return A.resolve()}createTargetIndexes(e,n){return A.resolve()}getDocumentsMatchingTarget(e,n){return A.resolve(null)}getIndexType(e,n){return A.resolve(0)}getFieldIndexes(e,n){return A.resolve([])}getNextCollectionGroupToUpdate(e){return A.resolve(null)}getMinOffset(e,n){return A.resolve(Gn.min())}getMinOffsetFromCollectionGroup(e,n){return A.resolve(Gn.min())}updateCollectionGroup(e,n,r){return A.resolve()}updateIndexEntries(e,n){return A.resolve()}},hh=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new je(be.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new je(be.comparator)).toArray()}};var qF=new Uint8Array(0);var c_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ut=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};ut.DEFAULT_COLLECTION_PERCENTILE=10,ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ut.DEFAULT=new ut(41943040,ut.DEFAULT_COLLECTION_PERCENTILE,ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ut.DISABLED=new ut(-1,0,0);var so=class t{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new t(0)}static Qn(){return new t(-1)}};function l_([t,e],[n,r]){let i=ie(t,n);return i===0?ie(e,r):i}var fh=class{constructor(e){this.Gn=e,this.buffer=new je(l_),this.zn=0}jn(){return++this.zn}Hn(e){let n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();l_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},ph=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){O("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>P(this,null,function*(){this.Jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){lo(n)?O("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield Jh(n)}yield this.Yn(3e5)}))}},gh=class{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return A.resolve(__.oe);let r=new fh(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(O("LruGarbageCollector","Garbage collection skipped; disabled"),A.resolve(c_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(O("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c_):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,o,s,u,c,h,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(O("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,u=Date.now(),this.removeTargets(e,r,n))).next(g=>(o=g,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),xr()<=Y.DEBUG&&O("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(u-s)+`ms
	Removed ${o} targets in `+(c-u)+`ms
	Removed ${g} documents in `+(h-c)+`ms
Total Duration: ${h-f}ms`),A.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}};function PA(t,e){return new gh(t,e)}var mh=class{constructor(){this.changes=new jt(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?A.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var yh=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var vh=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ro(r.mutation,i,_t.empty(),Ve.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Le()){let i=Un();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ta();return o.forEach((u,c)=>{s=s.insert(u,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Un();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Le()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,u)=>{n.set(s,u)})})}computeViews(e,n,r,i){let o=La(),s=no(),u=function(){return no()}();return n.forEach((c,h)=>{let f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof Bt)?o=o.insert(h.key,h):f!==void 0?(s.set(h.key,f.mutation.getFieldMask()),ro(f.mutation,h,f.mutation.getFieldMask(),Ve.now())):s.set(h.key,_t.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((h,f)=>s.set(h,f)),n.forEach((h,f)=>{var g;return u.set(h,new yh(f,(g=s.get(h))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,n){let r=no(),i=new nt((s,u)=>s-u),o=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let u of s)u.keys().forEach(c=>{let h=n.get(c);if(h===null)return;let f=r.get(c)||_t.empty();f=u.applyToLocalView(h,f),r.set(c,f);let g=(i.get(u.batchId)||Le()).add(c);i=i.insert(u.batchId,g)})}).next(()=>{let s=[],u=i.getReverseIterator();for(;u.hasNext();){let c=u.getNext(),h=c.key,f=c.value,g=P_();f.forEach(I=>{if(!o.has(I)){let w=j_(n.get(I),r.get(I));w!==null&&g.set(I,w),o=o.add(I)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,g))}return A.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):A.resolve(Un()),u=-1,c=o;return s.next(h=>A.forEach(h,(f,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),o.get(f)?A.resolve():this.remoteDocumentCache.getEntry(e,f).next(I=>{c=c.insert(f,I)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,c,h,Le())).next(f=>({batchId:u,changes:R_(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let i=Ta();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Ta();return this.indexManager.getCollectionParents(e,o).next(u=>A.forEach(u,c=>{let h=function(g,I){return new jr(I,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((g,I)=>{s=s.insert(g,I)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,h)=>{let f=h.getKey();s.get(f)===null&&(s=s.insert(f,Fr.newInvalidDocument(f)))});let u=Ta();return s.forEach((c,h)=>{let f=o.get(c);f!==void 0&&ro(f.mutation,h,_t.empty(),Ve.now()),sf(n,h)&&(u=u.insert(c,h))}),u})}};var _h=class{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return A.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Rr(i.createTime)}}(n)),A.resolve()}getNamedQuery(e,n){return A.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:RA(i.bundledQuery),readTime:Rr(i.readTime)}}(n)),A.resolve()}};var wh=class{constructor(){this.overlays=new nt(z.comparator),this.Er=new Map}getOverlay(e,n){return A.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Un();return A.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Tt(e,n,o)}),A.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Er.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Er.delete(r)),A.resolve()}getOverlaysForCollection(e,n,r){let i=Un(),o=n.length+1,s=new z(n.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){let c=u.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return A.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new nt((h,f)=>h-f),s=this.overlays.getIterator();for(;s.hasNext();){let h=s.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=o.get(h.largestBatchId);f===null&&(f=Un(),o=o.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}let u=Un(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,f)=>u.set(h,f)),!(u.size()>=i)););return A.resolve(u)}Tt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new oh(n,r));let o=this.Er.get(n);o===void 0&&(o=Le(),this.Er.set(n,o)),this.Er.set(n,o.add(r.key))}};var Ih=class{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return A.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,A.resolve()}};var ao=class{constructor(){this.dr=new je(ye.Ar),this.Rr=new je(ye.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){let r=new ye(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new ye(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){let n=new z(new be([])),r=new ye(n,e),i=new ye(n,e+1),o=[];return this.Rr.forEachInRange([r,i],s=>{this.gr(s),o.push(s.key)}),o}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){let n=new z(new be([])),r=new ye(n,e),i=new ye(n,e+1),o=Le();return this.Rr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new ye(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ye=class{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return z.comparator(e.key,n.key)||ie(e.br,n.br)}static Vr(e,n){return ie(e.br,n.br)||z.comparator(e.key,n.key)}};var Eh=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new je(ye.Ar)}checkEmpty(e){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new rh(o,n,r,i);this.mutationQueue.push(s);for(let u of i)this.vr=this.vr.add(new ye(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return A.resolve(s)}lookupMutationBatch(e,n){return A.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Fr(r),o=i<0?0:i;return A.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ye(n,0),i=new ye(n,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],s=>{let u=this.Cr(s.br);o.push(u)}),A.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new je(ie);return n.forEach(i=>{let o=new ye(i,0),s=new ye(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,s],u=>{r=r.add(u.br)})}),A.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;z.isDocumentKey(o)||(o=o.child(""));let s=new ye(new z(o),0),u=new je(ie);return this.vr.forEachWhile(c=>{let h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(c.br)),!0)},s),A.resolve(this.Mr(u))}Mr(e){let n=[];return e.forEach(r=>{let i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ge(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return A.forEach(n.mutations,i=>{let o=new ye(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){let r=new ye(n,0),i=this.vr.firstAfterOrEqual(r);return A.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,A.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){let n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Dh=class{constructor(e){this.Nr=e,this.docs=function(){return new nt(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return A.resolve(r?r.document.mutableCopy():Fr.newInvalidDocument(n))}getEntries(e,n){let r=La();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Fr.newInvalidDocument(i))}),A.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=La(),s=n.path,u=new z(s.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){let{key:h,value:{document:f}}=c.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||HS($S(f),r)<=0||(i.has(f.key)||sf(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return A.resolve(o)}getAllFromCollectionGroup(e,n,r,i){q()}Lr(e,n){return A.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new bh(this)}getSize(e){return A.resolve(this.size)}},bh=class extends mh{constructor(e){super(),this.hr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),A.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}};var Th=class{constructor(e){this.persistence=e,this.Br=new jt(n=>rf(n),of),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.kr=0,this.qr=new ao,this.targetCount=0,this.Qr=so.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),A.resolve()}Un(e){this.Br.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Qr=new so(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,A.resolve()}updateTargetData(e,n){return this.Un(n),A.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Br.forEach((s,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Br.delete(s),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),A.waitFor(o).next(()=>i)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,n){let r=this.Br.get(n)||null;return A.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),A.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),A.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),A.resolve()}getMatchingKeysForTargetId(e,n){let r=this.qr.Sr(n);return A.resolve(r)}containsKey(e,n){return A.resolve(this.qr.containsKey(n))}};var Ba=class{constructor(e,n){this.Kr={},this.overlays={},this.$r=new __(0),this.Ur=!1,this.Ur=!0,this.Wr=new Ih,this.referenceDelegate=e(this),this.Gr=new Th(this),this.indexManager=new dh,this.remoteDocumentCache=function(i){return new Dh(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new lh(n),this.jr=new _h(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wh,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new Eh(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){O("MemoryPersistence","Starting transaction:",e);let i=new Ch(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,n){return A.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}},Ch=class extends jd{constructor(e){super(),this.currentSequenceNumber=e}},Sh=class t{constructor(e){this.persistence=e,this.Zr=new ao,this.Xr=null}static ei(e){return new t(e)}get ti(){if(this.Xr)return this.Xr;throw q()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),A.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),A.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),A.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.ti,r=>{let i=z.fromPath(r);return this.ni(e,i).next(o=>{o||n.removeEntry(i,pe.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return A.or([()=>A.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}},Ua=class t{constructor(e,n){this.persistence=e,this.ri=new jt(r=>WS(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=PA(this,n)}static ei(e,n){return new t(e,n)}Hr(){}Jr(e){return A.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){let n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return A.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(o=>o?A.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Lr(e,s=>this.ir(e,s,n).next(u=>{u||(r++,o.removeEntry(s,pe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),A.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),A.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),A.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),A.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sa(e.data.value)),n}ir(e,n,r){return A.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.ri.get(n);return A.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Ah=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=Le(),i=Le();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var xh=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Mh=class{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return Sv()?8:zS(Cv())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Xi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.es(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new xh;return this.ts(e,n,s).next(u=>{if(o.result=u,this.Hi)return this.ns(e,n,s,u.size)})}).next(()=>o.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(xr()<=Y.DEBUG&&O("QueryEngine","SDK will not create cache indexes for query:",Xi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),A.resolve()):(xr()<=Y.DEBUG&&O("QueryEngine","Query:",Xi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(xr()<=Y.DEBUG&&O("QueryEngine","The SDK decides to create cache indexes for query:",Xi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(n))):A.resolve())}Xi(e,n){if(r_(n))return A.resolve(null);let r=$n(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=eh(n,null,"F"),r=$n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Le(...o);return this.Zi.getDocuments(e,s).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{let h=this.rs(n,u);return this.ss(n,h,s,c.readTime)?this.Xi(e,eh(n,null,"F")):this.os(e,h,n,c)}))})))}es(e,n,r,i){return r_(n)||i.isEqual(pe.min())?A.resolve(null):this.Zi.getDocuments(e,r).next(o=>{let s=this.rs(n,o);return this.ss(n,s,r,i)?A.resolve(null):(xr()<=Y.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xi(n)),this.os(e,s,n,US(i,-1)).next(u=>u))})}rs(e,n){let r=new je(sA(e));return n.forEach((i,o)=>{sf(e,o)&&(r=r.add(o))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,n,r){return xr()<=Y.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",Xi(n)),this.Zi.getDocumentsMatchingQuery(e,n,Gn.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Nh=class{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new nt(ie),this.cs=new jt(o=>rf(o),of),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vh(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}};function OA(t,e,n,r){return new Nh(t,e,n,r)}function H_(t,e){return P(this,null,function*(){let n=ce(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],u=[],c=Le();for(let h of i){s.push(h.batchId);for(let f of h.mutations)c=c.add(f.key)}for(let h of o){u.push(h.batchId);for(let f of h.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(h=>({Ts:h,removedBatchIds:s,addedBatchIds:u}))})})})}function kA(t,e){let n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.hs.newChangeBuffer({trackRemovals:!0});return function(u,c,h,f){let g=h.batch,I=g.keys(),w=A.resolve();return I.forEach(S=>{w=w.next(()=>f.getEntry(c,S)).next(M=>{let R=h.docVersions.get(S);ge(R!==null),M.version.compareTo(R)<0&&(g.applyToRemoteDocument(M,h),M.isValidDocument()&&(M.setReadTime(h.commitVersion),f.addEntry(M)))})}),w.next(()=>u.mutationQueue.removeMutationBatch(c,g))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=Le();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(c=c.add(u.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function FA(t){let e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function LA(t,e){let n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var $a=class{constructor(){this.activeTargetIds=hA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Rh=class{constructor(){this._o=new $a,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new $a,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ph=class{uo(e){}shutdown(){}};var Ha=class{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){O("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.To)e(0)}Po(){O("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ca=null;function Ad(){return Ca===null?Ca=function(){return 268435456+Math.round(2147483648*Math.random())}():Ca++,"0x"+Ca.toString(16)}var VA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Oh=class{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}};var Fe="WebChannelConnection",kh=class extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(n,r,i,o,s){let u=Ad(),c=this.No(n,r.toUriEncodedString());O("RestConnection",`Sending RPC '${n}' ${u}:`,c,i);let h={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(h,o,s),this.Bo(n,c,h,i).then(f=>(O("RestConnection",`Received RPC '${n}' ${u}: `,f),f),f=>{throw Ma("RestConnection",`RPC '${n}' ${u} failed with error: `,f,"url: ",c,"request:",i),f})}ko(n,r,i,o,s,u){return this.Oo(n,r,i,o,s)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qr}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}No(n,r){let i=VA[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){let o=Ad();return new Promise((s,u)=>{let c=new Dd;c.setWithCredentials(!0),c.listenOnce(bd.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ji.NO_ERROR:let f=c.getResponseJson();O(Fe,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Ji.TIMEOUT:O(Fe,`RPC '${e}' ${o} timed out`),u(new F(x.DEADLINE_EXCEEDED,"Request time out"));break;case Ji.HTTP_ERROR:let g=c.getStatus();if(O(Fe,`RPC '${e}' ${o} failed with status:`,g,"response text:",c.getResponseText()),g>0){let I=c.getResponseJson();Array.isArray(I)&&(I=I[0]);let w=I?.error;if(w&&w.status&&w.message){let S=function(R){let k=R.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(k)>=0?k:x.UNKNOWN}(w.status);u(new F(S,w.message))}else u(new F(x.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new F(x.UNAVAILABLE,"Connection failed."));break;default:q()}}finally{O(Fe,`RPC '${e}' ${o} completed.`)}});let h=JSON.stringify(i);O(Fe,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",h,r,15)})}qo(e,n,r){let i=Ad(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Sd(),u=Cd(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Lo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let f=o.join("");O(Fe,`Creating RPC '${e}' stream ${i}: ${f}`,c);let g=s.createWebChannel(f,c),I=!1,w=!1,S=new Oh({Eo:R=>{w?O(Fe,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(I||(O(Fe,`Opening RPC '${e}' stream ${i} transport.`),g.open(),I=!0),O(Fe,`RPC '${e}' stream ${i} sending:`,R),g.send(R))},Ao:()=>g.close()}),M=(R,k,L)=>{R.listen(k,ee=>{try{L(ee)}catch(oe){setTimeout(()=>{throw oe},0)}})};return M(g,Ar.EventType.OPEN,()=>{w||(O(Fe,`RPC '${e}' stream ${i} transport opened.`),S.So())}),M(g,Ar.EventType.CLOSE,()=>{w||(w=!0,O(Fe,`RPC '${e}' stream ${i} transport closed`),S.Do())}),M(g,Ar.EventType.ERROR,R=>{w||(w=!0,Ma(Fe,`RPC '${e}' stream ${i} transport errored:`,R),S.Do(new F(x.UNAVAILABLE,"The operation could not be completed")))}),M(g,Ar.EventType.MESSAGE,R=>{var k;if(!w){let L=R.data[0];ge(!!L);let ee=L,oe=ee?.error||((k=ee[0])===null||k===void 0?void 0:k.error);if(oe){O(Fe,`RPC '${e}' stream ${i} received error:`,oe);let qe=oe.status,se=function(v){let _=me[v];if(_!==void 0)return wA(_)}(qe),E=oe.message;se===void 0&&(se=x.INTERNAL,E="Unknown error status: "+qe+" with message "+oe.message),w=!0,S.Do(new F(se,E)),g.close()}else O(Fe,`RPC '${e}' stream ${i} received:`,L),S.vo(L)}}),M(u,Td.STAT_EVENT,R=>{R.stat===Da.PROXY?O(Fe,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Da.NOPROXY&&O(Fe,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.bo()},0),S}};function xd(){return typeof document<"u"?document:null}function eu(t){return new sh(t,!0)}var qa=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();let n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&O("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}};var Fh=class{constructor(e,n,r,i,o,s,u,c){this.li=e,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new qa(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}stop(){return P(this,null,function*(){this.i_()&&(yield this.close(0))})}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}u_(){return P(this,null,function*(){if(this.s_())return this.close(0)})}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}close(e,n){return P(this,null,function*(){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(zn(n.toString()),zn("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.po(n)})}P_(){}auth(){this.state=1;let e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{let i=new F(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){let r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(()=>P(this,null,function*(){this.state=0,this.start()}))}E_(e){return O("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(O("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var Lh=class extends Fh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return ge(!!e.streamToken),this.lastStreamToken=e.streamToken,ge(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();let n=AA(e.writeResults,e.commitTime),r=Rr(e.commitTime);return this.listener.y_(r,n)}w_(){let e={};e.database=TA(this.serializer),this.c_(e)}g_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>SA(this.serializer,r))};this.c_(n)}};var Vh=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new F(x.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Oo(e,uh(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(x.UNKNOWN,o.toString())})}ko(e,n,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.ko(e,uh(n,r),i,s,u,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(x.UNKNOWN,s.toString())})}terminate(){this.S_=!0,this.connection.terminate()}},jh=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(zn(n),this.C_=!1):O("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}};var Bh=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(s=>{r.enqueueAndForget(()=>P(this,null,function*(){fo(this)&&(O("RemoteStore","Restarting streams for network reachability change."),yield function(c){return P(this,null,function*(){let h=ce(c);h.k_.add(4),yield ho(h),h.K_.set("Unknown"),h.k_.delete(4),yield tu(h)})}(this))}))}),this.K_=new jh(r,i)}};function tu(t){return P(this,null,function*(){if(fo(t))for(let e of t.q_)yield e(!0)})}function ho(t){return P(this,null,function*(){for(let e of t.q_)yield e(!1)})}function fo(t){return ce(t).k_.size===0}function q_(t,e,n){return P(this,null,function*(){if(!lo(e))throw e;t.k_.add(1),yield ho(t),t.K_.set("Offline"),n||(n=()=>FA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>P(this,null,function*(){O("RemoteStore","Retrying IndexedDB access"),yield n(),t.k_.delete(1),yield tu(t)}))})}function z_(t,e){return e().catch(n=>q_(t,n,e))}function nu(t){return P(this,null,function*(){let e=ce(t),n=fn(e),r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;jA(e);)try{let i=yield LA(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,BA(e,i)}catch(i){yield q_(e,i)}G_(e)&&W_(e)})}function jA(t){return fo(t)&&t.L_.length<10}function BA(t,e){t.L_.push(e);let n=fn(t);n.s_()&&n.f_&&n.g_(e.mutations)}function G_(t){return fo(t)&&!fn(t).i_()&&t.L_.length>0}function W_(t){fn(t).start()}function UA(t){return P(this,null,function*(){fn(t).w_()})}function $A(t){return P(this,null,function*(){let e=fn(t);for(let n of t.L_)e.g_(n.mutations)})}function HA(t,e,n){return P(this,null,function*(){let r=t.L_.shift(),i=ih.from(r,e,n);yield z_(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield nu(t)})}function qA(t,e){return P(this,null,function*(){e&&fn(t).f_&&(yield function(r,i){return P(this,null,function*(){if(function(s){return _A(s)&&s!==x.ABORTED}(i.code)){let o=r.L_.shift();fn(r).__(),yield z_(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield nu(r)}})}(t,e)),G_(t)&&W_(t)})}function d_(t,e){return P(this,null,function*(){let n=ce(t);n.asyncQueue.verifyOperationInProgress(),O("RemoteStore","RemoteStore received new credentials");let r=fo(n);n.k_.add(3),yield ho(n),r&&n.K_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),yield tu(n)})}function zA(t,e){return P(this,null,function*(){let n=ce(t);e?(n.k_.delete(2),yield tu(n)):e||(n.k_.add(2),yield ho(n),n.K_.set("Unknown"))})}function fn(t){return t.G_||(t.G_=function(n,r,i){let o=ce(n);return o.b_(),new Lh(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:UA.bind(null,t),po:qA.bind(null,t),p_:$A.bind(null,t),y_:HA.bind(null,t)}),t.q_.push(e=>P(this,null,function*(){e?(t.G_.__(),yield nu(t)):(yield t.G_.stop(),t.L_.length>0&&(O("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))}))),t.G_}var Uh=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ft,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,u=new t(e,n,s,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function K_(t,e){if(zn("AsyncQueue",`${e}: ${t}`),lo(t))return new F(x.UNAVAILABLE,`${e}: ${t}`);throw t}var $h=class{constructor(){this.queries=h_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){let i=ce(n),o=i.queries;i.queries=h_(),o.forEach((s,u)=>{for(let c of u.J_)c.onError(r)})})(this,new F(x.ABORTED,"Firestore shutting down"))}};function h_(){return new jt(t=>M_(t),x_)}function GA(t){t.X_.forEach(e=>{e.next()})}var f_,p_;(p_=f_||(f_={})).na="default",p_.Cache="cache";var Hh=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ma={},this.xa=new jt(u=>M_(u),x_),this.Oa=new Map,this.Na=new Set,this.La=new nt(z.comparator),this.Ba=new Map,this.ka=new ao,this.qa={},this.Qa=new Map,this.Ka=so.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}};function WA(t,e,n){return P(this,null,function*(){let r=ZA(t);try{let i=yield function(s,u){let c=ce(s),h=Ve.now(),f=u.reduce((w,S)=>w.add(S.key),Le()),g,I;return c.persistence.runTransaction("Locally write mutations","readwrite",w=>{let S=La(),M=Le();return c.hs.getEntries(w,f).next(R=>{S=R,S.forEach((k,L)=>{L.isValidDocument()||(M=M.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(w,S)).next(R=>{g=R;let k=[];for(let L of u){let ee=vA(L,g.get(L.key).overlayedDocument);ee!=null&&k.push(new Bt(L.key,ee,D_(ee.value.mapValue),Hn.exists(!0)))}return c.mutationQueue.addMutationBatch(w,h,k,u)}).next(R=>{I=R;let k=R.applyToLocalDocumentSet(g,M);return c.documentOverlayCache.saveOverlays(w,R.batchId,k)})}).then(()=>({batchId:I.batchId,changes:R_(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,u,c){let h=s.qa[s.currentUser.toKey()];h||(h=new nt(ie)),h=h.insert(u,c),s.qa[s.currentUser.toKey()]=h}(r,i.batchId,n),yield ru(r,i.changes),yield nu(r.remoteStore)}catch(i){let o=K_(i,"Failed to persist write");n.reject(o)}})}function g_(t,e,n){let r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.xa.forEach((o,s)=>{let u=s.view.ea(e);u.snapshot&&i.push(u.snapshot)}),function(s,u){let c=ce(s);c.onlineState=u;let h=!1;c.queries.forEach((f,g)=>{for(let I of g.J_)I.ea(u)&&(h=!0)}),h&&GA(c)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function KA(t,e){return P(this,null,function*(){let n=ce(t),r=e.batch.batchId;try{let i=yield kA(n.localStore,e);Y_(n,r,null),Q_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ru(n,i)}catch(i){yield Jh(i)}})}function QA(t,e,n){return P(this,null,function*(){let r=ce(t);try{let i=yield function(s,u){let c=ce(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return c.mutationQueue.lookupMutationBatch(h,u).next(g=>(ge(g!==null),f=g.keys(),c.mutationQueue.removeMutationBatch(h,g))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,f,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>c.localDocuments.getDocuments(h,f))})}(r.localStore,e);Y_(r,e,n),Q_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ru(r,i)}catch(i){yield Jh(i)}})}function Q_(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function Y_(t,e,n){let r=ce(t),i=r.qa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function ru(t,e,n){return P(this,null,function*(){let r=ce(t),i=[],o=[],s=[];r.xa.isEmpty()||(r.xa.forEach((u,c)=>{s.push(r.Ua(c,e,n).then(h=>{var f;if((h||n)&&r.isPrimaryClient){let g=h?!h.fromCache:(f=n?.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(h){i.push(h);let g=Ah.zi(c.targetId,h);o.push(g)}}))}),yield Promise.all(s),r.Ma.R_(i),yield function(c,h){return P(this,null,function*(){let f=ce(c);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>A.forEach(h,I=>A.forEach(I.Wi,w=>f.persistence.referenceDelegate.addReference(g,I.targetId,w)).next(()=>A.forEach(I.Gi,w=>f.persistence.referenceDelegate.removeReference(g,I.targetId,w)))))}catch(g){if(!lo(g))throw g;O("LocalStore","Failed to update sequence numbers: "+g)}for(let g of h){let I=g.targetId;if(!g.fromCache){let w=f.us.get(I),S=w.snapshotVersion,M=w.withLastLimboFreeSnapshotVersion(S);f.us=f.us.insert(I,M)}}})}(r.localStore,o))})}function YA(t,e){return P(this,null,function*(){let n=ce(t);if(!n.currentUser.isEqual(e)){O("SyncEngine","User change. New user:",e.toKey());let r=yield H_(n.localStore,e);n.currentUser=e,function(o,s){o.Qa.forEach(u=>{u.forEach(c=>{c.reject(new F(x.CANCELLED,s))})}),o.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ru(n,r.Ts)}})}function ZA(t){let e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QA.bind(null,e),e}var Z_=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return P(this,null,function*(){this.serializer=eu(n.databaseInfo.databaseId),this.sharedClientState=this.za(n),this.persistence=this.ja(n),yield this.persistence.start(),this.localStore=this.Ha(n),this.gcScheduler=this.Ja(n,this.localStore),this.indexBackfillerScheduler=this.Ya(n,this.localStore)})}Ja(n,r){return null}Ya(n,r){return null}Ha(n){return OA(this.persistence,new Mh,n.initialUser,this.serializer)}ja(n){return new Ba(Sh.ei,this.serializer)}za(n){return new Rh}terminate(){return P(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),qh=class extends Z_{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){ge(this.persistence.referenceDelegate instanceof Ua);let r=this.persistence.referenceDelegate.garbageCollector;return new ph(r,e.asyncQueue,n)}ja(e){let n=this.cacheSizeBytes!==void 0?ut.withCacheSize(this.cacheSizeBytes):ut.DEFAULT;return new Ba(r=>Ua.ei(r,n),this.serializer)}};var JA=(()=>{class t{initialize(n,r){return P(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>g_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=YA.bind(null,this.syncEngine),yield zA(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new $h}()}createDatastore(n){let r=eu(n.databaseInfo.databaseId),i=function(s){return new kh(s)}(n.databaseInfo);return function(s,u,c,h){return new Vh(s,u,c,h)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,u,c){return new Bh(i,o,s,u,c)}(this.localStore,this.datastore,n.asyncQueue,r=>g_(this.syncEngine,r,0),function(){return Ha.p()?new Ha:new Ph}())}createSyncEngine(n,r){return function(o,s,u,c,h,f,g){let I=new Hh(o,s,u,c,h,f);return g&&(I.$a=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return P(this,null,function*(){var n,r;yield function(o){return P(this,null,function*(){let s=ce(o);O("RemoteStore","RemoteStore shutting down."),s.k_.add(5),yield ho(s),s.Q_.shutdown(),s.K_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var zh=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=De.UNAUTHENTICATED,this.clientId=Ra.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>P(this,null,function*(){O("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(O("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ft;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>P(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=K_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Md(t,e){return P(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),O("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>P(this,null,function*(){r.isEqual(i)||(yield H_(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function m_(t,e){return P(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield XA(t);O("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>d_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>d_(e.remoteStore,i)),t._onlineComponents=e})}function XA(t){return P(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){O("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Md(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ma("Error using user provided cache. Falling back to memory cache: "+n),yield Md(t,new Z_)}}else O("FirestoreClient","Using default OfflineComponentProvider"),yield Md(t,new qh(void 0));return t._offlineComponents})}function ex(t){return P(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(O("FirestoreClient","Using user provided OnlineComponentProvider"),yield m_(t,t._uninitializedComponentsProvider._online)):(O("FirestoreClient","Using default OnlineComponentProvider"),yield m_(t,new JA))),t._onlineComponents})}function tx(t){return ex(t).then(e=>e.syncEngine)}function J_(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var y_=new Map;function nx(t,e,n){if(!n)throw new F(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rx(t,e,n,r){if(e===!0&&r===!0)throw new F(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function v_(t){if(!z.isDocumentKey(t))throw new F(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q()}function Gh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=uf(t);throw new F(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var za=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new F(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new F(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=J_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new F(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new F(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new F(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},uo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new za({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new F(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new za(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Nd;switch(r.type){case"firstParty":return new kd(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return P(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=y_.get(n);r&&(O("ComponentProvider","Removing Datastore"),y_.delete(n),r.terminate())}(this),Promise.resolve()}};function ix(t,e,n,r={}){var i;let o=(t=Gh(t,uo))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let u,c;if(typeof r.mockUserToken=="string")u=r.mockUserToken,c=De.MOCK_USER;else{u=Tv(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new F(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new De(h)}t._authCredentials=new Rd(new Na(u,c))}}var Wh=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Lt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},co=class t extends Wh{constructor(e,n,r){super(e,n,rA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function WF(t,e,...n){if(t=Qi(t),arguments.length===1&&(e=Ra.newId()),nx("doc","path",e),t instanceof uo){let r=be.fromString(e,...n);return v_(r),new Lt(t,null,new z(r))}{if(!(t instanceof Lt||t instanceof co))throw new F(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(be.fromString(e,...n));return v_(r),new Lt(t.firestore,t instanceof co?t.converter:null,new z(r))}}var Ga=class{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new qa(this,"async_queue_retry"),this.fu=()=>{let r=xd();r&&O("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;let n=xd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;let n=xd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});let n=new Ft;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}wu(){return P(this,null,function*(){if(this.Iu.length!==0){try{yield this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!lo(e))throw e;O("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}})}yu(e){let n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;let i=function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(r);throw zn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);let i=Uh.createAndSchedule(this,e,n,r,o=>this.Su(o));return this.du.push(i),i}pu(){this.Au&&q()}verifyOperationInProgress(){}bu(){return P(this,null,function*(){let e;do e=this.gu,yield e;while(e!==this.gu)})}Du(e){for(let n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){let n=this.du.indexOf(e);this.du.splice(n,1)}};var Wa=class extends uo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Ga,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return P(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Ga(e),this._firestoreClient=void 0,yield e}})}};function X_(t,e){let n=typeof t=="object"?t:Hv(),r=typeof t=="string"?t:e||"(default)",i=Uv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=bv("firestore");o&&ix(i,...o)}return i}function ox(t){if(t._terminated)throw new F(x.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sx(t),t._firestoreClient}function sx(t){var e,n,r;let i=t._freezeSettings(),o=function(u,c,h,f){return new Ud(u,c,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,J_(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new zh(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(u){let c=u?._online.build();return{_offline:u?._offline.build(c),_online:c}}(t._componentsProvider))}var Ka=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Vt.fromBase64String(e))}catch(n){throw new F(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Qa=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ya=class{constructor(e){this._methodName=e}};var Za=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}};var Ja=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var ax=/^__.*__$/,Kh=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bt(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zn(e,this.data,n,this.fieldTransforms)}};function ew(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q()}}var Qh=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Xa(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(ew(this.Mu)&&ax.test(e))throw this.qu('Document fields cannot begin and end with "__"')}},Yh=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||eu(e)}$u(e,n,r,i=!1){return new Qh({Mu:e,methodName:n,Ku:r,path:tt.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ux(t){let e=t._freezeSettings(),n=eu(t._databaseId);return new Yh(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cx(t,e,n,r,i,o={}){let s=t.$u(o.merge||o.mergeFields?2:0,e,n,i);iw("Data must be an object, but it was:",s,r);let u=nw(r,s),c,h;if(o.merge)c=new _t(s.fieldMask),h=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let g of o.mergeFields){let I=lx(e,g,n);if(!s.contains(I))throw new F(x.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);fx(f,I)||f.push(I)}c=new _t(f),h=s.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,h=s.fieldTransforms;return new Kh(new vt(u),c,h)}function tw(t,e){if(rw(t=Qi(t)))return iw("Unsupported field value:",e,t),nw(t,e);if(t instanceof Ya)return function(r,i){if(!ew(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let u of r){let c=tw(u,i.ku(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Qi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fA(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ve.fromDate(r);return{timestampValue:ah(i.serializer,o)}}if(r instanceof Ve){let o=new Ve(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ah(i.serializer,o)}}if(r instanceof Za)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ka)return{bytesValue:IA(i.serializer,r._byteString)};if(r instanceof Lt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.qu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:U_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ja)return function(s,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw u.qu("VectorValues must only contain numeric values.");return af(u.serializer,c)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${uf(r)}`)}(t,e)}function nw(t,e){let n={};return w_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zr(t,(r,i)=>{let o=tw(i,e.Ou(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function rw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ve||t instanceof Za||t instanceof Ka||t instanceof Lt||t instanceof Ya||t instanceof Ja)}function iw(t,e,n){if(!rw(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=uf(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function lx(t,e,n){if((e=Qi(e))instanceof Qa)return e._internalPath;if(typeof e=="string")return hx(t,e);throw Xa("Field path arguments must be of type string or ",t,!1,void 0,n)}var dx=new RegExp("[~\\*/\\[\\]]");function hx(t,e,n){if(e.search(dx)>=0)throw Xa(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qa(...e.split("."))._internalPath}catch{throw Xa(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xa(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new F(x.INVALID_ARGUMENT,u+t+c)}function fx(t,e){return t.some(n=>n.isEqual(e))}function px(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function KF(t,e,n){t=Gh(t,Lt);let r=Gh(t.firestore,Wa),i=px(t.converter,e,n);return gx(r,[cx(ux(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Hn.none())])}function gx(t,e){return function(r,i){let o=new Ft;return r.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return WA(yield tx(r),i,o)})),o.promise}(ox(t),e)}(function(e,n=!0){(function(i){qr=i})($v),Yi(new Pt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),u=new Wa(new Pd(r.getProvider("auth-internal")),new Ld(r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new F(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $d(h.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),ln(Qv,"4.7.5",e),ln(Qv,"4.7.5","esm2017")})();var mx={apiKey:"AIzaSyDoV-amL0W3zpSGUpST9cqLabxDIei_n74",authDomain:"it-outsource-company.firebaseapp.com",projectId:"it-outsource-company",storageBucket:"it-outsource-company.firebasestorage.app",messagingSenderId:"904790574202",appId:"1:904790574202:web:18db937ea0873e02dce7c3"},yx=Id(mx),tL=X_(yx);export{$e as a,rt as b,vx as c,P as d,we as e,Xw as f,$u as g,Hu as h,it as i,mi as j,yi as k,Gt as l,ar as m,cI as n,In as o,En as p,ot as q,yI as r,Dn as s,bn as t,ss as u,zu as v,vi as w,eg as x,Gu as y,_i as z,Wt as A,_I as B,ng as C,rg as D,Wu as E,II as F,EI as G,DI as H,cs as I,bI as J,og as K,J as L,zg as M,ne as N,Wg as O,wO as P,X as Q,K as R,de as S,H as T,bi as U,IO as V,am as W,ki as X,fl as Y,mm as Z,Jt as _,EO as $,yl as aa,DO as ba,bO as ca,oa as da,vr as ea,Fi as fa,Ie as ga,Ke as ha,On as ia,Nt as ja,TO as ka,CO as la,OD as ma,ay as na,SO as oa,AO as pa,Ai as qa,xO as ra,Ze as sa,Vs as ta,ha as ua,ji as va,PO as wa,xT as xa,qc as ya,kT as za,jT as Aa,YT as Ba,ZT as Ca,OO as Da,kO as Ea,FO as Fa,LO as Ga,Qy as Ha,Yy as Ia,h0 as Ja,g0 as Ka,VO as La,w0 as Ma,jO as Na,BO as Oa,UO as Pa,$O as Qa,HO as Ra,qO as Sa,zO as Ta,GO as Ua,S0 as Va,Xy as Wa,WO as Xa,KO as Ya,QO as Za,YO as _a,ZO as $a,JO as ab,XO as bb,ek as cb,ql as db,V0 as eb,fa as fb,tk as gb,nk as hb,Bi as ib,rk as jb,ik as kb,nC as lb,oC as mb,Wl as nb,Ok as ob,uv as pb,Zl as qb,cC as rb,kk as sb,Fk as tb,Lk as ub,Vk as vb,jk as wb,pC as xb,Bk as yb,Uk as zb,hv as Ab,kv as Bb,wv as Cb,Xk as Db,eF as Eb,WF as Fb,KF as Gb,mx as Hb,tL as Ib};
